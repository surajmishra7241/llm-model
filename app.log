2025-06-23 18:52:00 - app - INFO - Logging configured successfully
2025-06-23 18:55:37 - app - INFO - Logging configured successfully
2025-06-23 18:56:01 - app - INFO - Logging configured successfully
2025-06-23 18:58:07 - app - INFO - Logging configured successfully
2025-06-23 18:58:07 - app - INFO - Starting application...
2025-06-23 19:03:10 - app - INFO - Logging configured successfully
2025-06-23 19:03:10 - app - INFO - Starting application...
2025-06-23 19:03:15 - app - INFO - Logging configured successfully
2025-06-23 19:03:15 - app - INFO - Starting application...
2025-06-23 19:03:59 - app - INFO - Logging configured successfully
2025-06-23 19:06:17 - app - INFO - Logging configured successfully
2025-06-23 19:06:17 - app - INFO - Starting application...
2025-06-23 19:06:17 - app.services.cache - ERROR - Redis connection error: Error 61 connecting to localhost:6379. Connection refused.
2025-06-23 19:06:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-23 19:06:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-23 19:06:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-23 19:06:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-23 19:06:38 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-23 19:06:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-06-23 19:07:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-23 19:07:02 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-23 19:07:02 - app.services.training_service - INFO - Created job 2b0446fc-bf16-4098-bd21-cd6dddfc6a43 with 1 training items
2025-06-23 19:07:02 - app.routers.training - INFO - Created enhanced job: 2b0446fc-bf16-4098-bd21-cd6dddfc6a43 for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-23 19:07:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-23 19:07:02 - app.services.training_service - INFO - Starting training pipeline for job 2b0446fc-bf16-4098-bd21-cd6dddfc6a43
2025-06-23 19:07:03 - app.services.training_service - INFO - Training completed for job 2b0446fc-bf16-4098-bd21-cd6dddfc6a43 with 3 chunks
2025-06-23 19:07:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-06-23 19:07:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-06-23 19:14:51 - app - INFO - Shutting down application...
2025-06-23 19:14:53 - app - INFO - Logging configured successfully
2025-06-23 19:18:12 - app - INFO - Logging configured successfully
2025-06-23 19:18:27 - app - INFO - Logging configured successfully
2025-06-23 19:18:55 - app - INFO - Logging configured successfully
2025-06-23 19:18:55 - app - INFO - Starting application...
2025-06-23 19:18:55 - app.services.cache - ERROR - Redis connection error: Error 61 connecting to localhost:6379. Connection refused.
2025-06-23 19:19:08 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-06-23 19:19:08 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-06-23 19:19:18 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-23 19:19:18 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-06-23 19:19:21 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d027341a-b259-4245-a982-0a0d39c2b795
2025-06-23 19:19:21 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d027341a-b259-4245-a982-0a0d39c2b795 - Status: 401
2025-06-23 19:19:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-23 19:19:25 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-23 19:19:25 - app.services.training_service - INFO - Created job af1f88e6-e213-47d3-aad3-05b80aa6ecbc with 1 training items
2025-06-23 19:19:25 - app.routers.training - INFO - Created enhanced job: af1f88e6-e213-47d3-aad3-05b80aa6ecbc for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-23 19:19:25 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-23 19:19:25 - app.services.training_service - INFO - Starting training pipeline for job af1f88e6-e213-47d3-aad3-05b80aa6ecbc
2025-06-23 19:19:26 - app.services.training_service - INFO - Training completed for job af1f88e6-e213-47d3-aad3-05b80aa6ecbc with 3 chunks
2025-06-23 19:20:12 - app - INFO - Shutting down application...
2025-06-23 19:23:52 - app - INFO - Logging configured successfully
2025-06-23 19:23:52 - app - INFO - Starting application...
2025-06-23 19:23:52 - app.services.cache - ERROR - Redis connection error: Error 61 connecting to localhost:6379. Connection refused.
2025-06-23 19:24:09 - app - INFO - Shutting down application...
2025-06-23 19:24:12 - app - INFO - Logging configured successfully
2025-06-23 19:24:12 - app - INFO - Starting application...
2025-06-23 19:24:12 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 19:24:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-23 19:24:19 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-23 19:24:19 - app.services.training_service - INFO - Created job 70f48392-6532-468e-8e0c-09820df5d1e4 with 1 training items
2025-06-23 19:24:19 - app.routers.training - INFO - Created enhanced job: 70f48392-6532-468e-8e0c-09820df5d1e4 for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-23 19:24:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-23 19:24:19 - app.services.training_service - INFO - Starting training pipeline for job 70f48392-6532-468e-8e0c-09820df5d1e4
2025-06-23 19:24:19 - app.services.training_service - INFO - Training completed for job 70f48392-6532-468e-8e0c-09820df5d1e4 with 3 chunks
2025-06-23 19:24:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/training
2025-06-23 19:24:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/training - Status: 404
2025-06-23 19:24:32 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-23 19:24:32 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-06-23 19:24:37 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-23 19:24:37 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-23 19:24:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-23 19:24:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-23 19:52:04 - app - INFO - Shutting down application...
2025-06-23 19:52:54 - app - INFO - Logging configured successfully
2025-06-23 19:53:58 - app - INFO - Logging configured successfully
2025-06-23 19:54:15 - app - INFO - Logging configured successfully
2025-06-23 19:54:16 - app - INFO - Starting application...
2025-06-23 19:54:16 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 19:54:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-23 19:54:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-23 19:54:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 19:54:35 - app - INFO - ChromaDB client initialized successfully
2025-06-23 19:54:35 - app - ERROR - RAG query failed: asyncio.run() cannot be called from a running event loop
2025-06-23 19:54:35 - app.routers.rag - ERROR - Query failed: asyncio.run() cannot be called from a running event loop
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 95, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/cache_decorator.py", line 19, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 113, in query
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 311, in query
    valid_query_embeddings = self._embed(input=valid_query_texts)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 587, in _embed
    return self._embedding_function(input=input)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 31, in __call__
    return asyncio.run(self.__call_async(input))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 186, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
2025-06-23 19:54:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 19:55:19 - app - INFO - Shutting down application...
2025-06-23 19:55:21 - app - INFO - Logging configured successfully
2025-06-23 19:55:21 - app - INFO - Starting application...
2025-06-23 19:55:21 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 19:55:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 19:55:25 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 19:55:37 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-23 19:56:01 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 19:56:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 401
2025-06-23 19:56:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 19:56:05 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 19:56:05 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 19:56:05 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 19:56:05 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 19:56:05 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 19:56:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-23 19:56:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-06-23 19:56:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-06-23 19:56:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-23 19:56:17 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 550e8400-e29b-41d4-a716-446
2025-06-23 19:56:17 - app.services.training_service - INFO - Created job 9d1dec52-924a-4301-af95-2dd7743b1d74 with 2 training items
2025-06-23 19:56:17 - app.routers.training - INFO - Created enhanced job: 9d1dec52-924a-4301-af95-2dd7743b1d74 for user: nodejs_service, agent: 550e8400-e29b-41d4-a716-446
2025-06-23 19:56:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-23 19:56:17 - app.services.training_service - INFO - Starting training pipeline for job 9d1dec52-924a-4301-af95-2dd7743b1d74
2025-06-23 19:56:18 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data1.json: 404 Client Error: Not Found for url: https://example.com/data1.json
2025-06-23 19:56:19 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data2.json: 404 Client Error: Not Found for url: https://example.com/data2.json
2025-06-23 19:56:19 - app.services.training_service - INFO - Training completed for job 9d1dec52-924a-4301-af95-2dd7743b1d74 with 0 chunks
2025-06-23 19:56:22 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-23 19:56:22 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-23 19:56:22 - app.services.training_service - INFO - Created job ab297409-d3a5-4ca6-9b9c-f28fb389fa49 with 1 training items
2025-06-23 19:56:22 - app.routers.training - INFO - Created enhanced job: ab297409-d3a5-4ca6-9b9c-f28fb389fa49 for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-23 19:56:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-23 19:56:22 - app.services.training_service - INFO - Starting training pipeline for job ab297409-d3a5-4ca6-9b9c-f28fb389fa49
2025-06-23 19:56:23 - app.services.training_service - INFO - Training completed for job ab297409-d3a5-4ca6-9b9c-f28fb389fa49 with 3 chunks
2025-06-23 19:56:59 - app - INFO - Shutting down application...
2025-06-23 19:57:00 - app - INFO - Logging configured successfully
2025-06-23 19:57:00 - app - INFO - Starting application...
2025-06-23 19:57:00 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 19:58:54 - app - INFO - Shutting down application...
2025-06-23 19:58:55 - app - INFO - Logging configured successfully
2025-06-23 19:58:55 - app - INFO - Starting application...
2025-06-23 19:58:55 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 19:58:56 - app - INFO - Shutting down application...
2025-06-23 19:58:57 - app - INFO - Logging configured successfully
2025-06-23 19:58:57 - app - INFO - Starting application...
2025-06-23 19:58:57 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 19:59:24 - app - INFO - Shutting down application...
2025-06-23 19:59:26 - app - INFO - Logging configured successfully
2025-06-23 19:59:26 - app - INFO - Starting application...
2025-06-23 19:59:26 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 19:59:48 - app - INFO - Shutting down application...
2025-06-23 19:59:58 - app - INFO - Logging configured successfully
2025-06-23 19:59:58 - app - INFO - Starting application...
2025-06-23 19:59:58 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:00:06 - app - INFO - Shutting down application...
2025-06-23 20:00:11 - app - INFO - Logging configured successfully
2025-06-23 20:00:12 - app - INFO - Starting application...
2025-06-23 20:00:12 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:00:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-23 20:00:18 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-23 20:00:18 - app.services.training_service - INFO - Created job 914c1d65-e739-4f3f-9cbb-db23bdc73265 with 1 training items
2025-06-23 20:00:18 - app.routers.training - INFO - Created enhanced job: 914c1d65-e739-4f3f-9cbb-db23bdc73265 for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-23 20:00:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-23 20:00:18 - app.services.training_service - INFO - Starting training pipeline for job 914c1d65-e739-4f3f-9cbb-db23bdc73265
2025-06-23 20:00:19 - app.services.training_service - INFO - Training completed for job 914c1d65-e739-4f3f-9cbb-db23bdc73265 with 3 chunks
2025-06-23 20:00:36 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:00:36 - app - INFO - ChromaDB client initialized successfully
2025-06-23 20:00:36 - app - ERROR - RAG query failed: asyncio.run() cannot be called from a running event loop
2025-06-23 20:00:36 - app.routers.rag - ERROR - Query failed: asyncio.run() cannot be called from a running event loop
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 95, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 19, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 113, in query
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 311, in query
    valid_query_embeddings = self._embed(input=valid_query_texts)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 587, in _embed
    return self._embedding_function(input=input)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 31, in __call__
    return asyncio.run(self.__call_async(input))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 186, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
2025-06-23 20:00:36 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 20:02:08 - app - INFO - Shutting down application...
2025-06-23 20:02:10 - app - INFO - Logging configured successfully
2025-06-23 20:02:10 - app - INFO - Starting application...
2025-06-23 20:02:10 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:02:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:02:12 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 20:02:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-23 20:04:15 - app - INFO - Shutting down application...
2025-06-23 20:04:24 - app - INFO - Logging configured successfully
2025-06-23 20:04:25 - app - INFO - Starting application...
2025-06-23 20:04:25 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:05:05 - app - INFO - Shutting down application...
2025-06-23 20:05:06 - app - INFO - Logging configured successfully
2025-06-23 20:05:07 - app - INFO - Starting application...
2025-06-23 20:05:07 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:05:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:05:10 - app - INFO - ChromaDB client initialized successfully
2025-06-23 20:05:10 - app - ERROR - RAG query failed: Cannot run the event loop while another loop is running
2025-06-23 20:05:10 - app.routers.rag - ERROR - Query failed: Cannot run the event loop while another loop is running
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 95, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 19, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 119, in query
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 311, in query
    valid_query_embeddings = self._embed(input=valid_query_texts)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 587, in _embed
    return self._embedding_function(input=input)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 35, in __call__
    return loop.run_until_complete(self.embed(input))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1512, in uvloop.loop.Loop.run_until_complete
  File "uvloop/loop.pyx", line 1505, in uvloop.loop.Loop.run_until_complete
  File "uvloop/loop.pyx", line 1379, in uvloop.loop.Loop.run_forever
  File "uvloop/loop.pyx", line 524, in uvloop.loop.Loop._run
RuntimeError: Cannot run the event loop while another loop is running
2025-06-23 20:05:10 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 20:05:46 - app - INFO - Shutting down application...
2025-06-23 20:05:47 - app - INFO - Logging configured successfully
2025-06-23 20:05:47 - app - INFO - Starting application...
2025-06-23 20:05:47 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:05:50 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:05:50 - app - INFO - ChromaDB client initialized successfully
2025-06-23 20:05:50 - app - ERROR - RAG query failed: asyncio.run() cannot be called from a running event loop
2025-06-23 20:05:50 - app.routers.rag - ERROR - Query failed: asyncio.run() cannot be called from a running event loop
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 37, in __call__
    return loop.run_until_complete(self.__call_async(input))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1512, in uvloop.loop.Loop.run_until_complete
  File "uvloop/loop.pyx", line 1505, in uvloop.loop.Loop.run_until_complete
  File "uvloop/loop.pyx", line 1379, in uvloop.loop.Loop.run_forever
  File "uvloop/loop.pyx", line 520, in uvloop.loop.Loop._run
RuntimeError: this event loop is already running.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 95, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 19, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in query
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 311, in query
    valid_query_embeddings = self._embed(input=valid_query_texts)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 587, in _embed
    return self._embedding_function(input=input)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 40, in __call__
    return asyncio.run(self.__call_async(input))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 186, in run
    raise RuntimeError(
RuntimeError: asyncio.run() cannot be called from a running event loop
2025-06-23 20:05:50 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 20:06:20 - app - INFO - Shutting down application...
2025-06-23 20:06:22 - app - INFO - Logging configured successfully
2025-06-23 20:06:22 - app - INFO - Starting application...
2025-06-23 20:06:22 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:06:23 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:06:23 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 20:06:36 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-23 20:23:51 - app - INFO - Shutting down application...
2025-06-23 20:24:49 - app - INFO - Logging configured successfully
2025-06-23 20:24:50 - app - INFO - Starting application...
2025-06-23 20:24:50 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:24:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:24:52 - app - INFO - ChromaDB client initialized successfully
2025-06-23 20:24:53 - app - ERROR - RAG query failed: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 20:24:53 - app.routers.rag - ERROR - Query failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 95, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 19, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 117, in query
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 330, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 657, in _query
    self._validate_dimension(coll, len(embedding), update=False)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 20:24:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 20:25:07 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 20:25:07 - app - INFO - ChromaDB client initialized successfully
2025-06-23 20:25:09 - app - ERROR - Document ingestion failed: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 20:25:09 - app.routers.rag - ERROR - Document upload failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 19, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 91, in ingest_document
    self.collection.add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 161, in add
    self._client._add(ids, self.id, embeddings, metadatas, documents, uris)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 358, in _add
    self._validate_embedding_record(coll, r)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 782, in _validate_embedding_record
    self._validate_dimension(collection, len(record["embedding"]), update=True)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 20:25:09 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-23 20:47:28 - app - INFO - Shutting down application...
2025-06-23 20:47:29 - app - INFO - Logging configured successfully
2025-06-23 20:47:30 - app - INFO - Starting application...
2025-06-23 20:47:30 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:47:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 20:47:33 - app - INFO - ChromaDB client initialized successfully
2025-06-23 20:47:35 - app - ERROR - Document ingestion failed: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 20:47:35 - app.routers.rag - ERROR - Document upload failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 19, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 96, in ingest_document
    self.collection.add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 161, in add
    self._client._add(ids, self.id, embeddings, metadatas, documents, uris)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 358, in _add
    self._validate_embedding_record(coll, r)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 782, in _validate_embedding_record
    self._validate_dimension(collection, len(record["embedding"]), update=True)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 20:47:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-23 20:48:07 - app - INFO - Shutting down application...
2025-06-23 20:48:08 - app - INFO - Logging configured successfully
2025-06-23 20:48:08 - app - INFO - Starting application...
2025-06-23 20:48:08 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:48:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 20:48:11 - app - INFO - Deleted existing collection
2025-06-23 20:48:11 - app - ERROR - ChromaDB initialization failed: 'AsyncOllamaEmbeddingFunction' object has no attribute 'create_embeddings'
2025-06-23 20:48:11 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/upload - Error: 'AsyncOllamaEmbeddingFunction' object has no attribute 'create_embeddings'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 43, in __init__
    self._initialize_client()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 67, in _initialize_client
    test_embed = asyncio.run(self.embedding_fn.create_embeddings(["test"]))[0]
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AsyncOllamaEmbeddingFunction' object has no attribute 'create_embeddings'
2025-06-23 20:48:50 - app - INFO - Shutting down application...
2025-06-23 20:48:52 - app - INFO - Logging configured successfully
2025-06-23 20:48:52 - app - INFO - Starting application...
2025-06-23 20:48:52 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:56:44 - app - INFO - Shutting down application...
2025-06-23 20:59:16 - app - INFO - Logging configured successfully
2025-06-23 20:59:16 - app - INFO - Starting application...
2025-06-23 20:59:16 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 20:59:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:59:21 - app.routers.rag - ERROR - Query failed: 'query_hash'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 164, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 14, in wrapper
    cache_key = key_pattern.format(*args, **kwargs)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'query_hash'
2025-06-23 20:59:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 20:59:23 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 20:59:23 - app.routers.rag - ERROR - Query failed: 'query_hash'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 164, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 14, in wrapper
    cache_key = key_pattern.format(*args, **kwargs)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'query_hash'
2025-06-23 20:59:23 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:02:58 - app - INFO - Shutting down application...
2025-06-23 21:03:00 - app - INFO - Logging configured successfully
2025-06-23 21:03:00 - app - INFO - Starting application...
2025-06-23 21:03:00 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:03:03 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:03:04 - app.services.rag_service - ERROR - RAG query failed: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:03:04 - app.services.rag_service - ERROR - RAG query failed: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:03:04 - app.routers.rag - ERROR - Query failed: run_in_executor() got an unexpected keyword argument 'query_texts'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 48, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 218, in query
    results = await self._run_sync_in_thread(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _run_sync_in_thread
    return await loop.run_in_executor(self.executor, func, *args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 2733, in uvloop.loop.Loop.run_in_executor
TypeError: run_in_executor() got an unexpected keyword argument 'query_texts'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 164, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 54, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 218, in query
    results = await self._run_sync_in_thread(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _run_sync_in_thread
    return await loop.run_in_executor(self.executor, func, *args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 2733, in uvloop.loop.Loop.run_in_executor
TypeError: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:03:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:04:45 - app - INFO - Shutting down application...
2025-06-23 21:04:47 - app - INFO - Logging configured successfully
2025-06-23 21:04:47 - app - INFO - Starting application...
2025-06-23 21:04:47 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:05:07 - app - INFO - Shutting down application...
2025-06-23 21:05:09 - app - INFO - Logging configured successfully
2025-06-23 21:05:09 - app - INFO - Starting application...
2025-06-23 21:05:09 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:06:28 - app - INFO - Shutting down application...
2025-06-23 21:06:28 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:06:29 - app - INFO - Logging configured successfully
2025-06-23 21:06:29 - app - INFO - Starting application...
2025-06-23 21:06:29 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:06:32 - app - INFO - Shutting down application...
2025-06-23 21:06:32 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:06:34 - app - INFO - Logging configured successfully
2025-06-23 21:06:34 - app - INFO - Starting application...
2025-06-23 21:06:34 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:06:46 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:06:46 - app.services.rag_service - INFO - AsyncRAGService initialized successfully
2025-06-23 21:06:46 - app.services.rag_service - INFO - Processing RAG query for user nodejs_service: Is this resume is job ready??...
2025-06-23 21:06:46 - app.services.rag_service - ERROR - RAG query failed for user nodejs_service: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:06:46 - app.services.rag_service - INFO - Processing RAG query for user nodejs_service: Is this resume is job ready??...
2025-06-23 21:06:46 - app.services.rag_service - ERROR - RAG query failed for user nodejs_service: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:06:46 - app.routers.rag - ERROR - Query failed: run_in_executor() got an unexpected keyword argument 'query_texts'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 48, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 169, in query
    results = await self._run_sync_in_thread(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 104, in _run_sync_in_thread
    return await loop.run_in_executor(self.executor, func, *args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 2733, in uvloop.loop.Loop.run_in_executor
TypeError: run_in_executor() got an unexpected keyword argument 'query_texts'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 164, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 54, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 169, in query
    results = await self._run_sync_in_thread(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 104, in _run_sync_in_thread
    return await loop.run_in_executor(self.executor, func, *args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 2733, in uvloop.loop.Loop.run_in_executor
TypeError: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:06:46 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:06:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:06:47 - app.services.rag_service - INFO - AsyncRAGService initialized successfully
2025-06-23 21:06:47 - app.services.rag_service - INFO - Processing RAG query for user nodejs_service: Is this resume is job ready??...
2025-06-23 21:06:47 - app.services.rag_service - ERROR - RAG query failed for user nodejs_service: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:06:47 - app.services.rag_service - INFO - Processing RAG query for user nodejs_service: Is this resume is job ready??...
2025-06-23 21:06:47 - app.services.rag_service - ERROR - RAG query failed for user nodejs_service: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:06:47 - app.routers.rag - ERROR - Query failed: run_in_executor() got an unexpected keyword argument 'query_texts'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 48, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 169, in query
    results = await self._run_sync_in_thread(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 104, in _run_sync_in_thread
    return await loop.run_in_executor(self.executor, func, *args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 2733, in uvloop.loop.Loop.run_in_executor
TypeError: run_in_executor() got an unexpected keyword argument 'query_texts'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 164, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/cache_decorator.py", line 54, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 169, in query
    results = await self._run_sync_in_thread(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 104, in _run_sync_in_thread
    return await loop.run_in_executor(self.executor, func, *args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 2733, in uvloop.loop.Loop.run_in_executor
TypeError: run_in_executor() got an unexpected keyword argument 'query_texts'
2025-06-23 21:06:47 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:07:29 - app - INFO - Shutting down application...
2025-06-23 21:07:29 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:08:06 - app - INFO - Logging configured successfully
2025-06-23 21:08:06 - app - INFO - Starting application...
2025-06-23 21:08:06 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:08:29 - app - INFO - Shutting down application...
2025-06-23 21:08:29 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:08:30 - app - INFO - Logging configured successfully
2025-06-23 21:08:30 - app - INFO - Starting application...
2025-06-23 21:08:30 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:09:43 - app - INFO - Shutting down application...
2025-06-23 21:09:43 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:09:44 - app - INFO - Logging configured successfully
2025-06-23 21:09:44 - app - INFO - Starting application...
2025-06-23 21:09:44 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:10:37 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:10:37 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 21:10:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-23 21:11:08 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-23 21:11:08 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-23 21:11:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 21:11:14 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 21:11:14 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 21:11:14 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 21:11:14 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 21:11:14 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 21:11:14 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-23 21:20:04 - app - INFO - Shutting down application...
2025-06-23 21:20:04 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:20:06 - app - INFO - Logging configured successfully
2025-06-23 21:20:06 - app - INFO - Starting application...
2025-06-23 21:20:06 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:20:09 - app - INFO - Shutting down application...
2025-06-23 21:20:09 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:20:10 - app - INFO - Logging configured successfully
2025-06-23 21:20:10 - app - INFO - Starting application...
2025-06-23 21:20:10 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:20:40 - app - INFO - Shutting down application...
2025-06-23 21:20:40 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:20:41 - app - INFO - Logging configured successfully
2025-06-23 21:20:41 - app - INFO - Starting application...
2025-06-23 21:20:41 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:22:36 - app - INFO - Shutting down application...
2025-06-23 21:22:36 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:22:38 - app - INFO - Logging configured successfully
2025-06-23 21:22:38 - app - INFO - Starting application...
2025-06-23 21:22:38 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:22:38 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:22:38 - app - INFO - All services initialized successfully
2025-06-23 21:28:20 - app - INFO - Shutting down application...
2025-06-23 21:28:20 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:28:20 - app - INFO - All services cleaned up successfully
2025-06-23 21:28:21 - app - INFO - Logging configured successfully
2025-06-23 21:28:22 - app - INFO - Starting application...
2025-06-23 21:28:22 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:28:22 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:28:22 - app - INFO - All services initialized successfully
2025-06-23 21:28:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 21:28:24 - app.services.rag_service - ERROR - Async ingest failed: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 64, in ingest_document
    await self.chroma_client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 50, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 52, in <lambda>
    lambda: collection.add(
            ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 147, in add
    embeddings = self._embed(input=documents)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 583, in _embed
    raise ValueError(
ValueError: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
2025-06-23 21:28:24 - app.routers.rag - ERROR - Document upload failed: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 60, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 64, in ingest_document
    await self.chroma_client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 50, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 52, in <lambda>
    lambda: collection.add(
            ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 147, in add
    embeddings = self._embed(input=documents)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 583, in _embed
    raise ValueError(
ValueError: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
2025-06-23 21:28:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-23 21:29:30 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:29:30 - app.services.rag_service - ERROR - Async RAG query failed: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 90, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 63, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 311, in query
    valid_query_embeddings = self._embed(input=valid_query_texts)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 583, in _embed
    raise ValueError(
ValueError: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
2025-06-23 21:29:30 - app.routers.rag - ERROR - Query failed: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 99, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 90, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 63, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 311, in query
    valid_query_embeddings = self._embed(input=valid_query_texts)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 583, in _embed
    raise ValueError(
ValueError: You must provide an embedding function to compute embeddings.https://docs.trychroma.com/embeddings
2025-06-23 21:29:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:33:23 - app - INFO - Shutting down application...
2025-06-23 21:33:23 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:33:23 - app - INFO - All services cleaned up successfully
2025-06-23 21:33:25 - app - INFO - Logging configured successfully
2025-06-23 21:33:25 - app - INFO - Starting application...
2025-06-23 21:33:25 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:33:25 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:33:25 - app - INFO - All services initialized successfully
2025-06-23 21:37:58 - app - INFO - Shutting down application...
2025-06-23 21:37:58 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:37:58 - app - INFO - All services cleaned up successfully
2025-06-23 21:38:00 - app - INFO - Logging configured successfully
2025-06-23 21:38:00 - app - INFO - Starting application...
2025-06-23 21:38:00 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:38:01 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:38:01 - app - INFO - All services initialized successfully
2025-06-23 21:38:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:38:15 - app.services.rag_service - ERROR - Async RAG query failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 68, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 330, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 657, in _query
    self._validate_dimension(coll, len(embedding), update=False)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 21:38:15 - app.routers.rag - ERROR - Query failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 99, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 68, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 330, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 657, in _query
    self._validate_dimension(coll, len(embedding), update=False)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 21:38:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:39:51 - app - INFO - Shutting down application...
2025-06-23 21:39:51 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:39:51 - app - INFO - All services cleaned up successfully
2025-06-23 21:39:54 - app - INFO - Logging configured successfully
2025-06-23 21:39:54 - app - INFO - Starting application...
2025-06-23 21:39:54 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:39:54 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:39:54 - app - INFO - All services initialized successfully
2025-06-23 21:40:30 - app - INFO - Shutting down application...
2025-06-23 21:40:30 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:40:30 - app - INFO - All services cleaned up successfully
2025-06-23 21:40:33 - app - INFO - Logging configured successfully
2025-06-23 21:40:33 - app - INFO - Starting application...
2025-06-23 21:40:33 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:40:33 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:40:33 - app - INFO - All services initialized successfully
2025-06-23 21:40:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:40:39 - app.services.rag_service - ERROR - Async RAG query failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 129, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 68, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 330, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 657, in _query
    self._validate_dimension(coll, len(embedding), update=False)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 21:40:39 - app.routers.rag - ERROR - Query failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 99, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 129, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 68, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 330, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 657, in _query
    self._validate_dimension(coll, len(embedding), update=False)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 21:40:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:41:01 - app - INFO - Shutting down application...
2025-06-23 21:41:01 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:41:01 - app - INFO - All services cleaned up successfully
2025-06-23 21:41:03 - app - INFO - Logging configured successfully
2025-06-23 21:41:06 - app - INFO - Logging configured successfully
2025-06-23 21:41:06 - app - INFO - Starting application...
2025-06-23 21:41:06 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:41:06 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:41:06 - app - INFO - All services initialized successfully
2025-06-23 21:41:38 - app - INFO - Shutting down application...
2025-06-23 21:41:38 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:41:38 - app - INFO - All services cleaned up successfully
2025-06-23 21:41:40 - app - INFO - Logging configured successfully
2025-06-23 21:41:40 - app - INFO - Starting application...
2025-06-23 21:41:40 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:41:40 - app.utils.chroma_async - INFO - ChromaDB client initialized
2025-06-23 21:41:40 - app - INFO - All services initialized successfully
2025-06-23 21:41:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:41:43 - app.services.rag_service - ERROR - Async RAG query failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 68, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 330, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 657, in _query
    self._validate_dimension(coll, len(embedding), update=False)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 21:41:43 - app.routers.rag - ERROR - Query failed: Embedding dimension 1536 does not match collection dimensionality 384
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 99, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in query
    results = await self.chroma_client.query_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in query_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 68, in <lambda>
    lambda: collection.query(
            ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 330, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 657, in _query
    self._validate_dimension(coll, len(embedding), update=False)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 127, in wrapper
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/segment.py", line 797, in _validate_dimension
    raise InvalidDimensionException(
chromadb.errors.InvalidDimensionException: Embedding dimension 1536 does not match collection dimensionality 384
2025-06-23 21:41:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-23 21:41:50 - app - INFO - Shutting down application...
2025-06-23 21:41:50 - app.services.cache - INFO - Redis connection closed
2025-06-23 21:41:50 - app - INFO - All services cleaned up successfully
2025-06-23 21:41:52 - app - INFO - Logging configured successfully
2025-06-23 21:41:52 - app - INFO - Starting application...
2025-06-23 21:41:52 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:41:57 - app - INFO - Logging configured successfully
2025-06-23 21:41:58 - app - INFO - Starting application...
2025-06-23 21:41:58 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:42:09 - app - INFO - Logging configured successfully
2025-06-23 21:42:09 - app - INFO - Starting application...
2025-06-23 21:42:09 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:42:14 - app - INFO - Logging configured successfully
2025-06-23 21:42:14 - app - INFO - Starting application...
2025-06-23 21:42:14 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:42:17 - app - INFO - Logging configured successfully
2025-06-23 21:42:17 - app - INFO - Starting application...
2025-06-23 21:42:17 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:42:58 - app - INFO - Logging configured successfully
2025-06-23 21:42:58 - app - INFO - Starting application...
2025-06-23 21:42:58 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:43:16 - app - INFO - Logging configured successfully
2025-06-23 21:43:16 - app - INFO - Starting application...
2025-06-23 21:43:16 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:43:40 - app - INFO - Logging configured successfully
2025-06-23 21:43:40 - app - INFO - Starting application...
2025-06-23 21:43:40 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:44:32 - app - INFO - Logging configured successfully
2025-06-23 21:44:32 - app - INFO - Starting application...
2025-06-23 21:44:32 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:44:38 - app - INFO - Logging configured successfully
2025-06-23 21:44:38 - app - INFO - Starting application...
2025-06-23 21:44:38 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:45:09 - app - INFO - Logging configured successfully
2025-06-23 21:45:09 - app - INFO - Starting application...
2025-06-23 21:45:09 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:45:29 - app - INFO - Logging configured successfully
2025-06-23 21:45:29 - app - INFO - Starting application...
2025-06-23 21:45:29 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:45:53 - app - INFO - Logging configured successfully
2025-06-23 21:45:53 - app - INFO - Starting application...
2025-06-23 21:45:53 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 21:45:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 21:45:56 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 21:46:08 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-23 22:53:21 - app - INFO - Shutting down application...
2025-06-23 22:53:21 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:53:23 - app - INFO - Logging configured successfully
2025-06-23 22:53:23 - app - INFO - Starting application...
2025-06-23 22:53:23 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 22:53:30 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 22:53:30 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:53:41 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-23 22:53:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 22:53:42 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:53:42 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:53:42 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:53:42 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:53:42 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:53:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-23 22:54:48 - app - INFO - Shutting down application...
2025-06-23 22:54:48 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:54:50 - app - INFO - Logging configured successfully
2025-06-23 22:54:50 - app - INFO - Starting application...
2025-06-23 22:54:50 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 22:54:53 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 22:54:53 - app.routers.rag - ERROR - Document upload failed: name 'settings' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 52, in ingest_document
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 23, in initialize
    self.client_pool = [AsyncChromaClient(
                       ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 24, in <listcomp>
    path=settings.CHROMA_PATH,
         ^^^^^^^^
NameError: name 'settings' is not defined
2025-06-23 22:54:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-23 22:55:15 - app - INFO - Shutting down application...
2025-06-23 22:55:15 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:55:16 - app - INFO - Logging configured successfully
2025-06-23 22:55:16 - app - INFO - Starting application...
2025-06-23 22:55:16 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 22:55:20 - app - INFO - Shutting down application...
2025-06-23 22:55:20 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:55:22 - app - INFO - Logging configured successfully
2025-06-23 22:55:22 - app - INFO - Starting application...
2025-06-23 22:55:22 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 22:55:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 22:55:25 - app.routers.rag - ERROR - Document upload failed: name 'settings' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 52, in ingest_document
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 23, in initialize
    self.client_pool = [AsyncChromaClient(
                       ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 24, in <listcomp>
    path=settings.CHROMA_PATH,
         ^^^^^^^^
NameError: name 'settings' is not defined
2025-06-23 22:55:25 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-23 22:56:46 - app - INFO - Shutting down application...
2025-06-23 22:56:46 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:56:48 - app - INFO - Logging configured successfully
2025-06-23 22:56:48 - app - INFO - Starting application...
2025-06-23 22:56:48 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 22:56:50 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 22:56:50 - app.routers.rag - ERROR - Document upload failed: name 'settings' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 52, in ingest_document
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 23, in initialize
    self.client_pool = [AsyncChromaClient(
                       ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 24, in <listcomp>
    path=settings.CHROMA_PATH,
         ^^^^^^^^
NameError: name 'settings' is not defined
2025-06-23 22:56:50 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-23 22:57:07 - app - INFO - Shutting down application...
2025-06-23 22:57:07 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:57:09 - app - INFO - Logging configured successfully
2025-06-23 22:57:09 - app - INFO - Starting application...
2025-06-23 22:57:09 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 22:57:23 - app - INFO - Shutting down application...
2025-06-23 22:57:23 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:57:25 - app - INFO - Logging configured successfully
2025-06-23 22:57:25 - app - INFO - Starting application...
2025-06-23 22:57:25 - app.services.cache - INFO - Connected to Redis successfully
2025-06-23 22:57:27 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-23 22:57:27 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:57:27 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:57:27 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:57:27 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:57:27 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:57:27 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-23 22:57:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-23 22:57:54 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-23 22:58:11 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-23 22:58:22 - app - INFO - Shutting down application...
2025-06-23 22:58:22 - app.services.cache - INFO - Redis connection closed
2025-06-23 22:58:25 - app - INFO - Logging configured successfully
2025-06-23 22:58:25 - app - INFO - Starting application...
2025-06-23 22:58:25 - app.services.cache - WARNING - Redis connection failed, caching disabled: Error 61 connecting to localhost:6379. Connection refused.
2025-06-23 22:58:27 - app - INFO - Shutting down application...
2025-06-24 21:25:40 - app - INFO - Logging configured successfully
2025-06-24 21:25:40 - app - INFO - Starting application...
2025-06-24 21:25:40 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:25:46 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:46 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:47 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:47 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:47 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:47 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:49 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:49 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:50 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:51 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:51 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:51 - app.middleware.logging_middleware - INFO - Incoming request: GET http://127.0.0.1:8000/docs
2025-06-24 21:25:51 - app.middleware.logging_middleware - INFO - Request completed: GET http://127.0.0.1:8000/docs - Status: 404
2025-06-24 21:25:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 21:26:00 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-24 21:26:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 21:32:27 - app - INFO - Shutting down application...
2025-06-24 21:32:27 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:32:30 - app - INFO - Logging configured successfully
2025-06-24 21:32:30 - app - INFO - Starting application...
2025-06-24 21:32:30 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:35:51 - app - INFO - Shutting down application...
2025-06-24 21:35:51 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:35:53 - app - INFO - Logging configured successfully
2025-06-24 21:35:53 - app - INFO - Starting application...
2025-06-24 21:35:53 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:38:35 - app - INFO - Shutting down application...
2025-06-24 21:38:35 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:42:07 - app - INFO - Logging configured successfully
2025-06-24 21:42:07 - app - INFO - Starting application...
2025-06-24 21:42:07 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:42:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 21:42:12 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-24 21:42:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 21:42:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 21:42:39 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-24 21:42:39 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-24 21:42:39 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-24 21:42:39 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-24 21:42:39 - app.services.rag_service - ERROR - Embedding error: asyncio.run() cannot be called from a running event loop
2025-06-24 21:42:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-24 21:42:52 - app - INFO - Shutting down application...
2025-06-24 21:42:52 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:42:53 - app - INFO - Logging configured successfully
2025-06-24 21:42:53 - app - INFO - Starting application...
2025-06-24 21:42:53 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:43:14 - app - INFO - Shutting down application...
2025-06-24 21:43:14 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:43:16 - app - INFO - Logging configured successfully
2025-06-24 21:43:16 - app - INFO - Starting application...
2025-06-24 21:43:16 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:43:17 - app - INFO - Shutting down application...
2025-06-24 21:43:17 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:43:18 - app - INFO - Logging configured successfully
2025-06-24 21:43:18 - app - INFO - Starting application...
2025-06-24 21:43:18 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:43:23 - app - INFO - Shutting down application...
2025-06-24 21:43:23 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:43:25 - app - INFO - Logging configured successfully
2025-06-24 21:43:25 - app - INFO - Starting application...
2025-06-24 21:43:25 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:50:35 - app - INFO - Shutting down application...
2025-06-24 21:50:35 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:50:36 - app - INFO - Logging configured successfully
2025-06-24 21:50:36 - app - INFO - Starting application...
2025-06-24 21:50:36 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:51:31 - app - INFO - Shutting down application...
2025-06-24 21:51:31 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:51:33 - app - INFO - Logging configured successfully
2025-06-24 21:51:33 - app - INFO - Starting application...
2025-06-24 21:51:33 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 21:58:08 - app - INFO - Shutting down application...
2025-06-24 21:58:08 - app.services.cache - INFO - Redis connection closed
2025-06-24 21:58:53 - app - INFO - Logging configured successfully
2025-06-24 21:58:53 - app - INFO - Starting application...
2025-06-24 21:58:53 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:02:00 - app - INFO - Shutting down application...
2025-06-24 22:02:00 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:02:01 - app - INFO - Logging configured successfully
2025-06-24 22:02:17 - app - INFO - Logging configured successfully
2025-06-24 22:02:17 - app - INFO - Starting application...
2025-06-24 22:02:17 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:02:20 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:02:20 - app.routers.rag - ERROR - Document upload failed: name 'settings' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 61, in ingest_document
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 49, in initialize
    self.client = await get_async_chroma_client()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 203, in get_async_chroma_client
    path=settings.CHROMA_PATH,
         ^^^^^^^^
NameError: name 'settings' is not defined
2025-06-24 22:02:20 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:05:20 - app - INFO - Shutting down application...
2025-06-24 22:05:20 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:06:13 - app - INFO - Logging configured successfully
2025-06-24 22:06:13 - app - INFO - Starting application...
2025-06-24 22:06:13 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:06:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:06:16 - app.routers.rag - ERROR - Document upload failed: 'Settings' object has no attribute 'CHROMA_MAX_WORKERS'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 61, in ingest_document
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 49, in initialize
    self.client = await get_async_chroma_client()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 206, in get_async_chroma_client
    max_workers=settings.CHROMA_MAX_WORKERS
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'CHROMA_MAX_WORKERS'
2025-06-24 22:06:16 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:06:30 - app - INFO - Shutting down application...
2025-06-24 22:06:30 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:07:26 - app - INFO - Logging configured successfully
2025-06-24 22:07:26 - app - INFO - Starting application...
2025-06-24 22:07:26 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:07:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:07:28 - app.services.rag_service - ERROR - Ingest failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 68, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-24 22:07:28 - app.routers.rag - ERROR - Document upload failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 68, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-24 22:07:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:10:24 - app - INFO - Shutting down application...
2025-06-24 22:10:24 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:10:25 - app - INFO - Logging configured successfully
2025-06-24 22:10:25 - app - INFO - Starting application...
2025-06-24 22:10:26 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:11:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:11:47 - app.services.rag_service - ERROR - Ingest failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 68, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-24 22:11:47 - app.routers.rag - ERROR - Document upload failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 68, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-24 22:11:47 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:13:23 - app - INFO - Shutting down application...
2025-06-24 22:13:23 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:13:25 - app - INFO - Logging configured successfully
2025-06-24 22:13:25 - app - INFO - Starting application...
2025-06-24 22:13:25 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:13:27 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:13:30 - app.services.rag_service - ERROR - Ingest failed: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 105, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in get_collection
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 44, in initialize
    self._local.client = await loop.run_in_executor(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/__init__.py", line 137, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 138, in __init__
    super().__init__(settings=settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 41, in __init__
    SharedSystemClient._create_system_if_not_exists(self._identifier, settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 48, in _create_system_if_not_exists
    new_system = System(settings)
                 ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 310, in __init__
    if settings[key] is not None:
       ~~~~~~~~^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 247, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-06-24 22:13:30 - app.routers.rag - ERROR - Document upload failed: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 105, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in get_collection
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 44, in initialize
    self._local.client = await loop.run_in_executor(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/__init__.py", line 137, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 138, in __init__
    super().__init__(settings=settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 41, in __init__
    SharedSystemClient._create_system_if_not_exists(self._identifier, settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 48, in _create_system_if_not_exists
    new_system = System(settings)
                 ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 310, in __init__
    if settings[key] is not None:
       ~~~~~~~~^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 247, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-06-24 22:13:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:13:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:13:49 - app.services.rag_service - ERROR - Ingest failed: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 105, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in get_collection
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 44, in initialize
    self._local.client = await loop.run_in_executor(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/__init__.py", line 137, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 138, in __init__
    super().__init__(settings=settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 41, in __init__
    SharedSystemClient._create_system_if_not_exists(self._identifier, settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 48, in _create_system_if_not_exists
    new_system = System(settings)
                 ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 310, in __init__
    if settings[key] is not None:
       ~~~~~~~~^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 247, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-06-24 22:13:49 - app.routers.rag - ERROR - Document upload failed: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 105, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in get_collection
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 44, in initialize
    self._local.client = await loop.run_in_executor(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/__init__.py", line 137, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 138, in __init__
    super().__init__(settings=settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 41, in __init__
    SharedSystemClient._create_system_if_not_exists(self._identifier, settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 48, in _create_system_if_not_exists
    new_system = System(settings)
                 ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 310, in __init__
    if settings[key] is not None:
       ~~~~~~~~^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 247, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-06-24 22:13:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:14:30 - app - INFO - Shutting down application...
2025-06-24 22:14:30 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:14:36 - app - INFO - Logging configured successfully
2025-06-24 22:14:36 - app - INFO - Starting application...
2025-06-24 22:14:36 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:16:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:16:59 - app.services.rag_service - ERROR - Ingest failed: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 105, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in get_collection
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 44, in initialize
    self._local.client = await loop.run_in_executor(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/__init__.py", line 137, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 138, in __init__
    super().__init__(settings=settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 41, in __init__
    SharedSystemClient._create_system_if_not_exists(self._identifier, settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 48, in _create_system_if_not_exists
    new_system = System(settings)
                 ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 310, in __init__
    if settings[key] is not None:
       ~~~~~~~~^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 247, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-06-24 22:16:59 - app.routers.rag - ERROR - Document upload failed: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 105, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 65, in get_collection
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 44, in initialize
    self._local.client = await loop.run_in_executor(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/__init__.py", line 137, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 138, in __init__
    super().__init__(settings=settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 41, in __init__
    SharedSystemClient._create_system_if_not_exists(self._identifier, settings)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 48, in _create_system_if_not_exists
    new_system = System(settings)
                 ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 310, in __init__
    if settings[key] is not None:
       ~~~~~~~~^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/config.py", line 247, in __getitem__
    raise ValueError(LEGACY_ERROR)
ValueError: [91mYou are using a deprecated configuration of Chroma.

[94mIf you do not have data you wish to migrate, you only need to change how you construct
your Chroma client. Please see the "New Clients" section of https://docs.trychroma.com/migration.
________________________________________________________________________________________________

If you do have data you wish to migrate, we have a migration tool you can use in order to
migrate your data to the new Chroma architecture.
Please `pip install chroma-migrate` and run `chroma-migrate` to migrate your data and then
change how you construct your Chroma client.

See https://docs.trychroma.com/migration for more information or join our discord at https://discord.gg/8g5FESbj for help![0m
2025-06-24 22:16:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:21:32 - app - INFO - Shutting down application...
2025-06-24 22:21:32 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:21:33 - app - INFO - Logging configured successfully
2025-06-24 22:21:33 - app - INFO - Starting application...
2025-06-24 22:21:33 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:21:45 - app - INFO - Shutting down application...
2025-06-24 22:21:45 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:22:43 - app - INFO - Logging configured successfully
2025-06-24 22:22:43 - app - INFO - Starting application...
2025-06-24 22:22:43 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:22:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:22:48 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:22:48 - app.services.rag_service - ERROR - Ingest failed: Validation error: metadata: Metadata cannot be empty
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 99, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in get_collection
    collection = await loop.run_in_executor(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 232, in get_or_create_collection
    model = self._server.get_or_create_collection(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 268, in get_or_create_collection
    return self.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 227, in create_collection
    collection = self.bindings.create_collection(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Validation error: metadata: Metadata cannot be empty
2025-06-24 22:22:48 - app.routers.rag - ERROR - Document upload failed: Validation error: metadata: Metadata cannot be empty
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 99, in add_documents
    async with self.get_collection(collection_name) as collection:
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 66, in get_collection
    collection = await loop.run_in_executor(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/client.py", line 232, in get_or_create_collection
    model = self._server.get_or_create_collection(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 268, in get_or_create_collection
    return self.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 227, in create_collection
    collection = self.bindings.create_collection(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Validation error: metadata: Metadata cannot be empty
2025-06-24 22:22:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:25:42 - app - INFO - Shutting down application...
2025-06-24 22:25:42 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:25:45 - app - INFO - Logging configured successfully
2025-06-24 22:25:45 - app - INFO - Starting application...
2025-06-24 22:25:45 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:25:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:25:50 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:25:50 - app.utils.chroma_async - ERROR - Failed to add batch 1: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:25:50 - app.utils.chroma_async - ERROR - Error in collection context for documents: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:25:50 - app.services.rag_service - ERROR - Ingest failed: Collection expecting embedding with dimension of 384, got 1536
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 118, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 89, in add
    self._client._add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 407, in _add
    return self.bindings.add(
           ^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:25:50 - app.routers.rag - ERROR - Document upload failed: Collection expecting embedding with dimension of 384, got 1536
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 118, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 89, in add
    self._client._add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 407, in _add
    return self.bindings.add(
           ^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:25:50 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:27:20 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:27:22 - app.utils.chroma_async - ERROR - Failed to add batch 1: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:27:22 - app.utils.chroma_async - ERROR - Error in collection context for documents: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:27:22 - app.services.rag_service - ERROR - Ingest failed: Collection expecting embedding with dimension of 384, got 1536
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 118, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 89, in add
    self._client._add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 407, in _add
    return self.bindings.add(
           ^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:27:22 - app.routers.rag - ERROR - Document upload failed: Collection expecting embedding with dimension of 384, got 1536
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 137, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 118, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 89, in add
    self._client._add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 407, in _add
    return self.bindings.add(
           ^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:27:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:29:22 - app - INFO - Shutting down application...
2025-06-24 22:29:22 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:29:25 - app - INFO - Logging configured successfully
2025-06-24 22:29:25 - app - INFO - Starting application...
2025-06-24 22:29:25 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:29:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:29:28 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:29:28 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:29:30 - app.utils.chroma_async - ERROR - Failed to add batch 1: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:29:30 - app.utils.chroma_async - ERROR - Error in collection context for documents: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:29:30 - app.services.rag_service - ERROR - Ingest failed: Collection expecting embedding with dimension of 384, got 1536
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 188, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 118, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 89, in add
    self._client._add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 407, in _add
    return self.bindings.add(
           ^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:29:30 - app.routers.rag - ERROR - Document upload failed: Collection expecting embedding with dimension of 384, got 1536
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 188, in ingest_document
    await self.client.add_documents(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/chroma_async.py", line 118, in add_documents
    await loop.run_in_executor(
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/models/Collection.py", line 89, in add
    self._client._add(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/chromadb/api/rust.py", line 407, in _add
    return self.bindings.add(
           ^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 384, got 1536
2025-06-24 22:29:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:30:46 - app - INFO - Shutting down application...
2025-06-24 22:30:46 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:30:48 - app - INFO - Logging configured successfully
2025-06-24 22:30:48 - app - INFO - Starting application...
2025-06-24 22:30:48 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:30:51 - app - INFO - Shutting down application...
2025-06-24 22:30:51 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:30:52 - app - INFO - Logging configured successfully
2025-06-24 22:30:52 - app - INFO - Starting application...
2025-06-24 22:30:52 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:31:13 - app - INFO - Shutting down application...
2025-06-24 22:31:13 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:31:15 - app - INFO - Logging configured successfully
2025-06-24 22:31:15 - app - INFO - Starting application...
2025-06-24 22:31:15 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:33:11 - app - INFO - Shutting down application...
2025-06-24 22:33:11 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:33:13 - app - INFO - Logging configured successfully
2025-06-24 22:33:13 - app - INFO - Starting application...
2025-06-24 22:33:13 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:33:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:33:17 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:33:18 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:33:19 - app.services.rag_service - INFO - Successfully ingested document Suraj_Offer letter_signed.pdf with 5 chunks
2025-06-24 22:33:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-24 22:33:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:33:24 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:33:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:33:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:33:32 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:33:33 - app.services.rag_service - INFO - Successfully ingested document Suraj_Offer letter_signed.pdf with 5 chunks
2025-06-24 22:33:33 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-24 22:33:37 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:33:37 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:33:37 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:37:52 - app - INFO - Shutting down application...
2025-06-24 22:37:52 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:37:54 - app - INFO - Logging configured successfully
2025-06-24 22:37:54 - app - INFO - Starting application...
2025-06-24 22:37:54 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:37:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:37:57 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:37:57 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:37:57 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 22:37:57 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'chunk_index': 2, 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'user_id': 'nodejs_service'}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 4}, {'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 0, 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service'}], 'sample_distances': [18350.0390625, 23087.30078125, 26522.26953125], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:37:57 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'chunk_index': 2, 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'user_id': 'nodejs_service'}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 4}, {'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 0, 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service'}], 'sample_distances': [18350.0390625, 23087.30078125, 26522.26953125], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:37:57 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:37:57 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:37:57 - app.services.rag_service - INFO - Distance values: [8579.505859375, 12304.46875, 12987.603515625]
2025-06-24 22:37:57 - app.services.rag_service - INFO - Document similarity: -8578.5059, threshold: 0.1
2025-06-24 22:37:57 - app.services.rag_service - INFO - Document similarity: -12303.4688, threshold: 0.1
2025-06-24 22:37:57 - app.services.rag_service - INFO - Document similarity: -12986.6035, threshold: 0.1
2025-06-24 22:37:57 - app.services.rag_service - INFO - Document similarity: -14514.6562, threshold: 0.1
2025-06-24 22:37:57 - app.services.rag_service - INFO - Document similarity: -16436.9531, threshold: 0.1
2025-06-24 22:37:57 - app.services.rag_service - INFO - Filtered 0 documents from 5
2025-06-24 22:37:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:38:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:38:04 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:38:04 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-06-24 22:38:04 - app.services.rag_service - INFO - Extracted text length: 4048
2025-06-24 22:38:04 - app.services.rag_service - INFO - Created 5 chunks
2025-06-24 22:38:04 - app.services.rag_service - INFO - Generating embeddings...
2025-06-24 22:38:06 - app.services.rag_service - INFO - Generated 5 embeddings
2025-06-24 22:38:06 - app.services.rag_service - INFO - Embedding dimension: 1536
2025-06-24 22:38:06 - app.services.rag_service - INFO - Successfully ingested document Suraj_Offer letter_signed.pdf with 5 chunks
2025-06-24 22:38:06 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-24 22:38:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:38:09 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:38:09 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 22:38:09 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service', 'chunk_index': 2}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 4}, {'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'chunk_index': 0}], 'sample_distances': [18350.0390625, 23087.30078125, 26522.26953125], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:38:09 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service', 'chunk_index': 2}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 4}, {'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'chunk_index': 0}], 'sample_distances': [18350.0390625, 23087.30078125, 26522.26953125], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:38:09 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:38:09 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:38:09 - app.services.rag_service - INFO - Distance values: [8579.505859375, 12304.46875, 12987.603515625]
2025-06-24 22:38:09 - app.services.rag_service - INFO - Document similarity: -8578.5059, threshold: 0.1
2025-06-24 22:38:09 - app.services.rag_service - INFO - Document similarity: -12303.4688, threshold: 0.1
2025-06-24 22:38:09 - app.services.rag_service - INFO - Document similarity: -12986.6035, threshold: 0.1
2025-06-24 22:38:09 - app.services.rag_service - INFO - Document similarity: -14514.6562, threshold: 0.1
2025-06-24 22:38:09 - app.services.rag_service - INFO - Document similarity: -16436.9531, threshold: 0.1
2025-06-24 22:38:09 - app.services.rag_service - INFO - Filtered 0 documents from 5
2025-06-24 22:38:09 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:38:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training/upload
2025-06-24 22:38:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training/upload - Status: 401
2025-06-24 22:38:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:38:29 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:38:29 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 22:38:29 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'chunk_index': 2, 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}, {'chunk_index': 4, 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf'}, {'user_id': 'nodejs_service', 'chunk_index': 0, 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}], 'sample_distances': [18350.0390625, 23087.30078125, 26522.26953125], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:38:29 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'chunk_index': 2, 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}, {'chunk_index': 4, 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf'}, {'user_id': 'nodejs_service', 'chunk_index': 0, 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}], 'sample_distances': [18350.0390625, 23087.30078125, 26522.26953125], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:38:29 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:38:29 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:38:29 - app.services.rag_service - INFO - Distance values: [8579.505859375, 12304.46875, 12987.603515625]
2025-06-24 22:38:29 - app.services.rag_service - INFO - Document similarity: -8578.5059, threshold: 0.1
2025-06-24 22:38:29 - app.services.rag_service - INFO - Document similarity: -12303.4688, threshold: 0.1
2025-06-24 22:38:29 - app.services.rag_service - INFO - Document similarity: -12986.6035, threshold: 0.1
2025-06-24 22:38:29 - app.services.rag_service - INFO - Document similarity: -14514.6562, threshold: 0.1
2025-06-24 22:38:29 - app.services.rag_service - INFO - Document similarity: -16436.9531, threshold: 0.1
2025-06-24 22:38:29 - app.services.rag_service - INFO - Filtered 0 documents from 5
2025-06-24 22:38:29 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:38:32 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-06-24 22:38:32 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:38:32 - app.services.rag_service - WARNING - Empty embedding for text: ...
2025-06-24 22:38:32 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-06-24 22:43:17 - app - INFO - Shutting down application...
2025-06-24 22:43:17 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:43:19 - app - INFO - Logging configured successfully
2025-06-24 22:43:19 - app - INFO - Starting application...
2025-06-24 22:43:19 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:43:22 - app - INFO - Shutting down application...
2025-06-24 22:43:22 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:43:24 - app - INFO - Logging configured successfully
2025-06-24 22:43:24 - app - INFO - Starting application...
2025-06-24 22:43:24 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:43:26 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:43:26 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:43:26 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:43:26 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 22:43:26 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'chunk_index': 2, 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'chunk_index': 0, 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}, {'user_id': 'nodejs_service', 'chunk_index': 4, 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}], 'sample_distances': [8480.33203125, 12543.1953125, 12652.568359375], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:43:26 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'chunk_index': 2, 'filename': 'Suraj_Offer letter_signed.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'chunk_index': 0, 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}, {'user_id': 'nodejs_service', 'chunk_index': 4, 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed'}], 'sample_distances': [8480.33203125, 12543.1953125, 12652.568359375], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:43:26 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 22:43:27 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 22:43:27 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:43:27 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:43:27 - app.services.rag_service - INFO - Raw distance values: [8405.0732421875, 12383.4853515625, 12494.98828125]
2025-06-24 22:43:27 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 22:43:27 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.3
2025-06-24 22:43:27 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 22:43:27 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.3
2025-06-24 22:43:27 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 22:43:27 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.3
2025-06-24 22:43:27 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 22:43:27 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.3
2025-06-24 22:43:27 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 22:43:27 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.3
2025-06-24 22:43:27 - app.services.rag_service - INFO - Filtered 0 documents from 5
2025-06-24 22:43:27 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:43:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:43:49 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:43:49 - app.services.rag_service - INFO - Processing query: offer letter
2025-06-24 22:43:49 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 2}, {'user_id': 'nodejs_service', 'chunk_index': 0, 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'filename': 'Suraj_Offer letter_signed.pdf'}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 4}], 'sample_distances': [8480.33203125, 12543.1953125, 12652.568359375], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:43:49 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 5, 'sample_metadata': [{'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 2}, {'user_id': 'nodejs_service', 'chunk_index': 0, 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'filename': 'Suraj_Offer letter_signed.pdf'}, {'user_id': 'nodejs_service', 'filename': 'Suraj_Offer letter_signed.pdf', 'doc_id': 'nodejs_service_Suraj_Offer letter_signed', 'chunk_index': 4}], 'sample_distances': [8480.33203125, 12543.1953125, 12652.568359375], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:43:49 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 22:43:49 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 22:43:49 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:43:49 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:43:49 - app.services.rag_service - INFO - Raw distance values: [8424.70703125, 12353.7255859375, 12599.564453125]
2025-06-24 22:43:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 8424.70703125
2025-06-24 22:43:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8424.7070, threshold: 0.3
2025-06-24 22:43:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 12353.7255859375
2025-06-24 22:43:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12353.7256, threshold: 0.3
2025-06-24 22:43:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 12599.564453125
2025-06-24 22:43:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12599.5645, threshold: 0.3
2025-06-24 22:43:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 12900.666015625
2025-06-24 22:43:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12900.6660, threshold: 0.3
2025-06-24 22:43:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 13210.84375
2025-06-24 22:43:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13210.8438, threshold: 0.3
2025-06-24 22:43:49 - app.services.rag_service - INFO - Filtered 0 documents from 5
2025-06-24 22:43:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:43:56 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-06-24 22:43:56 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:43:56 - app.services.rag_service - WARNING - Empty embedding for text: ...
2025-06-24 22:43:56 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-06-24 22:44:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:44:18 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:44:18 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-24 22:44:18 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-24 22:44:18 - app.services.rag_service - INFO - Created 4 chunks
2025-06-24 22:44:18 - app.services.rag_service - INFO - Generating embeddings...
2025-06-24 22:44:19 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-24 22:44:19 - app.services.rag_service - INFO - Embedding dimension: 1536
2025-06-24 22:44:19 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-06-24 22:44:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-24 22:44:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:44:30 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:44:30 - app.services.rag_service - INFO - Processing query: offer letter
2025-06-24 22:44:30 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 2, 'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf'}, {'user_id': 'nodejs_service', 'chunk_index': 1, 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf'}, {'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:44:30 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 2, 'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf'}, {'user_id': 'nodejs_service', 'chunk_index': 1, 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf'}, {'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:44:30 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 22:44:30 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 22:44:30 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:44:30 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:44:30 - app.services.rag_service - INFO - Raw distance values: [0.9140623807907104, 0.9848248958587646, 1.6309425830841064]
2025-06-24 22:44:30 - app.services.rag_service - INFO - Document similarity: 0.0859, distance: 0.9141, threshold: 0.3
2025-06-24 22:44:30 - app.services.rag_service - INFO - Document similarity: 0.0152, distance: 0.9848, threshold: 0.3
2025-06-24 22:44:30 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.6309, threshold: 0.3
2025-06-24 22:44:30 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.0093135833740234
2025-06-24 22:44:30 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0093, threshold: 0.3
2025-06-24 22:44:30 - app.services.rag_service - WARNING - Unusually large cosine distance: 8424.70703125
2025-06-24 22:44:30 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8424.7070, threshold: 0.3
2025-06-24 22:44:30 - app.services.rag_service - WARNING - Unusually large cosine distance: 12353.7255859375
2025-06-24 22:44:30 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12353.7256, threshold: 0.3
2025-06-24 22:44:30 - app.services.rag_service - INFO - Filtered 0 documents from 6
2025-06-24 22:44:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:45:32 - app - INFO - Shutting down application...
2025-06-24 22:45:32 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:45:34 - app - INFO - Logging configured successfully
2025-06-24 22:45:34 - app - INFO - Starting application...
2025-06-24 22:45:34 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:51:25 - app - INFO - Shutting down application...
2025-06-24 22:51:25 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:51:27 - app - INFO - Logging configured successfully
2025-06-24 22:51:27 - app - INFO - Starting application...
2025-06-24 22:51:27 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:51:51 - app - INFO - Shutting down application...
2025-06-24 22:51:51 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:51:53 - app - INFO - Logging configured successfully
2025-06-24 22:51:53 - app - INFO - Starting application...
2025-06-24 22:51:53 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:52:43 - app - INFO - Shutting down application...
2025-06-24 22:52:43 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:52:45 - app - INFO - Logging configured successfully
2025-06-24 22:52:45 - app - INFO - Starting application...
2025-06-24 22:52:45 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:53:31 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/debug/embeddings?text=test
2025-06-24 22:53:31 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/debug/embeddings?text=test - Status: 404
2025-06-24 22:53:41 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:53:42 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:53:42 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:53:42 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-24 22:53:42 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-24 22:53:42 - app.services.rag_service - INFO - Created 4 chunks
2025-06-24 22:53:42 - app.services.rag_service - INFO - Generating embeddings...
2025-06-24 22:53:42 - app.services.rag_service - ERROR - Ingest failed: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 253, in ingest_document
    embeddings = await self.embedding_fn._aget_embeddings(chunks)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
2025-06-24 22:53:42 - app.routers.rag - ERROR - Document upload failed: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 253, in ingest_document
    embeddings = await self.embedding_fn._aget_embeddings(chunks)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
2025-06-24 22:53:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:54:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:54:32 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:54:32 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 22:54:32 - app.utils.chroma_async - ERROR - Query failed for collection documents: 
2025-06-24 22:54:32 - app.utils.chroma_async - ERROR - Error in collection context for documents: 
2025-06-24 22:54:32 - app.services.rag_service - ERROR - Debug collection failed: 
2025-06-24 22:54:32 - app.services.rag_service - INFO - Collection debug info: {'error': ''}
2025-06-24 22:54:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:54:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:54:49 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:54:49 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-24 22:54:49 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-24 22:54:49 - app.services.rag_service - INFO - Created 4 chunks
2025-06-24 22:54:49 - app.services.rag_service - INFO - Generating embeddings...
2025-06-24 22:54:49 - app.services.rag_service - ERROR - Ingest failed: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 253, in ingest_document
    embeddings = await self.embedding_fn._aget_embeddings(chunks)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
2025-06-24 22:54:49 - app.routers.rag - ERROR - Document upload failed: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 253, in ingest_document
    embeddings = await self.embedding_fn._aget_embeddings(chunks)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OllamaEmbeddingFunction' object has no attribute '_aget_embeddings'
2025-06-24 22:54:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-24 22:58:48 - app - INFO - Shutting down application...
2025-06-24 22:58:48 - app.services.cache - INFO - Redis connection closed
2025-06-24 22:58:50 - app - INFO - Logging configured successfully
2025-06-24 22:58:50 - app - INFO - Starting application...
2025-06-24 22:58:50 - app.services.cache - INFO - Connected to Redis successfully
2025-06-24 22:58:53 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-24 22:58:53 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:58:53 - app.utils.chroma_async - INFO - AsyncChromaDB client initialized for thread MainThread
2025-06-24 22:58:53 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-24 22:58:53 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-24 22:58:53 - app.services.rag_service - INFO - Created 4 chunks
2025-06-24 22:58:53 - app.services.rag_service - INFO - Generating embeddings...
2025-06-24 22:58:54 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-24 22:58:54 - app.services.rag_service - INFO - Embedding dimension: 1536
2025-06-24 22:58:54 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-06-24 22:58:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-24 22:58:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:58:58 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:58:58 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 22:58:58 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'chunk_index': 2, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 1, 'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf'}, {'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:58:58 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'chunk_index': 2, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 1, 'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf'}, {'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:58:58 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 22:58:58 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 22:58:58 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:58:58 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:58:58 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 22:58:58 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 22:58:58 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 22:58:58 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 22:59:11 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 22:59:23 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 22:59:23 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 22:59:23 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 22:59:23 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf', 'chunk_index': 2, 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 1, 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 0, 'doc_id': 'nodejs_service_SurajMishraDevops'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:59:23 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf', 'chunk_index': 2, 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 1, 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 0, 'doc_id': 'nodejs_service_SurajMishraDevops'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 22:59:23 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 22:59:24 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 22:59:24 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 22:59:24 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 22:59:24 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 22:59:24 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 22:59:24 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 22:59:24 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 22:59:37 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 23:00:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 23:00:33 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 23:00:33 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 23:00:33 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'chunk_index': 2, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}, {'filename': 'SurajMishraDevops.pdf', 'chunk_index': 1, 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:00:33 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'chunk_index': 2, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}, {'filename': 'SurajMishraDevops.pdf', 'chunk_index': 1, 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:00:33 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 23:00:33 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 23:00:33 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 23:00:33 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 23:00:33 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 23:00:33 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 23:00:33 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 23:00:33 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 23:00:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 23:00:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 23:00:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 23:00:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 400
2025-06-24 23:00:49 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 23:00:49 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 23:00:49 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'chunk_index': 2, 'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'chunk_index': 1, 'user_id': 'nodejs_service'}, {'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:00:49 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'chunk_index': 2, 'user_id': 'nodejs_service', 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'chunk_index': 1, 'user_id': 'nodejs_service'}, {'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:00:49 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 23:00:49 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 23:00:49 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 23:00:49 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 23:00:49 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 23:00:49 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 23:00:49 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 23:00:49 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 23:00:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 23:01:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 23:01:02 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 23:01:02 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 23:01:02 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'chunk_index': 2}, {'user_id': 'nodejs_service', 'chunk_index': 1, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 0}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:02 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'chunk_index': 2}, {'user_id': 'nodejs_service', 'chunk_index': 1, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 0}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:02 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 23:01:02 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 23:01:02 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 23:01:02 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 23:01:02 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 23:01:02 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 23:01:02 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 23:01:02 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 23:01:14 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 23:01:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 23:01:14 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 23:01:14 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 23:01:14 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 2, 'user_id': 'nodejs_service'}, {'chunk_index': 1, 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:14 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 2, 'user_id': 'nodejs_service'}, {'chunk_index': 1, 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops'}, {'user_id': 'nodejs_service', 'doc_id': 'nodejs_service_SurajMishraDevops', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:14 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 23:01:14 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 23:01:14 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 23:01:14 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 23:01:14 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 23:01:14 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 23:01:14 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 23:01:14 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 23:01:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 23:01:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 23:01:25 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 23:01:25 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 23:01:25 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'user_id': 'nodejs_service', 'chunk_index': 2, 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf'}, {'user_id': 'nodejs_service', 'chunk_index': 1, 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf'}, {'filename': 'SurajMishraDevops.pdf', 'chunk_index': 0, 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:25 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'user_id': 'nodejs_service', 'chunk_index': 2, 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf'}, {'user_id': 'nodejs_service', 'chunk_index': 1, 'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf'}, {'filename': 'SurajMishraDevops.pdf', 'chunk_index': 0, 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:25 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 23:01:25 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 23:01:25 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 23:01:25 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 23:01:25 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 23:01:25 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 23:01:25 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 23:01:25 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 23:01:38 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-24 23:01:38 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-24 23:01:38 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-24 23:01:38 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-24 23:01:38 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'filename': 'SurajMishraDevops.pdf', 'chunk_index': 2, 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 1}, {'user_id': 'nodejs_service', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:38 - app.services.rag_service - INFO - Collection debug info: {'total_documents': 9, 'sample_metadata': [{'filename': 'SurajMishraDevops.pdf', 'chunk_index': 2, 'doc_id': 'nodejs_service_SurajMishraDevops', 'user_id': 'nodejs_service'}, {'doc_id': 'nodejs_service_SurajMishraDevops', 'filename': 'SurajMishraDevops.pdf', 'user_id': 'nodejs_service', 'chunk_index': 1}, {'user_id': 'nodejs_service', 'chunk_index': 0, 'filename': 'SurajMishraDevops.pdf', 'doc_id': 'nodejs_service_SurajMishraDevops'}], 'sample_distances': [1.9406306743621826, 2.0279035568237305, 2.2774252891540527], 'embedding_dimensions': [1536, 1536, 1536]}
2025-06-24 23:01:38 - app.services.rag_service - INFO - Generating query embedding...
2025-06-24 23:01:38 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-24 23:01:38 - app.services.rag_service - INFO - Query results structure: <class 'dict'>
2025-06-24 23:01:38 - app.services.rag_service - INFO - Results keys: dict_keys(['ids', 'embeddings', 'documents', 'uris', 'included', 'data', 'metadatas', 'distances'])
2025-06-24 23:01:38 - app.services.rag_service - INFO - Raw distance values: [0.8388977646827698, 0.8723714351654053, 1.547461986541748]
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.1611, distance: 0.8389, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.1276, distance: 0.8724, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 1.5475, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - WARNING - Unusually large cosine distance: 2.061379909515381
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 2.0614, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - WARNING - Unusually large cosine distance: 8405.0732421875
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 8405.0732, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - WARNING - Unusually large cosine distance: 12383.4853515625
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12383.4854, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - WARNING - Unusually large cosine distance: 12494.98828125
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12494.9883, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - WARNING - Unusually large cosine distance: 12975.22265625
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 12975.2227, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - WARNING - Unusually large cosine distance: 13249.8916015625
2025-06-24 23:01:38 - app.services.rag_service - INFO - Document similarity: 0.0000, distance: 13249.8916, threshold: 0.1
2025-06-24 23:01:38 - app.services.rag_service - INFO - Filtered 2 documents from 9
2025-06-24 23:01:38 - app.services.rag_service - INFO - Generating LLM response...
2025-06-24 23:01:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-25 22:00:59 - app - INFO - Shutting down application...
2025-06-25 22:00:59 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:01:20 - app - INFO - Logging configured successfully
2025-06-25 22:01:20 - app - INFO - Starting application...
2025-06-25 22:01:20 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:04:27 - app - INFO - Shutting down application...
2025-06-25 22:04:27 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:04:29 - app - INFO - Logging configured successfully
2025-06-25 22:04:29 - app - INFO - Starting application...
2025-06-25 22:04:29 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:15:35 - app - INFO - Shutting down application...
2025-06-25 22:15:35 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:15:38 - app - INFO - Logging configured successfully
2025-06-25 22:15:38 - app - INFO - Starting application...
2025-06-25 22:15:38 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:15:40 - app - INFO - Shutting down application...
2025-06-25 22:15:40 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:15:42 - app - INFO - Logging configured successfully
2025-06-25 22:15:42 - app - INFO - Starting application...
2025-06-25 22:15:42 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:18:31 - app - INFO - Shutting down application...
2025-06-25 22:18:31 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:19:31 - app - INFO - Logging configured successfully
2025-06-25 22:19:31 - app - INFO - Starting application...
2025-06-25 22:19:31 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:19:43 - app - INFO - Shutting down application...
2025-06-25 22:19:43 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:19:45 - app - INFO - Logging configured successfully
2025-06-25 22:19:45 - app - INFO - Starting application...
2025-06-25 22:19:45 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:20:51 - app - INFO - Shutting down application...
2025-06-25 22:20:51 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:23:27 - app - INFO - Logging configured successfully
2025-06-25 22:23:27 - app - INFO - Starting application...
2025-06-25 22:23:27 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:23:37 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 22:23:38 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-25 22:23:38 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized
2025-06-25 22:23:38 - app.routers.rag - ERROR - Document upload failed: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_status:14, grpc_message:"failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)"}"
>
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 67, in create_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 2382, in create_collection
    return self._client.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 2782, in create_collection
    return self.grpc_collections.Create(create_collection, timeout=self._timeout).result
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
                             ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 332, in _with_call
    return call.result(), call
           ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 440, in result
    raise self
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_status:14, grpc_message:"failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)"}"
>
2025-06-25 22:23:38 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 22:25:06 - app - INFO - Shutting down application...
2025-06-25 22:25:06 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:25:09 - app - INFO - Logging configured successfully
2025-06-25 22:25:09 - app - INFO - Starting application...
2025-06-25 22:25:09 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:25:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 22:25:52 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-25 22:25:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized
2025-06-25 22:25:52 - app.routers.rag - ERROR - Document upload failed: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)", grpc_status:14}"
>
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 67, in create_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 2382, in create_collection
    return self._client.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 2782, in create_collection
    return self.grpc_collections.Create(create_collection, timeout=self._timeout).result
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
                             ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 332, in _with_call
    return call.result(), call
           ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 440, in result
    raise self
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"failed to connect to all addresses; last error: UNKNOWN: ipv4:127.0.0.1:6334: Failed to connect to remote host: connect: Connection refused (61)", grpc_status:14}"
>
2025-06-25 22:25:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 22:27:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 22:27:24 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-25 22:27:24 - app.routers.rag - ERROR - Document upload failed: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown", grpc_status:14}"
>
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 67, in create_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 2382, in create_collection
    return self._client.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 2782, in create_collection
    return self.grpc_collections.Create(create_collection, timeout=self._timeout).result
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
                             ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 332, in _with_call
    return call.result(), call
           ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 440, in result
    raise self
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown", grpc_status:14}"
>
2025-06-25 22:27:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 22:27:35 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 22:27:35 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-25 22:27:35 - app.routers.rag - ERROR - Document upload failed: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_status:14, grpc_message:"failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"}"
>
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 67, in create_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 2382, in create_collection
    return self._client.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 2782, in create_collection
    return self.grpc_collections.Create(create_collection, timeout=self._timeout).result
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
                             ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 332, in _with_call
    return call.result(), call
           ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 440, in result
    raise self
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_status:14, grpc_message:"failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"}"
>
2025-06-25 22:27:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 22:27:36 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 22:27:36 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-25 22:27:36 - app.routers.rag - ERROR - Document upload failed: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown", grpc_status:14}"
>
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 67, in create_collection
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 2382, in create_collection
    return self._client.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 2782, in create_collection
    return self.grpc_collections.Create(create_collection, timeout=self._timeout).result
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
                             ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 332, in _with_call
    return call.result(), call
           ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 440, in result
    raise self
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/grpc/_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"failed to connect to all addresses; last error: UNAVAILABLE: ipv4:127.0.0.1:6334: Failed to connect to remote host: Timeout occurred: FD shutdown", grpc_status:14}"
>
2025-06-25 22:27:36 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 22:34:34 - app - INFO - Shutting down application...
2025-06-25 22:34:34 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:34:37 - app - INFO - Logging configured successfully
2025-06-25 22:34:37 - app - INFO - Starting application...
2025-06-25 22:34:37 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:35:00 - app - INFO - Shutting down application...
2025-06-25 22:35:00 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:35:03 - app - INFO - Logging configured successfully
2025-06-25 22:35:03 - app - INFO - Starting application...
2025-06-25 22:35:03 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:37:15 - app - INFO - Shutting down application...
2025-06-25 22:37:15 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:37:17 - app - INFO - Logging configured successfully
2025-06-25 22:37:17 - app - INFO - Starting application...
2025-06-25 22:37:17 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:38:51 - app - INFO - Shutting down application...
2025-06-25 22:38:51 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:38:56 - app - INFO - Logging configured successfully
2025-06-25 22:38:56 - app - INFO - Starting application...
2025-06-25 22:38:56 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:39:34 - app - INFO - Shutting down application...
2025-06-25 22:39:34 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:39:42 - app - INFO - Logging configured successfully
2025-06-25 22:39:42 - app - INFO - Starting application...
2025-06-25 22:39:42 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:40:29 - app - INFO - Shutting down application...
2025-06-25 22:40:29 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:40:31 - app - INFO - Logging configured successfully
2025-06-25 22:40:31 - app - INFO - Starting application...
2025-06-25 22:40:31 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:41:04 - app - INFO - Shutting down application...
2025-06-25 22:41:04 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:41:07 - app - INFO - Logging configured successfully
2025-06-25 22:41:07 - app - INFO - Starting application...
2025-06-25 22:41:07 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:41:15 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 22:41:15 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-25 22:41:15 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 22:41:15 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 22:41:15 - app.utils.qdrant_async - ERROR - Failed to create Qdrant client: 'HttpUrl' object has no attribute 'startswith'
2025-06-25 22:41:15 - app.utils.qdrant_async - ERROR - Qdrant connection verification failed: Cannot connect to Qdrant at http://localhost:6333/: 'HttpUrl' object has no attribute 'startswith'
2025-06-25 22:41:15 - app.routers.rag - ERROR - Document upload failed: Cannot verify connection to Qdrant: Cannot connect to Qdrant at http://localhost:6333/: 'HttpUrl' object has no attribute 'startswith'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 62, in _get_client
    self._local.client = QdrantClient(
                         ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 139, in __init__
    self._client = QdrantRemote(
                   ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 88, in __init__
    if url.startswith("localhost"):
       ^^^^^^^^^^^^^^
AttributeError: 'HttpUrl' object has no attribute 'startswith'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 97, in _verify_connection
    result = await loop.run_in_executor(self.executor, _check_connection)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 85, in _check_connection
    client = self._get_client()
             ^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 72, in _get_client
    raise QdrantConnectionError(f"Cannot connect to Qdrant at {self.url}: {str(e)}")
app.utils.qdrant_async.QdrantConnectionError: Cannot connect to Qdrant at http://localhost:6333/: 'HttpUrl' object has no attribute 'startswith'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 122, in create_collection
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 111, in initialize
    await self._verify_connection()
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 104, in _verify_connection
    raise QdrantConnectionError(f"Cannot verify connection to Qdrant: {str(e)}")
app.utils.qdrant_async.QdrantConnectionError: Cannot verify connection to Qdrant: Cannot connect to Qdrant at http://localhost:6333/: 'HttpUrl' object has no attribute 'startswith'
2025-06-25 22:41:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 22:43:40 - app - INFO - Shutting down application...
2025-06-25 22:43:40 - app.services.cache - INFO - Redis connection closed
2025-06-25 22:43:42 - app - INFO - Logging configured successfully
2025-06-25 22:43:42 - app - INFO - Starting application...
2025-06-25 22:43:42 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 22:43:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 22:43:52 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-25 22:43:52 - app.utils.qdrant_async - WARNING - Cluster info check failed, trying collections list: 'QdrantClient' object has no attribute 'get_cluster_info'
2025-06-25 22:43:52 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-25 22:43:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 22:43:52 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 22:43:52 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 22:43:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 22:43:52 - app.utils.qdrant_async - ERROR - Failed to create collection documents: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 22:43:52 - app.routers.rag - ERROR - Document upload failed: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 195, in create_collection
    raise QdrantOperationError(f"Collection creation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 22:43:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 23:09:44 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-06-25 23:09:44 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:09:44 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:09:44 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:09:44 - app.utils.qdrant_async - ERROR - Failed to create collection documents: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:09:44 - app.routers.rag - ERROR - Failed to list documents: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 133, in list_documents
    return await rag_service.list_documents(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 332, in list_documents
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 195, in create_collection
    raise QdrantOperationError(f"Collection creation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:09:44 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 500
2025-06-25 23:09:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-25 23:09:56 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/chat
2025-06-25 23:09:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 500
2025-06-25 23:10:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 23:10:25 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:10:25 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:10:25 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:10:25 - app.utils.qdrant_async - ERROR - Failed to create collection documents: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:10:25 - app.routers.rag - ERROR - Document upload failed: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 195, in create_collection
    raise QdrantOperationError(f"Collection creation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:10:25 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 23:10:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-25 23:10:28 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:10:28 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:10:28 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:10:28 - app.utils.qdrant_async - ERROR - Failed to create collection documents: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:10:28 - app.routers.rag - ERROR - Query failed: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 95, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 220, in query
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 195, in create_collection
    raise QdrantOperationError(f"Collection creation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:10:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-25 23:17:33 - app - INFO - Shutting down application...
2025-06-25 23:17:33 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:17:35 - app - INFO - Logging configured successfully
2025-06-25 23:17:35 - app - INFO - Starting application...
2025-06-25 23:17:35 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:19:46 - app - INFO - Shutting down application...
2025-06-25 23:19:46 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:19:48 - app - INFO - Logging configured successfully
2025-06-25 23:19:48 - app - INFO - Starting application...
2025-06-25 23:19:48 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:19:50 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-25 23:19:50 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-25 23:19:50 - app.utils.qdrant_async - WARNING - Cluster info check failed, trying collections list: 'QdrantClient' object has no attribute 'get_cluster_info'
2025-06-25 23:19:50 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-25 23:19:50 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:19:50 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed
2025-06-25 23:19:50 - app.services.llm_service - ERROR - Error creating embedding: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed
2025-06-25 23:19:50 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed
2025-06-25 23:19:50 - app.services.llm_service - ERROR - Alternative embedding approach also failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed
2025-06-25 23:19:50 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed
2025-06-25 23:19:50 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:19:50 - app.utils.qdrant_async - ERROR - Failed to create collection documents: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:19:50 - app.routers.rag - ERROR - Query failed: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 191, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 176, in _create_collection
    optimizers_config=models.OptimizersConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 95, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 220, in query
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 195, in create_collection
    raise QdrantOperationError(f"Collection creation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Collection creation failed: 1 validation error for OptimizersConfig
vacuum_min_vector_number
  Field required [type=missing, input_value={'default_segment_number'...'flush_interval_sec': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-25 23:19:50 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-06-25 23:20:27 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-25 23:20:27 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-25 23:20:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-25 23:20:32 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/chat
2025-06-25 23:20:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 500
2025-06-25 23:20:40 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/chat
2025-06-25 23:20:40 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/chat - Status: 405
2025-06-25 23:20:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-25 23:20:44 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/chat
2025-06-25 23:20:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 500
2025-06-25 23:21:38 - app - INFO - Shutting down application...
2025-06-25 23:21:38 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:21:51 - app - INFO - Logging configured successfully
2025-06-25 23:21:51 - app - INFO - Starting application...
2025-06-25 23:21:51 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:22:49 - app - INFO - Shutting down application...
2025-06-25 23:22:49 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:24:12 - app - INFO - Logging configured successfully
2025-06-25 23:24:12 - app - INFO - Starting application...
2025-06-25 23:24:12 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:25:36 - app - INFO - Shutting down application...
2025-06-25 23:25:36 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:25:38 - app - INFO - Logging configured successfully
2025-06-25 23:25:38 - app - INFO - Starting application...
2025-06-25 23:25:38 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:25:46 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-25 23:25:46 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/chat
2025-06-25 23:25:46 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 500
2025-06-25 23:25:55 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 23:25:55 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-25 23:25:55 - app.utils.qdrant_async - WARNING - Cluster info check failed, trying collections list: 'QdrantClient' object has no attribute 'get_cluster_info'
2025-06-25 23:25:55 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-25 23:25:55 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:25:55 - app.services.llm_service - ERROR - Error creating embedding: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:25:55 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embeddings
2025-06-25 23:25:55 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:25:55 - app.utils.qdrant_async - ERROR - Failed to create collection documents: 2 validation errors for CreateCollection
hnsw_config
  Input should be a valid dictionary or instance of HnswConfigDiff [type=model_type, input_value=HnswConfig(m=16, ef_const...sk=None, payload_m=None), input_type=HnswConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
optimizers_config
  Input should be a valid dictionary or instance of OptimizersConfigDiff [type=model_type, input_value=OptimizersConfig(deleted_...timization_threads=None), input_type=OptimizersConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 193, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 171, in _create_collection
    result = client.create_collection(
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 2382, in create_collection
    return self._client.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 2799, in create_collection
    create_collection_request = models.CreateCollection(
                                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 2 validation errors for CreateCollection
hnsw_config
  Input should be a valid dictionary or instance of HnswConfigDiff [type=model_type, input_value=HnswConfig(m=16, ef_const...sk=None, payload_m=None), input_type=HnswConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
optimizers_config
  Input should be a valid dictionary or instance of OptimizersConfigDiff [type=model_type, input_value=OptimizersConfig(deleted_...timization_threads=None), input_type=OptimizersConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-06-25 23:25:55 - app.routers.rag - ERROR - Document upload failed: Collection creation failed: 2 validation errors for CreateCollection
hnsw_config
  Input should be a valid dictionary or instance of HnswConfigDiff [type=model_type, input_value=HnswConfig(m=16, ef_const...sk=None, payload_m=None), input_type=HnswConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
optimizers_config
  Input should be a valid dictionary or instance of OptimizersConfigDiff [type=model_type, input_value=OptimizersConfig(deleted_...timization_threads=None), input_type=OptimizersConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 193, in create_collection
    return await loop.run_in_executor(self.executor, _create_collection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 171, in _create_collection
    result = client.create_collection(
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 2382, in create_collection
    return self._client.create_collection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 2799, in create_collection
    create_collection_request = models.CreateCollection(
                                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 2 validation errors for CreateCollection
hnsw_config
  Input should be a valid dictionary or instance of HnswConfigDiff [type=model_type, input_value=HnswConfig(m=16, ef_const...sk=None, payload_m=None), input_type=HnswConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
optimizers_config
  Input should be a valid dictionary or instance of OptimizersConfigDiff [type=model_type, input_value=OptimizersConfig(deleted_...timization_threads=None), input_type=OptimizersConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 158, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 102, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 94, in initialize
    await self.client.create_collection(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 197, in create_collection
    raise QdrantOperationError(f"Collection creation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Collection creation failed: 2 validation errors for CreateCollection
hnsw_config
  Input should be a valid dictionary or instance of HnswConfigDiff [type=model_type, input_value=HnswConfig(m=16, ef_const...sk=None, payload_m=None), input_type=HnswConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
optimizers_config
  Input should be a valid dictionary or instance of OptimizersConfigDiff [type=model_type, input_value=OptimizersConfig(deleted_...timization_threads=None), input_type=OptimizersConfig]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-06-25 23:25:55 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 23:38:23 - app - INFO - Shutting down application...
2025-06-25 23:38:23 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:38:26 - app - INFO - Logging configured successfully
2025-06-25 23:38:26 - app - INFO - Starting application...
2025-06-25 23:38:26 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:38:54 - app - INFO - Shutting down application...
2025-06-25 23:38:54 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:38:56 - app - INFO - Logging configured successfully
2025-06-25 23:38:56 - app - INFO - Starting application...
2025-06-25 23:38:56 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:39:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 23:39:05 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-25 23:39:05 - app.utils.qdrant_async - INFO - Qdrant connection verified - 0 collections found
2025-06-25 23:39:05 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-25 23:39:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:39:05 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-25 23:39:05 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-25 23:39:05 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-25 23:39:05 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-25 23:39:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:39:05 - app.utils.qdrant_async - INFO - Created collection documents with 384D vectors
2025-06-25 23:39:05 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-25 23:39:05 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-25 23:39:05 - app.services.rag_service - ERROR - Ingest failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-25 23:39:05 - app.routers.rag - ERROR - Document upload failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-25 23:39:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 23:45:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 23:45:16 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-25 23:45:16 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-25 23:45:16 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-25 23:45:16 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-25 23:45:16 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:45:16 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-25 23:45:16 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-25 23:45:16 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-25 23:45:16 - app.services.rag_service - ERROR - Ingest failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-25 23:45:16 - app.routers.rag - ERROR - Document upload failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-25 23:45:16 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 23:48:13 - app - INFO - Shutting down application...
2025-06-25 23:48:13 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:48:28 - app - INFO - Logging configured successfully
2025-06-25 23:48:28 - app - INFO - Starting application...
2025-06-25 23:48:28 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:48:45 - app - INFO - Shutting down application...
2025-06-25 23:48:45 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:48:55 - app - INFO - Logging configured successfully
2025-06-25 23:48:55 - app - INFO - Starting application...
2025-06-25 23:48:55 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:49:18 - app - INFO - Shutting down application...
2025-06-25 23:49:18 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:49:20 - app - INFO - Logging configured successfully
2025-06-25 23:49:20 - app - INFO - Starting application...
2025-06-25 23:49:20 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:49:39 - app - INFO - Shutting down application...
2025-06-25 23:49:39 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:57:14 - app - INFO - Logging configured successfully
2025-06-25 23:57:14 - app - INFO - Starting application...
2025-06-25 23:57:14 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:57:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 23:57:19 - app.services.rag_service - INFO - Dummy OllamaService initialized.
2025-06-25 23:57:19 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-25 23:57:19 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-25 23:57:19 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-25 23:57:19 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:57:19 - app.services.rag_service - INFO - Detected embedding dimension: 768
2025-06-25 23:57:19 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:57:19 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-25 23:57:19 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf by user nodejs_service
2025-06-25 23:57:19 - app.services.rag_service - INFO - Dummy processing document: SurajMishraDevops.pdf
2025-06-25 23:57:19 - app.services.rag_service - INFO - Dummy chunking text (size: 1000, overlap: 200)
2025-06-25 23:57:19 - app.services.rag_service - INFO - Document SurajMishraDevops.pdf split into 108 chunks.
2025-06-25 23:57:19 - app.services.rag_service - ERROR - Failed to ingest document SurajMishraDevops.pdf for user nodejs_service: name 'time' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 272, in ingest_document
    "created_at": int(time.time()) # Add timestamp for potential filtering/sorting
                      ^^^^
NameError: name 'time' is not defined
2025-06-25 23:57:19 - app.routers.rag - ERROR - Document upload failed: name 'time' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 272, in ingest_document
    "created_at": int(time.time()) # Add timestamp for potential filtering/sorting
                      ^^^^
NameError: name 'time' is not defined
2025-06-25 23:57:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 23:58:01 - app - INFO - Shutting down application...
2025-06-25 23:58:01 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:58:04 - app - INFO - Logging configured successfully
2025-06-25 23:58:04 - app - INFO - Starting application...
2025-06-25 23:58:04 - app.services.cache - INFO - Connected to Redis successfully
2025-06-25 23:58:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-25 23:58:05 - app.services.rag_service - INFO - Dummy OllamaService initialized.
2025-06-25 23:58:05 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-25 23:58:05 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-25 23:58:05 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-25 23:58:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:58:05 - app.services.rag_service - INFO - Detected embedding dimension: 768
2025-06-25 23:58:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-25 23:58:05 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-25 23:58:05 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf by user nodejs_service
2025-06-25 23:58:05 - app.services.rag_service - INFO - Dummy processing document: SurajMishraDevops.pdf
2025-06-25 23:58:05 - app.services.rag_service - INFO - Dummy chunking text (size: 1000, overlap: 200)
2025-06-25 23:58:05 - app.services.rag_service - INFO - Document SurajMishraDevops.pdf split into 108 chunks.
2025-06-25 23:58:05 - app.services.rag_service - ERROR - Failed to ingest document SurajMishraDevops.pdf for user nodejs_service: name 'time' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 272, in ingest_document
    "created_at": int(time.time()) # Add timestamp for potential filtering/sorting
                      ^^^^
NameError: name 'time' is not defined
2025-06-25 23:58:05 - app.routers.rag - ERROR - Document upload failed: name 'time' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 272, in ingest_document
    "created_at": int(time.time()) # Add timestamp for potential filtering/sorting
                      ^^^^
NameError: name 'time' is not defined
2025-06-25 23:58:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-25 23:59:20 - app - INFO - Shutting down application...
2025-06-25 23:59:20 - app.services.cache - INFO - Redis connection closed
2025-06-25 23:59:22 - app - INFO - Logging configured successfully
2025-06-25 23:59:22 - app - INFO - Starting application...
2025-06-25 23:59:22 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:00:00 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:00:00 - app.services.rag_service - INFO - Dummy OllamaService initialized.
2025-06-26 00:00:00 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:00:00 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:00:00 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:00:00 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:00:00 - app.services.rag_service - INFO - Detected embedding dimension: 768
2025-06-26 00:00:00 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:00:00 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:00:00 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf by user nodejs_service
2025-06-26 00:00:00 - app.services.rag_service - INFO - Dummy processing document: SurajMishraDevops.pdf
2025-06-26 00:00:00 - app.services.rag_service - INFO - Dummy chunking text (size: 1000, overlap: 200)
2025-06-26 00:00:00 - app.services.rag_service - INFO - Document SurajMishraDevops.pdf split into 108 chunks.
2025-06-26 00:00:00 - app.services.rag_service - ERROR - Failed to ingest document SurajMishraDevops.pdf for user nodejs_service: name 'time' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 272, in ingest_document
    "created_at": int(time.time()) # Add timestamp for potential filtering/sorting
                      ^^^^
NameError: name 'time' is not defined
2025-06-26 00:00:00 - app.routers.rag - ERROR - Document upload failed: name 'time' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 272, in ingest_document
    "created_at": int(time.time()) # Add timestamp for potential filtering/sorting
                      ^^^^
NameError: name 'time' is not defined
2025-06-26 00:00:00 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:04:56 - app - INFO - Shutting down application...
2025-06-26 00:04:56 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:04:59 - app - INFO - Logging configured successfully
2025-06-26 00:04:59 - app - INFO - Starting application...
2025-06-26 00:04:59 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:04:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:04:59 - app.services.rag_service - INFO - Dummy OllamaService initialized.
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:04:59 - app.services.rag_service - INFO - Detected embedding dimension: 768
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:04:59 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf by user nodejs_service
2025-06-26 00:04:59 - app.services.rag_service - INFO - Dummy processing document: SurajMishraDevops.pdf
2025-06-26 00:04:59 - app.services.rag_service - INFO - Dummy chunking text (size: 1000, overlap: 200)
2025-06-26 00:04:59 - app.services.rag_service - INFO - Document SurajMishraDevops.pdf split into 108 chunks.
2025-06-26 00:04:59 - app.services.rag_service - INFO - Upserting 108 points to Qdrant for document SurajMishraDevops.pdf (Doc ID: f358a423-afc1-40aa-8a68-b7619c891d62)
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:04:59 - app.utils.qdrant_async - INFO - Upserting 108 points in batches of 100
2025-06-26 00:04:59 - app.utils.qdrant_async - ERROR - Failed to upsert batch 1: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'
2025-06-26 00:04:59 - app.utils.qdrant_async - ERROR - Failed to upsert points: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 284, in upsert
    result = await loop.run_in_executor(self.executor, _upsert_batch, batch)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 264, in _upsert_batch
    result = client.upsert(
             ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 1633, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 1911, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'
2025-06-26 00:04:59 - app.services.rag_service - ERROR - Failed to ingest document SurajMishraDevops.pdf for user nodejs_service: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 284, in upsert
    result = await loop.run_in_executor(self.executor, _upsert_batch, batch)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 264, in _upsert_batch
    result = client.upsert(
             ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 1633, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 1911, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 284, in ingest_document
    success = await self.client.upsert(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 303, in upsert
    raise QdrantOperationError(f"Upsert operation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'
2025-06-26 00:04:59 - app.routers.rag - ERROR - Document upload failed: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 284, in upsert
    result = await loop.run_in_executor(self.executor, _upsert_batch, batch)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 264, in _upsert_batch
    result = client.upsert(
             ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 1633, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 1911, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 284, in ingest_document
    success = await self.client.upsert(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 303, in upsert
    raise QdrantOperationError(f"Upsert operation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 768"},"time":0.006457625}'
2025-06-26 00:04:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:06:12 - app - INFO - Shutting down application...
2025-06-26 00:06:12 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:06:14 - app - INFO - Logging configured successfully
2025-06-26 00:06:14 - app - INFO - Starting application...
2025-06-26 00:06:14 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:06:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:06:17 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:06:17 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:06:17 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:06:17 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:06:17 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:06:17 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:06:17 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:06:17 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:06:17 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:06:17 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:06:17 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-26 00:06:17 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-26 00:06:17 - app.services.rag_service - ERROR - Ingest failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-26 00:06:17 - app.routers.rag - ERROR - Document upload failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-26 00:06:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:21:52 - app - INFO - Shutting down application...
2025-06-26 00:21:52 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:21:55 - app - INFO - Logging configured successfully
2025-06-26 00:21:55 - app - INFO - Starting application...
2025-06-26 00:21:55 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:21:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:21:56 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:21:56 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:21:56 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:21:56 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:21:56 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:21:56 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:21:56 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:21:56 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:21:56 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:21:56 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:21:56 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-26 00:21:56 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-26 00:21:56 - app.services.rag_service - ERROR - Ingest failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-26 00:21:56 - app.routers.rag - ERROR - Document upload failed: chunk_text() got an unexpected keyword argument 'chunk_overlap'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 168, in ingest_document
    chunks = chunk_text(text, chunk_size=chunk_size, chunk_overlap=chunk_overlap)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: chunk_text() got an unexpected keyword argument 'chunk_overlap'
2025-06-26 00:21:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:25:23 - app - INFO - Shutting down application...
2025-06-26 00:25:23 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:25:25 - app - INFO - Logging configured successfully
2025-06-26 00:25:25 - app - INFO - Starting application...
2025-06-26 00:25:25 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:25:27 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:25:27 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:25:27 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-26 00:25:27 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-26 00:25:27 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-06-26 00:25:27 - app.services.rag_service - INFO - Created 4 chunks
2025-06-26 00:25:27 - app.services.rag_service - INFO - Generating embeddings...
2025-06-26 00:25:27 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:27 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-06-26 00:25:27 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-06-26 00:25:27 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-06-26 00:25:27 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-26 00:25:36 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-26 00:25:36 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:25:36 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:36 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:36 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:36 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:25:36 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:25:36 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-26 00:25:36 - app.services.rag_service - INFO - Generating query embedding...
2025-06-26 00:25:36 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:25:36 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:36 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:36 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:25:36 - app.services.rag_service - INFO - Query embedding dimension: 384
2025-06-26 00:25:36 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:25:36 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-26 00:27:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:27:04 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.rag_service - ERROR - Failed to detect embedding dimension: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:27:04 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:27:04 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-26 00:27:04 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-26 00:27:04 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-06-26 00:27:04 - app.services.rag_service - INFO - Created 4 chunks
2025-06-26 00:27:04 - app.services.rag_service - INFO - Generating embeddings...
2025-06-26 00:27:04 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - INFO - Trying fallback embedding method via generate endpoint
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Error calling Ollama: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.llm_service - ERROR - Fallback embedding method failed: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.rag_service - ERROR - Embedding error: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 93, in create_embedding
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/embed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 174, in generate_embeddings
    embedding = await self.ollama.create_embedding(text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 113, in create_embedding
    return await self._create_embedding_fallback(text, model)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 126, in _create_embedding_fallback
    response = await self.generate(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 49, in generate
    return await self._make_request("/api/generate", payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 24, in _make_request
    response.raise_for_status()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 405 Client Error: Method Not Allowed for url: http://localhost:11434/api/generate
2025-06-26 00:27:04 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-26 00:27:04 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:27:04 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-06-26 00:27:04 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-06-26 00:27:04 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-06-26 00:27:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-26 00:30:35 - app - INFO - Shutting down application...
2025-06-26 00:30:35 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:30:38 - app - INFO - Logging configured successfully
2025-06-26 00:30:38 - app - INFO - Starting application...
2025-06-26 00:30:38 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:30:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:30:42 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/upload - Error: 'HttpUrl' object has no attribute 'rstrip'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 215, in __init__
    self.ollama = OllamaService()
                  ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 15, in __init__
    self.base_url = settings.OLLAMA_URL.rstrip('/')  # Remove trailing slash
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HttpUrl' object has no attribute 'rstrip'
2025-06-26 00:31:00 - app - INFO - Shutting down application...
2025-06-26 00:31:00 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:31:02 - app - INFO - Logging configured successfully
2025-06-26 00:31:02 - app - INFO - Starting application...
2025-06-26 00:31:02 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:31:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:31:02 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/upload - Error: 'HttpUrl' object has no attribute 'rstrip'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 215, in __init__
    self.ollama = OllamaService()
                  ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 15, in __init__
    self.base_url = settings.OLLAMA_URL.rstrip('/')  # Remove trailing slash
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HttpUrl' object has no attribute 'rstrip'
2025-06-26 00:31:53 - app - INFO - Shutting down application...
2025-06-26 00:31:53 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:31:55 - app - INFO - Logging configured successfully
2025-06-26 00:31:55 - app - INFO - Starting application...
2025-06-26 00:31:55 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:31:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:31:56 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/upload - Error: 'HttpUrl' object has no attribute 'rstrip'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 215, in __init__
    self.ollama = OllamaService()
                  ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 15, in __init__
    self.base_url = settings.OLLAMA_URL.rstrip('/')  # Remove trailing slash
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HttpUrl' object has no attribute 'rstrip'
2025-06-26 00:32:02 - app - INFO - Shutting down application...
2025-06-26 00:32:02 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:32:04 - app - INFO - Logging configured successfully
2025-06-26 00:32:04 - app - INFO - Starting application...
2025-06-26 00:32:04 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:32:46 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:32:46 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/upload - Error: 'HttpUrl' object has no attribute 'rstrip'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 215, in __init__
    self.ollama = OllamaService()
                  ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/llm_service.py", line 15, in __init__
    self.base_url = settings.OLLAMA_URL.rstrip('/')  # Remove trailing slash
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HttpUrl' object has no attribute 'rstrip'
2025-06-26 00:37:07 - app - INFO - Shutting down application...
2025-06-26 00:37:07 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:37:09 - app - INFO - Logging configured successfully
2025-06-26 00:37:09 - app - INFO - Starting application...
2025-06-26 00:37:09 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:37:10 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:37:10 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:37:10 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:37:10 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:37:10 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:37:11 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 00:37:11 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:37:11 - app.utils.qdrant_async - INFO - Collection documents already exists
2025-06-26 00:37:11 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-26 00:37:11 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-26 00:37:11 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-06-26 00:37:11 - app.services.rag_service - INFO - Created 4 chunks
2025-06-26 00:37:11 - app.services.rag_service - INFO - Generating embeddings...
2025-06-26 00:37:12 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-26 00:37:12 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:37:12 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-06-26 00:37:12 - app.utils.qdrant_async - ERROR - Failed to upsert batch 1: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'
2025-06-26 00:37:12 - app.utils.qdrant_async - ERROR - Failed to upsert points: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 281, in upsert
    result = await loop.run_in_executor(self.executor, _upsert_batch, batch)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 261, in _upsert_batch
    result = client.upsert(
             ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 1633, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 1911, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'
2025-06-26 00:37:12 - app.services.rag_service - ERROR - Ingest failed: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 281, in upsert
    result = await loop.run_in_executor(self.executor, _upsert_batch, batch)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 261, in _upsert_batch
    result = client.upsert(
             ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 1633, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 1911, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 340, in ingest_document
    await self.client.upsert(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 300, in upsert
    raise QdrantOperationError(f"Upsert operation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'
2025-06-26 00:37:12 - app.routers.rag - ERROR - Document upload failed: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 281, in upsert
    result = await loop.run_in_executor(self.executor, _upsert_batch, batch)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 261, in _upsert_batch
    result = client.upsert(
             ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 1633, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 1911, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 987, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/points_api.py", line 512, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 340, in ingest_document
    await self.client.upsert(
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 300, in upsert
    raise QdrantOperationError(f"Upsert operation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Upsert operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 384, got 1536"},"time":0.008782792}'
2025-06-26 00:37:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:39:44 - app - INFO - Shutting down application...
2025-06-26 00:39:44 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:40:24 - app - INFO - Logging configured successfully
2025-06-26 00:40:24 - app - INFO - Starting application...
2025-06-26 00:40:24 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:40:50 - app - INFO - Shutting down application...
2025-06-26 00:40:50 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:41:07 - app - INFO - Logging configured successfully
2025-06-26 00:41:07 - app - INFO - Starting application...
2025-06-26 00:41:07 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:41:29 - app - INFO - Shutting down application...
2025-06-26 00:41:29 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:46:02 - app - INFO - Logging configured successfully
2025-06-26 00:46:02 - app - INFO - Starting application...
2025-06-26 00:46:02 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:46:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:46:04 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:46:04 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:46:04 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:46:04 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:46:06 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 00:46:06 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:46:06 - app.routers.rag - ERROR - Document upload failed: 'AsyncQdrantClient' object has no attribute 'delete_collection'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 299, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 243, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 231, in initialize
    await self.client.delete_collection(self.collection_name)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AsyncQdrantClient' object has no attribute 'delete_collection'
2025-06-26 00:46:06 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:48:40 - app - INFO - Shutting down application...
2025-06-26 00:48:40 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:48:42 - app - INFO - Logging configured successfully
2025-06-26 00:48:42 - app - INFO - Starting application...
2025-06-26 00:48:42 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:48:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:48:43 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:48:43 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:48:43 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:48:43 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:48:43 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 00:48:43 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:48:43 - app.routers.rag - ERROR - Document upload failed: 'AsyncQdrantClient' object has no attribute 'delete_collection'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 296, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 240, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 229, in initialize
    await self.client.delete_collection(self.collection_name)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AsyncQdrantClient' object has no attribute 'delete_collection'
2025-06-26 00:48:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:50:08 - app - INFO - Shutting down application...
2025-06-26 00:50:08 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:50:10 - app - INFO - Logging configured successfully
2025-06-26 00:50:10 - app - INFO - Starting application...
2025-06-26 00:50:10 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:50:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:50:11 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:50:11 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:50:11 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:50:11 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:50:12 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 00:50:12 - app.routers.rag - ERROR - Document upload failed: 'AsyncQdrantClient' object has no attribute 'get_collections'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 316, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 260, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 244, in initialize
    collections = await self.client.get_collections()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AsyncQdrantClient' object has no attribute 'get_collections'
2025-06-26 00:50:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:52:35 - app - INFO - Shutting down application...
2025-06-26 00:52:35 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:52:38 - app - INFO - Logging configured successfully
2025-06-26 00:52:38 - app - INFO - Starting application...
2025-06-26 00:52:38 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:52:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:52:39 - app.services.rag_service - INFO - Collection verification failed, initializing: 'NoneType' object has no attribute 'http'
2025-06-26 00:52:39 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:52:39 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:52:39 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:52:39 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:52:39 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 00:52:39 - app.services.rag_service - INFO - Collection check/delete failed (may not exist): 'AsyncQdrantClient' object has no attribute 'http'
2025-06-26 00:52:39 - app.services.rag_service - ERROR - Failed to create collection: 'AsyncQdrantClient' object has no attribute 'http'
2025-06-26 00:52:39 - app.routers.rag - ERROR - Document upload failed: 'AsyncQdrantClient' object has no attribute 'http'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 258, in _ensure_collection_exists
    collection_info = await self.client.http.collections_api.get_collection(
                            ^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'http'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 278, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 266, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 242, in initialize
    await self.client.http.collections_api.create_collection(
          ^^^^^^^^^^^^^^^^
AttributeError: 'AsyncQdrantClient' object has no attribute 'http'
2025-06-26 00:52:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:56:38 - app - INFO - Shutting down application...
2025-06-26 00:56:38 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:56:40 - app - INFO - Logging configured successfully
2025-06-26 00:56:40 - app - INFO - Starting application...
2025-06-26 00:56:40 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:56:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:56:42 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:56:42 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:56:42 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:56:42 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:56:43 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 00:56:43 - app.services.rag_service - INFO - Collection check/delete failed (may not exist): 'AsyncQdrantClient' object has no attribute 'get_collections'
2025-06-26 00:56:43 - app.services.rag_service - ERROR - Failed to create collection: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'
2025-06-26 00:56:43 - app.services.rag_service - INFO - Collection verification failed, initializing: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'
2025-06-26 00:56:43 - app.services.rag_service - INFO - Collection check/delete failed (may not exist): 'AsyncQdrantClient' object has no attribute 'get_collections'
2025-06-26 00:56:43 - app.services.rag_service - ERROR - Failed to create collection: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'
2025-06-26 00:56:43 - app.routers.rag - ERROR - Document upload failed: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 260, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 243, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 285, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 273, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 243, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'
2025-06-26 00:56:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 00:58:13 - app - INFO - Shutting down application...
2025-06-26 00:58:13 - app.services.cache - INFO - Redis connection closed
2025-06-26 00:58:15 - app - INFO - Logging configured successfully
2025-06-26 00:58:15 - app - INFO - Starting application...
2025-06-26 00:58:15 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 00:58:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 00:58:16 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 00:58:16 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 00:58:16 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 00:58:16 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 00:58:16 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 00:58:16 - app.services.rag_service - INFO - Collection check/delete failed (may not exist): 'AsyncQdrantClient' object has no attribute 'get_collections'
2025-06-26 00:58:16 - app.services.rag_service - ERROR - Failed to create collection: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors'
2025-06-26 00:58:16 - app.services.rag_service - INFO - Collection verification failed, initializing: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors'
2025-06-26 00:58:16 - app.services.rag_service - INFO - Collection check/delete failed (may not exist): 'AsyncQdrantClient' object has no attribute 'get_collections'
2025-06-26 00:58:16 - app.services.rag_service - ERROR - Failed to create collection: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors'
2025-06-26 00:58:16 - app.routers.rag - ERROR - Document upload failed: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 246, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 256, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 283, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 265, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 246, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 256, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 308, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 296, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 265, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors'
2025-06-26 00:58:16 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 01:01:04 - app - INFO - Shutting down application...
2025-06-26 01:01:04 - app.services.cache - INFO - Redis connection closed
2025-06-26 01:01:06 - app - INFO - Logging configured successfully
2025-06-26 01:01:06 - app - INFO - Starting application...
2025-06-26 01:01:06 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 01:01:07 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 01:01:07 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 01:01:07 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 01:01:07 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 01:01:07 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:01:07 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 01:01:07 - app.services.rag_service - INFO - Collection check/delete failed (may not exist): 'AsyncQdrantClient' object has no attribute 'get_collections'
2025-06-26 01:01:07 - app.services.rag_service - ERROR - Failed to create collection: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'
2025-06-26 01:01:07 - app.services.rag_service - ERROR - Failed to create collection with alternative method: 'AsyncQdrantClient' object has no attribute 'recreate_collection'
2025-06-26 01:01:07 - app.services.rag_service - INFO - Collection verification failed, initializing: 'AsyncQdrantClient' object has no attribute 'recreate_collection'
2025-06-26 01:01:07 - app.services.rag_service - INFO - Collection check/delete failed (may not exist): 'AsyncQdrantClient' object has no attribute 'get_collections'
2025-06-26 01:01:07 - app.services.rag_service - ERROR - Failed to create collection: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'
2025-06-26 01:01:07 - app.services.rag_service - ERROR - Failed to create collection with alternative method: 'AsyncQdrantClient' object has no attribute 'recreate_collection'
2025-06-26 01:01:07 - app.routers.rag - ERROR - Document upload failed: 'AsyncQdrantClient' object has no attribute 'recreate_collection'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 242, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 272, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 265, in initialize
    raise e2
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 255, in initialize
    await self.client.recreate_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AsyncQdrantClient' object has no attribute 'recreate_collection'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 242, in initialize
    await self.client.create_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncQdrantClient.create_collection() got an unexpected keyword argument 'vectors_config'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 306, in ingest_document
    await self._ensure_collection_exists()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 294, in _ensure_collection_exists
    await self.initialize()
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 265, in initialize
    raise e2
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 255, in initialize
    await self.client.recreate_collection(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AsyncQdrantClient' object has no attribute 'recreate_collection'
2025-06-26 01:01:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-26 01:04:07 - app - INFO - Shutting down application...
2025-06-26 01:04:07 - app.services.cache - INFO - Redis connection closed
2025-06-26 01:04:09 - app - INFO - Logging configured successfully
2025-06-26 01:04:09 - app - INFO - Starting application...
2025-06-26 01:04:09 - app.services.cache - INFO - Connected to Redis successfully
2025-06-26 01:04:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-26 01:04:12 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-26 01:04:12 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-26 01:04:12 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-26 01:04:12 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:13 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 01:04:13 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:13 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:13 - app.services.rag_service - WARNING - Collection dimension mismatch: expected 1536, got 384. Recreating...
2025-06-26 01:04:13 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:13 - app.utils.qdrant_async - INFO - Recreating existing collection: documents
2025-06-26 01:04:13 - app.utils.qdrant_async - INFO - Created collection documents with 1536D vectors
2025-06-26 01:04:13 - app.services.rag_service - INFO - Created collection documents with dimension 1536
2025-06-26 01:04:13 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-26 01:04:13 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-26 01:04:13 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-06-26 01:04:13 - app.services.rag_service - INFO - Created 4 chunks
2025-06-26 01:04:13 - app.services.rag_service - INFO - Generating embeddings...
2025-06-26 01:04:14 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-26 01:04:14 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:14 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-06-26 01:04:14 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-06-26 01:04:14 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-06-26 01:04:14 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-26 01:04:23 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-26 01:04:23 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-26 01:04:23 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:23 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:23 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-26 01:04:23 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-26 01:04:23 - app.services.rag_service - INFO - Generating query embedding...
2025-06-26 01:04:23 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-26 01:04:23 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-26 01:04:23 - app.services.rag_service - INFO - Filtered 4 documents from 4
2025-06-26 01:04:23 - app.services.rag_service - INFO - Generating LLM response...
2025-06-26 01:04:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-26 01:04:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-26 01:05:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-06-26 01:06:37 - app - INFO - Shutting down application...
2025-06-26 01:06:37 - app.services.cache - INFO - Redis connection closed
2025-06-27 00:01:17 - app - INFO - Logging configured successfully
2025-06-27 00:01:17 - app - INFO - Starting application...
2025-06-27 00:01:17 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 00:01:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-27 00:01:31 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-06-27 00:01:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-27 00:02:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-06-27 00:27:12 - app - INFO - Shutting down application...
2025-06-27 00:27:12 - app.services.cache - INFO - Redis connection closed
2025-06-27 00:27:15 - app - INFO - Logging configured successfully
2025-06-27 00:27:15 - app - INFO - Starting application...
2025-06-27 00:27:15 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 00:27:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-27 00:27:26 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-06-27 00:41:03 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-27 00:41:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-27 00:51:57 - app - INFO - Shutting down application...
2025-06-27 00:51:57 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:00:09 - app - INFO - Logging configured successfully
2025-06-27 01:11:51 - app - INFO - Logging configured successfully
2025-06-27 01:11:51 - app - INFO - Starting application...
2025-06-27 01:11:51 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:11:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-27 01:11:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-27 01:12:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/voice/tts
2025-06-27 01:12:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/voice/tts - Status: 401
2025-06-27 01:12:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/voice/tts
2025-06-27 01:12:34 - app.services.voice_service - ERROR - Error in text-to-speech: 'NoneType' object is not subscriptable
2025-06-27 01:12:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/voice/tts - Status: 500
2025-06-27 01:12:48 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle
2025-06-27 01:12:48 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle - Status: 401
2025-06-27 01:12:52 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle
2025-06-27 01:12:52 - app.routers.training - INFO - Listing jobs for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-27 01:12:52 - app.routers.training - INFO - Found 0 jobs for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-27 01:12:52 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle - Status: 200
2025-06-27 01:13:01 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-27 01:13:01 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 550e8400-e29b-41d4-a716-446
2025-06-27 01:13:01 - app.services.training_service - INFO - Created job 236bec65-c64d-41d1-a2b7-26d116454191 with 2 training items
2025-06-27 01:13:01 - app.routers.training - INFO - Created enhanced job: 236bec65-c64d-41d1-a2b7-26d116454191 for user: nodejs_service, agent: 550e8400-e29b-41d4-a716-446
2025-06-27 01:13:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-27 01:13:01 - app.services.training_service - INFO - Starting training pipeline for job 236bec65-c64d-41d1-a2b7-26d116454191
2025-06-27 01:13:02 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data1.json: 404 Client Error: Not Found for url: https://example.com/data1.json
2025-06-27 01:13:04 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data2.json: 404 Client Error: Not Found for url: https://example.com/data2.json
2025-06-27 01:13:04 - app.services.training_service - INFO - Training completed for job 236bec65-c64d-41d1-a2b7-26d116454191 with 0 chunks
2025-06-27 01:13:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle
2025-06-27 01:13:05 - app.routers.training - INFO - Listing jobs for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-27 01:13:05 - app.routers.training - INFO - Found 0 jobs for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-27 01:13:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle - Status: 200
2025-06-27 01:13:07 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle
2025-06-27 01:13:07 - app.routers.training - INFO - Listing jobs for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-27 01:13:07 - app.routers.training - INFO - Found 0 jobs for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-27 01:13:07 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle - Status: 200
2025-06-27 01:13:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-27 01:13:12 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 550e8400-e29b-41d4-a716-446
2025-06-27 01:13:12 - app.services.training_service - INFO - Created job 67632b0a-f2a3-4acc-96e4-9bdc4c7978af with 2 training items
2025-06-27 01:13:12 - app.routers.training - INFO - Created enhanced job: 67632b0a-f2a3-4acc-96e4-9bdc4c7978af for user: nodejs_service, agent: 550e8400-e29b-41d4-a716-446
2025-06-27 01:13:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-27 01:13:12 - app.services.training_service - INFO - Starting training pipeline for job 67632b0a-f2a3-4acc-96e4-9bdc4c7978af
2025-06-27 01:13:13 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data1.json: 404 Client Error: Not Found for url: https://example.com/data1.json
2025-06-27 01:13:15 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data2.json: 404 Client Error: Not Found for url: https://example.com/data2.json
2025-06-27 01:13:15 - app.services.training_service - INFO - Training completed for job 67632b0a-f2a3-4acc-96e4-9bdc4c7978af with 0 chunks
2025-06-27 01:13:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-27 01:13:21 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 550e8400-e29b-41d4-a716-6
2025-06-27 01:13:21 - app.services.training_service - INFO - Created job 7b5147c5-4502-423c-908a-154b1bb1ea9f with 2 training items
2025-06-27 01:13:21 - app.routers.training - INFO - Created enhanced job: 7b5147c5-4502-423c-908a-154b1bb1ea9f for user: nodejs_service, agent: 550e8400-e29b-41d4-a716-6
2025-06-27 01:13:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-27 01:13:21 - app.services.training_service - INFO - Starting training pipeline for job 7b5147c5-4502-423c-908a-154b1bb1ea9f
2025-06-27 01:13:23 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data1.json: 404 Client Error: Not Found for url: https://example.com/data1.json
2025-06-27 01:13:25 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data2.json: 404 Client Error: Not Found for url: https://example.com/data2.json
2025-06-27 01:13:25 - app.services.training_service - INFO - Training completed for job 7b5147c5-4502-423c-908a-154b1bb1ea9f with 0 chunks
2025-06-27 01:13:25 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle
2025-06-27 01:13:25 - app.routers.training - INFO - Listing jobs for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-27 01:13:25 - app.routers.training - INFO - Found 0 jobs for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-27 01:13:25 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle - Status: 200
2025-06-27 01:13:26 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle
2025-06-27 01:13:26 - app.routers.training - INFO - Listing jobs for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-06-27 01:13:26 - app.routers.training - INFO - Found 0 jobs for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-06-27 01:13:26 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training?agent_id=The-Great-Backyard-Battle - Status: 200
2025-06-27 01:13:35 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/debug/all-jobs
2025-06-27 01:13:35 - app.routers.training - INFO - Debug: Getting all jobs for user: nodejs_service
2025-06-27 01:13:35 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/debug/all-jobs - Status: 200
2025-06-27 01:13:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-27 01:13:42 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:13:42 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:13:42 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:13:42 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:13:44 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:13:44 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:13:44 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:13:44 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:13:44 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-27 01:13:44 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-27 01:13:44 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-06-27 01:13:44 - app.services.rag_service - INFO - Created 4 chunks
2025-06-27 01:13:44 - app.services.rag_service - INFO - Generating embeddings...
2025-06-27 01:13:45 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-27 01:13:45 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:13:45 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-06-27 01:13:45 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-06-27 01:13:45 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-06-27 01:13:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-27 01:13:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-27 01:13:48 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:13:48 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:13:48 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:13:48 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:13:48 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-06-27 01:13:48 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:13:48 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:13:48 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:13:48 - app.services.rag_service - INFO - Filtered 8 documents from 8
2025-06-27 01:13:48 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:14:00 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-27 01:16:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/{agent_id}
2025-06-27 01:16:51 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:16:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:16:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:16:51 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:16:51 - app.services.llm_service - ERROR - HTTP Client Error calling Ollama: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:16:51 - app.services.llm_service - WARNING - Async request failed, trying sync: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:16:51 - app.services.llm_service - ERROR - Error calling Ollama: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:16:51 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:16:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:16:51 - app.services.rag_service - INFO - Processing query: your text
2025-06-27 01:16:51 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:16:51 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:16:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:16:51 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:16:51 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:17:06 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/{agent_id} - Status: 200
2025-06-27 01:18:03 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:18:04 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:18:04 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:18:04 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:18:04 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:18:04 - app.services.llm_service - ERROR - HTTP Client Error calling Ollama: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:18:04 - app.services.llm_service - WARNING - Async request failed, trying sync: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:18:04 - app.services.llm_service - ERROR - Error calling Ollama: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:18:04 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:18:04 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:18:04 - app.services.rag_service - INFO - Processing query: your text
2025-06-27 01:18:04 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:18:04 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:18:04 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:18:04 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:18:04 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:18:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:19:06 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:19:07 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:19:07 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:19:07 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:19:07 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:19:07 - app.services.llm_service - ERROR - HTTP Client Error calling Ollama: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:19:07 - app.services.llm_service - WARNING - Async request failed, trying sync: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:19:07 - app.services.llm_service - ERROR - Error calling Ollama: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:19:07 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:19:07 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:19:07 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:19:07 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:19:07 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:19:07 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:19:07 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:19:07 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:19:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:22:13 - app - INFO - Shutting down application...
2025-06-27 01:22:13 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:22:58 - app - INFO - Logging configured successfully
2025-06-27 01:22:58 - app - INFO - Starting application...
2025-06-27 01:22:59 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:23:03 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:23:08 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:23:08 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:23:08 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:23:08 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:23:08 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:23:08 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:23:08 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:23:08 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:23:08 - app.services.llm_service - ERROR - HTTP Client Error calling Ollama: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:23:08 - app.services.llm_service - WARNING - Async request failed, trying sync: 404, message='Not Found', url='http://localhost:11434/api/generate'
2025-06-27 01:23:08 - app.services.llm_service - ERROR - Error calling Ollama: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:23:08 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:23:08 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:23:08 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:23:08 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:23:09 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:23:09 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:23:09 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:23:09 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:23:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:29:18 - app - INFO - Shutting down application...
2025-06-27 01:29:18 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:29:30 - app - INFO - Logging configured successfully
2025-06-27 01:29:30 - app - INFO - Starting application...
2025-06-27 01:29:30 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:30:59 - app - INFO - Shutting down application...
2025-06-27 01:30:59 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:34:17 - app - INFO - Logging configured successfully
2025-06-27 01:34:17 - app - INFO - Starting application...
2025-06-27 01:34:17 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:34:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:34:25 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:34:25 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:34:25 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:34:25 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:34:26 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:34:26 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:34:26 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:34:26 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:34:26 - app.services.llm_service - ERROR - Error calling Ollama: Ollama endpoint not found at http://localhost:11434/api/generate. Is Ollama running?
2025-06-27 01:34:26 - app.services.llm_service - WARNING - Async request failed, trying sync: Failed to communicate with Ollama: Ollama endpoint not found at http://localhost:11434/api/generate. Is Ollama running?. Please check if Ollama is installed and running.
2025-06-27 01:34:26 - app.services.llm_service - ERROR - Error calling Ollama: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:34:26 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:34:26 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:34:26 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:34:26 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:34:26 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:34:26 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:34:26 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:34:26 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:34:46 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:35:49 - app - INFO - Shutting down application...
2025-06-27 01:35:49 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:35:52 - app - INFO - Logging configured successfully
2025-06-27 01:35:52 - app - INFO - Starting application...
2025-06-27 01:35:52 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:35:54 - app - INFO - Shutting down application...
2025-06-27 01:35:54 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:35:56 - app - INFO - Logging configured successfully
2025-06-27 01:35:56 - app - INFO - Starting application...
2025-06-27 01:35:56 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:37:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:37:52 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:37:52 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:37:52 - app.services.llm_service - ERROR - Error calling Ollama: Ollama endpoint not found at http://localhost:11434/api/generate. Is Ollama running?
2025-06-27 01:37:52 - app.services.llm_service - WARNING - Async request failed, trying sync: Failed to communicate with Ollama: Ollama endpoint not found at http://localhost:11434/api/generate. Is Ollama running?. Please check if Ollama is installed and running.
2025-06-27 01:37:52 - app.services.llm_service - ERROR - Error calling Ollama: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:37:52 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:37:52 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:37:52 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:37:52 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:37:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:37:52 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:37:52 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:38:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:40:54 - app - INFO - Shutting down application...
2025-06-27 01:40:54 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:40:57 - app - INFO - Logging configured successfully
2025-06-27 01:40:57 - app - INFO - Starting application...
2025-06-27 01:40:57 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:41:00 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:41:05 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:41:05 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:41:05 - app.services.llm_service - INFO - Attempting async generate request with model: llama3
2025-06-27 01:41:05 - app.services.llm_service - ERROR - Error calling Ollama async: Ollama endpoint not found at http://localhost:11434/api/generate. Is Ollama running and accessible?
2025-06-27 01:41:05 - app.services.llm_service - WARNING - Async generate request failed: Failed to communicate with Ollama: Ollama endpoint not found at http://localhost:11434/api/generate. Is Ollama running and accessible?
2025-06-27 01:41:05 - app.services.llm_service - INFO - Falling back to sync request
2025-06-27 01:41:05 - app.services.llm_service - ERROR - Sync wrapper error: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:41:05 - app.services.llm_service - ERROR - Both async and sync generate requests failed. Async: Failed to communicate with Ollama: Ollama endpoint not found at http://localhost:11434/api/generate. Is Ollama running and accessible?, Sync: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:41:05 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: All generate request methods failed. Last error: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:41:05 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:41:05 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:41:05 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:41:05 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:41:05 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:41:05 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:41:05 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:41:10 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:41:23 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:44:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:44:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 404
2025-06-27 01:45:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:45:31 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 401
2025-06-27 01:45:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:45:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 422
2025-06-27 01:48:38 - app - INFO - Shutting down application...
2025-06-27 01:48:38 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:48:40 - app - INFO - Logging configured successfully
2025-06-27 01:48:41 - app - INFO - Starting application...
2025-06-27 01:48:41 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:48:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:48:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 422
2025-06-27 01:50:45 - app - INFO - Shutting down application...
2025-06-27 01:50:45 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:50:48 - app - INFO - Logging configured successfully
2025-06-27 01:50:48 - app - INFO - Starting application...
2025-06-27 01:50:48 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:51:03 - app - INFO - Shutting down application...
2025-06-27 01:51:03 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:51:05 - app - INFO - Logging configured successfully
2025-06-27 01:51:05 - app - INFO - Starting application...
2025-06-27 01:51:05 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:51:58 - app - INFO - Shutting down application...
2025-06-27 01:51:58 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:52:00 - app - INFO - Logging configured successfully
2025-06-27 01:52:00 - app - INFO - Starting application...
2025-06-27 01:52:00 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:52:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:52:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 422
2025-06-27 01:52:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:52:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/voice/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 422
2025-06-27 01:52:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:52:13 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:52:13 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:52:13 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:52:13 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:52:15 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:52:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:52:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:52:15 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:52:15 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:52:15 - app.services.llm_service - INFO - Model llama3 availability: False
2025-06-27 01:52:15 - app.services.llm_service - INFO - Available models: ['deepseek-r1:1.5b']
2025-06-27 01:52:15 - app.services.llm_service - WARNING - Model llama3 not available, attempting to pull...
2025-06-27 01:52:15 - app.services.llm_service - INFO - Attempting to pull model: llama3
2025-06-27 01:52:15 - app.services.llm_service - INFO - Successfully pulled model: llama3
2025-06-27 01:52:15 - app.services.llm_service - INFO - Attempting async generate request with model: llama3
2025-06-27 01:52:15 - app.services.llm_service - ERROR - Error calling Ollama async: Model 'llama3' not found. Please pull the model first.
2025-06-27 01:52:15 - app.services.llm_service - WARNING - Async generate request failed: Failed to communicate with Ollama: Model 'llama3' not found. Please pull the model first.
2025-06-27 01:52:15 - app.services.llm_service - INFO - Falling back to sync request
2025-06-27 01:52:15 - app.services.llm_service - ERROR - Error calling Ollama sync: Model 'llama3' not found. Please pull the model first.
2025-06-27 01:52:15 - app.services.llm_service - ERROR - Both async and sync generate requests failed. Async: Failed to communicate with Ollama: Model 'llama3' not found. Please pull the model first., Sync: Failed to communicate with Ollama: Model 'llama3' not found. Please pull the model first.
2025-06-27 01:52:15 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: All generate request methods failed. Last error: Failed to communicate with Ollama: Model 'llama3' not found. Please pull the model first.
2025-06-27 01:52:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:52:15 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:52:15 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:52:15 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:52:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:52:15 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:52:15 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:52:15 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:52:15 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:52:15 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:52:20 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:52:20 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:52:20 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:52:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:53:18 - app - INFO - Shutting down application...
2025-06-27 01:53:18 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:53:22 - app - INFO - Logging configured successfully
2025-06-27 01:53:22 - app - INFO - Starting application...
2025-06-27 01:53:22 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:53:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:53:29 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:53:30 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:53:30 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:53:30 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:53:30 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:53:30 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:53:30 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:53:30 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:53:30 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:53:30 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:53:30 - app.services.llm_service - INFO - Attempting async generate request with model: deepseek-r1:1.5b
2025-06-27 01:53:36 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: Expecting value: line 1 column 1 (char 0)
2025-06-27 01:53:36 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:53:36 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:53:36 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:53:36 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:53:36 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:53:36 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:53:36 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:53:36 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:53:36 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:53:36 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:53:41 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:53:41 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:53:41 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:53:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:54:38 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/health/ollama
2025-06-27 01:54:38 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/health/ollama - Status: 404
2025-06-27 01:55:07 - app - INFO - Shutting down application...
2025-06-27 01:55:07 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:55:56 - app - INFO - Logging configured successfully
2025-06-27 01:55:56 - app - INFO - Starting application...
2025-06-27 01:55:56 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:56:19 - app - INFO - Shutting down application...
2025-06-27 01:56:19 - app.services.cache - INFO - Redis connection closed
2025-06-27 01:56:21 - app - INFO - Logging configured successfully
2025-06-27 01:56:21 - app - INFO - Starting application...
2025-06-27 01:56:21 - app.services.cache - INFO - Connected to Redis successfully
2025-06-27 01:56:28 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/health/ollama
2025-06-27 01:56:28 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:56:28 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/health/ollama - Status: 200
2025-06-27 01:56:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-27 01:56:38 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-27 01:56:38 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-27 01:56:38 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-27 01:56:38 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:56:38 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:56:38 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:56:38 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:56:38 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:56:38 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:56:38 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:56:38 - app.services.llm_service - INFO - Attempting async generate request with model: deepseek-r1:1.5b
2025-06-27 01:56:44 - app.services.agent_interaction_service - ERROR - Emotion analysis failed: Expecting value: line 1 column 1 (char 0)
2025-06-27 01:56:44 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:56:44 - app.services.rag_service - INFO - Processing query: i have a fever
2025-06-27 01:56:44 - app.services.rag_service - INFO - Generating query embedding...
2025-06-27 01:56:44 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-27 01:56:44 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:56:44 - app.services.rag_service - INFO - Filtered 2 documents from 2
2025-06-27 01:56:44 - app.services.rag_service - INFO - Generating LLM response...
2025-06-27 01:56:44 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:56:44 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:56:44 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:56:47 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:56:47 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-27 01:56:47 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-27 01:56:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/interact/chat/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 200
2025-06-27 01:57:14 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/health/models
2025-06-27 01:57:14 - app.services.llm_service - INFO - Found 1 models
2025-06-27 01:57:14 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/health/models - Status: 200
2025-06-27 01:57:29 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-06-27 01:57:29 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-27 01:57:29 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:57:29 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:57:29 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-27 01:57:29 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-27 01:57:29 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-06-27 01:57:34 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-27 01:57:34 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-27 01:57:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-06-27 01:57:44 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 550e8400-e29b-41d4-a716-6
2025-06-27 01:57:44 - app.services.training_service - INFO - Created job f8aa6efe-13b7-493e-bba4-4e4e60188ad3 with 2 training items
2025-06-27 01:57:44 - app.routers.training - INFO - Created enhanced job: f8aa6efe-13b7-493e-bba4-4e4e60188ad3 for user: nodejs_service, agent: 550e8400-e29b-41d4-a716-6
2025-06-27 01:57:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-06-27 01:57:44 - app.services.training_service - INFO - Starting training pipeline for job f8aa6efe-13b7-493e-bba4-4e4e60188ad3
2025-06-27 01:57:45 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data1.json: 404 Client Error: Not Found for url: https://example.com/data1.json
2025-06-27 01:57:47 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data2.json: 404 Client Error: Not Found for url: https://example.com/data2.json
2025-06-27 01:57:47 - app.services.training_service - INFO - Training completed for job f8aa6efe-13b7-493e-bba4-4e4e60188ad3 with 0 chunks
2025-06-27 01:57:52 - app - INFO - Shutting down application...
2025-06-27 01:57:52 - app.services.cache - INFO - Redis connection closed
2025-06-28 14:44:33 - app - INFO - Logging configured successfully
2025-06-28 14:44:33 - app - INFO - Starting application...
2025-06-28 14:44:33 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 15:07:06 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/auth/register
2025-06-28 15:07:06 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/auth/register - Status: 404
2025-06-28 16:08:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 16:08:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-06-28 16:08:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 16:08:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-06-28 16:09:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 16:09:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-06-28 16:10:40 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:10:40 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:12:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 16:12:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-28 16:13:12 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/b4530154-1ece-4ab0-9a3e-f633720f6502
2025-06-28 16:13:12 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/b4530154-1ece-4ab0-9a3e-f633720f6502 - Status: 401
2025-06-28 16:13:26 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/b4530154-1ece-4ab0-9a3e-f633720f6502
2025-06-28 16:13:26 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/b4530154-1ece-4ab0-9a3e-f633720f6502 - Status: 204
2025-06-28 16:13:30 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/b4530154-1ece-4ab0-9a3e-f633720f6502
2025-06-28 16:13:30 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/b4530154-1ece-4ab0-9a3e-f633720f6502 - Status: 404
2025-06-28 16:13:39 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:13:39 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:14:07 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/cb2038aa-b53d-4a1e-9709-f42ee0873d17
2025-06-28 16:14:07 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/cb2038aa-b53d-4a1e-9709-f42ee0873d17 - Status: 204
2025-06-28 16:14:11 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:14:11 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:14:22 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/ef9e6692-f2ac-4ec5-b14f-6622ae75996b
2025-06-28 16:14:22 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/ef9e6692-f2ac-4ec5-b14f-6622ae75996b - Status: 204
2025-06-28 16:14:25 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:14:25 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:14:37 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/30268671-ffe8-47a0-a4a9-aae610c272f1
2025-06-28 16:14:37 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/30268671-ffe8-47a0-a4a9-aae610c272f1 - Status: 204
2025-06-28 16:14:41 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:14:41 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:14:56 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/085b6303-85e3-45a3-9984-5aaa40411a92
2025-06-28 16:14:56 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/085b6303-85e3-45a3-9984-5aaa40411a92 - Status: 204
2025-06-28 16:14:59 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:14:59 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:15:10 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/1ffa25aa-144b-41d2-884f-c1fda170d305
2025-06-28 16:15:10 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/1ffa25aa-144b-41d2-884f-c1fda170d305 - Status: 204
2025-06-28 16:15:14 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:15:14 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:15:28 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/b452650e-b1da-4c39-a779-796158fb8b0b
2025-06-28 16:15:28 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/b452650e-b1da-4c39-a779-796158fb8b0b - Status: 204
2025-06-28 16:15:29 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/b452650e-b1da-4c39-a779-796158fb8b0b
2025-06-28 16:15:29 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/b452650e-b1da-4c39-a779-796158fb8b0b - Status: 404
2025-06-28 16:15:33 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:15:33 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:15:43 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/32e1dbbb-ff6e-4e36-8fae-d962774afe3b
2025-06-28 16:15:43 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/32e1dbbb-ff6e-4e36-8fae-d962774afe3b - Status: 204
2025-06-28 16:15:46 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:15:46 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:16:02 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/df0948b4-7c28-457c-902e-fbc6da7e5726
2025-06-28 16:16:02 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/df0948b4-7c28-457c-902e-fbc6da7e5726 - Status: 204
2025-06-28 16:16:04 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:16:04 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:16:15 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/9ef9189c-886f-487c-8fef-d83a914143ed
2025-06-28 16:16:15 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/9ef9189c-886f-487c-8fef-d83a914143ed - Status: 204
2025-06-28 16:16:18 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:16:18 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:16:27 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/836729bb-e440-4d57-926d-69f97464886f
2025-06-28 16:16:27 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/836729bb-e440-4d57-926d-69f97464886f - Status: 204
2025-06-28 16:16:31 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:16:31 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:16:42 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/d027341a-b259-4245-a982-0a0d39c2b795
2025-06-28 16:16:42 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/d027341a-b259-4245-a982-0a0d39c2b795 - Status: 204
2025-06-28 16:16:46 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:16:46 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:16:57 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/fb72a97b-0986-4482-a192-7c79b12894f4
2025-06-28 16:16:57 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/fb72a97b-0986-4482-a192-7c79b12894f4 - Status: 204
2025-06-28 16:17:03 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:17:03 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:18:29 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/undefined
2025-06-28 16:18:29 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/undefined - Status: 401
2025-06-28 16:20:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 16:20:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-06-28 16:21:06 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:21:06 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:21:08 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:21:08 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:22:28 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/undefined
2025-06-28 16:22:28 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/undefined - Status: 404
2025-06-28 16:22:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 16:22:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-28 16:24:33 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/5b282d2c-9634-4af0-bd9e-f4a6735f3fe8
2025-06-28 16:24:33 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/5b282d2c-9634-4af0-bd9e-f4a6735f3fe8 - Status: 204
2025-06-28 16:29:51 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 16:29:51 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 16:36:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 16:36:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-28 16:37:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute
2025-06-28 16:37:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute - Status: 404
2025-06-28 16:41:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/voice/tts
2025-06-28 16:42:02 - app.services.voice_service - ERROR - Error in text-to-speech: 'NoneType' object is not subscriptable
2025-06-28 16:42:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/voice/tts - Status: 500
2025-06-28 16:42:03 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/voice/tts
2025-06-28 16:42:03 - app.services.voice_service - ERROR - Error in text-to-speech: 'NoneType' object is not subscriptable
2025-06-28 16:42:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/voice/tts - Status: 500
2025-06-28 16:42:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/voice/tts
2025-06-28 16:42:05 - app.services.voice_service - ERROR - Error in text-to-speech: 'NoneType' object is not subscriptable
2025-06-28 16:42:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/voice/tts - Status: 500
2025-06-28 16:42:06 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/voice/tts
2025-06-28 16:42:06 - app.services.voice_service - ERROR - Error in text-to-speech: 'NoneType' object is not subscriptable
2025-06-28 16:42:06 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/voice/tts - Status: 500
2025-06-28 16:42:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat/completions
2025-06-28 16:42:33 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat/completions - Status: 404
2025-06-28 16:42:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat/completions
2025-06-28 16:42:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat/completions - Status: 404
2025-06-28 16:42:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-28 16:42:58 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-28 16:42:59 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-28 16:42:59 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-28 16:42:59 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 16:43:00 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-28 16:43:00 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 16:43:00 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 16:43:00 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-28 16:43:00 - app.services.rag_service - INFO - Processing query: What are the key features of your product?
2025-06-28 16:43:00 - app.services.rag_service - INFO - Generating query embedding...
2025-06-28 16:43:00 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-28 16:43:00 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 16:43:00 - app.services.rag_service - INFO - Filtered 8 documents from 8
2025-06-28 16:43:00 - app.services.rag_service - INFO - Generating LLM response...
2025-06-28 16:43:00 - app.services.llm_service - INFO - Found 1 models
2025-06-28 16:43:00 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-28 16:43:00 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-28 16:43:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-06-28 16:43:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-28 16:43:56 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-28 16:43:56 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 16:43:56 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 16:43:56 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-28 16:43:56 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offerletter_2_1.pdf
2025-06-28 16:43:56 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-06-28 16:43:56 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-06-28 16:43:56 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-06-28 16:43:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-28 16:45:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents/demo-agent-id/execute
2025-06-28 16:45:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents/demo-agent-id/execute - Status: 404
2025-06-28 16:46:15 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute
2025-06-28 16:46:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute - Status: 404
2025-06-28 16:47:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/550e8400-e29b-41d4-a716-446655440000
2025-06-28 16:47:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/550e8400-e29b-41d4-a716-446655440000 - Status: 404
2025-06-28 16:47:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/550e8400-e29b-41d4-a716-446655440000
2025-06-28 16:47:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/550e8400-e29b-41d4-a716-446655440000 - Status: 404
2025-06-28 17:06:55 - app.middleware.logging_middleware - INFO - Incoming request: PUT http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:06:55 - app.middleware.logging_middleware - INFO - Request completed: PUT http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:07:12 - app.middleware.logging_middleware - INFO - Incoming request: PUT http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:07:12 - app.middleware.logging_middleware - INFO - Request completed: PUT http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:08:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents/demo-agent-id/execute
2025-06-28 17:08:33 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents/demo-agent-id/execute - Status: 404
2025-06-28 17:10:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-28 17:10:49 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-28 17:10:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:10:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:10:49 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-28 17:10:49 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offerletter_2_1.pdf
2025-06-28 17:10:49 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-06-28 17:10:49 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-06-28 17:10:49 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-06-28 17:10:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-06-28 17:11:08 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat/completions
2025-06-28 17:11:08 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat/completions - Status: 404
2025-06-28 17:11:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-28 17:11:48 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-28 17:11:48 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:11:48 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:11:48 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-28 17:11:48 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-06-28 17:11:48 - app.services.rag_service - INFO - Extracted text length: 2664
2025-06-28 17:11:48 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-06-28 17:11:48 - app.services.rag_service - INFO - Created 4 chunks
2025-06-28 17:11:48 - app.services.rag_service - INFO - Generating embeddings...
2025-06-28 17:11:49 - app.services.rag_service - INFO - Generated 4 embeddings
2025-06-28 17:11:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:11:49 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-06-28 17:11:49 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-06-28 17:11:49 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-06-28 17:11:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-28 17:12:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-28 17:12:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 415
2025-06-28 17:12:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-06-28 17:12:35 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-28 17:12:35 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:12:35 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:12:35 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-28 17:12:35 - app.services.rag_service - INFO - Starting document ingestion for 236733_Form16_Signed (2).pdf
2025-06-28 17:12:35 - app.services.rag_service - INFO - Extracted text length: 16031
2025-06-28 17:12:35 - app.services.rag_service - INFO - Split text into 24 chunks with overlap
2025-06-28 17:12:35 - app.services.rag_service - INFO - Created 24 chunks
2025-06-28 17:12:35 - app.services.rag_service - INFO - Generating embeddings...
2025-06-28 17:12:44 - app.services.rag_service - INFO - Generated 24 embeddings
2025-06-28 17:12:44 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-28 17:12:44 - app.utils.qdrant_async - INFO - Upserting 24 points in batches of 100
2025-06-28 17:12:44 - app.utils.qdrant_async - INFO - Successfully upserted 24/24 points to documents
2025-06-28 17:12:44 - app.services.rag_service - INFO - Successfully ingested document 236733_Form16_Signed (2).pdf with 24 chunks
2025-06-28 17:12:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-06-28 17:13:20 - app - INFO - Shutting down application...
2025-06-28 17:13:20 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:13:41 - app - INFO - Logging configured successfully
2025-06-28 17:13:41 - app - INFO - Starting application...
2025-06-28 17:13:41 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:14:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute
2025-06-28 17:14:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute - Status: 404
2025-06-28 17:16:59 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 17:16:59 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 17:17:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:17:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 404
2025-06-28 17:18:34 - app - INFO - Shutting down application...
2025-06-28 17:18:34 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:18:37 - app - INFO - Logging configured successfully
2025-06-28 17:19:12 - app - INFO - Logging configured successfully
2025-06-28 17:19:19 - app - INFO - Logging configured successfully
2025-06-28 17:20:01 - app - INFO - Logging configured successfully
2025-06-28 17:25:26 - app - INFO - Logging configured successfully
2025-06-28 17:25:26 - app - INFO - Starting application...
2025-06-28 17:25:26 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:25:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:25:31 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 404
2025-06-28 17:25:56 - app - INFO - Shutting down application...
2025-06-28 17:25:56 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:25:59 - app - INFO - Logging configured successfully
2025-06-28 17:25:59 - app - INFO - Starting application...
2025-06-28 17:25:59 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:26:06 - app - INFO - Shutting down application...
2025-06-28 17:26:06 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:26:08 - app - INFO - Logging configured successfully
2025-06-28 17:26:08 - app - INFO - Starting application...
2025-06-28 17:26:08 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:26:17 - app - INFO - Shutting down application...
2025-06-28 17:26:17 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:27:15 - app - INFO - Logging configured successfully
2025-06-28 17:27:15 - app - INFO - Starting application...
2025-06-28 17:27:15 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:27:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:27:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 404
2025-06-28 17:28:36 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:28:36 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 401
2025-06-28 17:28:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:28:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:29:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:29:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:29:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:29:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:40 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:29:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:29:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:29:55 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:55 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 404
2025-06-28 17:29:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:29:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 404
2025-06-28 17:30:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:30:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 401
2025-06-28 17:30:26 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:30:26 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:30:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:30:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:33:20 - app - INFO - Shutting down application...
2025-06-28 17:33:20 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:33:43 - app - INFO - Logging configured successfully
2025-06-28 17:33:43 - app - INFO - Starting application...
2025-06-28 17:33:43 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:35:47 - app - INFO - Shutting down application...
2025-06-28 17:35:47 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:35:50 - app - INFO - Logging configured successfully
2025-06-28 17:35:50 - app - INFO - Starting application...
2025-06-28 17:35:50 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:35:58 - app - INFO - Shutting down application...
2025-06-28 17:35:58 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:36:00 - app - INFO - Logging configured successfully
2025-06-28 17:36:00 - app - INFO - Starting application...
2025-06-28 17:36:00 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:36:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:36:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:36:23 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:36:23 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:36:50 - app - INFO - Shutting down application...
2025-06-28 17:36:50 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:36:52 - app - INFO - Logging configured successfully
2025-06-28 17:36:52 - app - INFO - Starting application...
2025-06-28 17:36:52 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:36:53 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:36:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:36:55 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:36:55 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:37:12 - app - INFO - Shutting down application...
2025-06-28 17:37:12 - app.services.cache - INFO - Redis connection closed
2025-06-28 17:37:14 - app - INFO - Logging configured successfully
2025-06-28 17:37:14 - app - INFO - Starting application...
2025-06-28 17:37:14 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 17:37:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:37:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:38:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:39:11 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:40:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:40:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:41:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:42:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:42:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute
2025-06-28 17:42:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents/685fccce7e34161c61bf6b59/execute - Status: 404
2025-06-28 17:49:08 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 17:49:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 17:50:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/685fccce7e34161c61bf6b59
2025-06-28 17:50:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/685fccce7e34161c61bf6b59 - Status: 404
2025-06-28 18:00:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 18:00:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 18:10:16 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 18:10:16 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb - Status: 200
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 200
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 200
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-06-28 18:15:07 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 204
2025-06-28 18:15:26 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 18:15:26 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb - Status: 200
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 200
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 18:16:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb - Status: 200
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 200
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 18:16:34 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 18:16:42 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-06-28 18:16:42 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-06-28 18:17:26 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:17:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:17:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:17:33 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:18:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:18:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:18:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:18:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:19:00 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:19:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:19:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:19:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:19:10 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:19:11 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:19:46 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/demo-agent-id
2025-06-28 18:19:46 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/demo-agent-id - Status: 404
2025-06-28 18:20:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:20:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:21:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:21:14 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:21:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:21:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:21:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-28 18:21:25 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-28 18:22:03 - app - INFO - Shutting down application...
2025-06-28 18:22:03 - app.services.cache - INFO - Redis connection closed
2025-06-28 18:22:06 - app - INFO - Logging configured successfully
2025-06-28 18:22:06 - app - INFO - Starting application...
2025-06-28 18:22:06 - app.services.cache - INFO - Connected to Redis successfully
2025-06-28 19:33:41 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-28 19:33:41 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 422
2025-06-28 19:34:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-06-28 19:34:44 - app.services.llm_service - INFO - Found 1 models
2025-06-28 19:34:44 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-28 19:34:44 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-28 19:34:46 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-06-28 19:37:55 - app - INFO - Shutting down application...
2025-06-28 19:37:55 - app.services.cache - INFO - Redis connection closed
2025-06-29 10:28:56 - app - INFO - Logging configured successfully
2025-06-29 10:28:56 - app - INFO - Starting application...
2025-06-29 10:28:56 - app.services.cache - INFO - Connected to Redis successfully
2025-06-29 19:48:23 - app - INFO - Logging configured successfully
2025-06-29 19:48:23 - app - INFO - Starting application...
2025-06-29 19:48:23 - app.services.cache - WARNING - Redis connection failed, caching disabled: Error 61 connecting to localhost:6379. Connection refused.
2025-06-29 19:49:26 - app - INFO - Shutting down application...
2025-06-29 19:49:29 - app - INFO - Logging configured successfully
2025-06-29 19:49:29 - app - INFO - Starting application...
2025-06-29 19:49:29 - app.services.cache - INFO - Connected to Redis successfully
2025-06-29 22:37:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:37:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:37:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:37:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:41:43 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:41:43 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:41:43 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:41:43 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:41:45 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:41:45 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:41:45 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:41:45 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:42:03 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:42:03 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:42:03 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:42:03 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:42:42 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:42:42 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:42:42 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:42:42 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:43:00 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:43:00 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:43:00 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-06-29 22:43:00 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-06-29 22:44:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-29 22:44:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-29 22:45:10 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-06-29 22:45:11 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-06-29 23:36:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-06-29 23:36:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-06-29 23:36:51 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-06-29 23:36:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-06-29 23:39:53 - app - INFO - Shutting down application...
2025-06-29 23:39:53 - app.services.cache - INFO - Redis connection closed
2025-06-30 23:38:27 - app - INFO - Logging configured successfully
2025-06-30 23:38:27 - app - INFO - Starting application...
2025-06-30 23:38:27 - app.services.cache - WARNING - Redis connection failed, caching disabled: Error 61 connecting to localhost:6379. Connection refused.
2025-06-30 23:39:17 - app - INFO - Shutting down application...
2025-06-30 23:39:20 - app - INFO - Logging configured successfully
2025-06-30 23:39:20 - app - INFO - Starting application...
2025-06-30 23:39:20 - app.services.cache - INFO - Connected to Redis successfully
2025-06-30 23:48:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat/completions
2025-06-30 23:48:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat/completions - Status: 404
2025-06-30 23:49:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-06-30 23:49:31 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-06-30 23:49:31 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-06-30 23:49:31 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-06-30 23:49:31 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-30 23:49:32 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-06-30 23:49:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-30 23:49:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-30 23:49:32 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-06-30 23:49:32 - app.services.rag_service - INFO - Processing query: What are the key features of your product?
2025-06-30 23:49:32 - app.services.rag_service - INFO - Generating query embedding...
2025-06-30 23:49:32 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-06-30 23:49:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-06-30 23:49:32 - app.services.rag_service - INFO - Filtered 10 documents from 10
2025-06-30 23:49:32 - app.services.rag_service - INFO - Generating LLM response...
2025-06-30 23:49:32 - app.services.llm_service - INFO - Found 1 models
2025-06-30 23:49:32 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-06-30 23:49:32 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-06-30 23:49:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-01 00:06:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 00:06:22 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:06:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:06:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:06:22 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:06:22 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offerletter_2_1.pdf
2025-07-01 00:06:22 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 00:06:22 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:06:22 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:06:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 00:06:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 00:06:53 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:06:53 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:06:53 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:06:53 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:06:53 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-01 00:06:53 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 00:06:53 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:06:53 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:06:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 00:07:15 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 00:07:15 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:07:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:07:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:07:15 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:07:15 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-01 00:07:15 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 00:07:15 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:07:15 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:07:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 00:12:18 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:12:18 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:12:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:12:41 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:13:23 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047
2025-07-01 00:13:23 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/09d3d17b-1209-49cc-85cb-70acdf4a5047 - Status: 404
2025-07-01 00:13:40 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/0d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:13:40 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/0d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 404
2025-07-01 00:14:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:14:06 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:14:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:14:38 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:15:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:15:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:17:37 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:17:38 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:19:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-01 00:19:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-01 00:25:48 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:25:48 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:27:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-01 00:27:47 - app.services.llm_service - INFO - Found 1 models
2025-07-01 00:27:47 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-01 00:27:47 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-01 00:27:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-01 00:28:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 00:28:13 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:28:13 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:28:13 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:28:13 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:28:13 - app.services.rag_service - INFO - Starting document ingestion for 236733_Form16_Signed (2).pdf
2025-07-01 00:28:13 - app.services.rag_service - INFO - Extracted text length: 16031
2025-07-01 00:28:13 - app.services.rag_service - INFO - Split text into 24 chunks with overlap
2025-07-01 00:28:13 - app.services.rag_service - INFO - Created 24 chunks
2025-07-01 00:28:13 - app.services.rag_service - INFO - Generating embeddings...
2025-07-01 00:28:22 - app.services.rag_service - INFO - Generated 24 embeddings
2025-07-01 00:28:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:28:22 - app.utils.qdrant_async - INFO - Upserting 24 points in batches of 100
2025-07-01 00:28:22 - app.utils.qdrant_async - INFO - Successfully upserted 24/24 points to documents
2025-07-01 00:28:22 - app.services.rag_service - INFO - Successfully ingested document 236733_Form16_Signed (2).pdf with 24 chunks
2025-07-01 00:28:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-01 00:28:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-01 00:28:33 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:28:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:28:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:28:33 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:28:33 - app.services.rag_service - INFO - Processing query: Is this resume is job ready??
2025-07-01 00:28:33 - app.services.rag_service - INFO - Generating query embedding...
2025-07-01 00:28:33 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-07-01 00:28:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:28:33 - app.services.rag_service - INFO - Filtered 10 documents from 10
2025-07-01 00:28:33 - app.services.rag_service - INFO - Generating LLM response...
2025-07-01 00:28:33 - app.services.llm_service - INFO - Found 1 models
2025-07-01 00:28:33 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-01 00:28:33 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-01 00:28:51 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-01 00:29:10 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-07-01 00:29:10 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:29:10 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:29:10 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:29:10 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:29:10 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:29:10 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-07-01 00:29:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 00:29:31 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 550e8400-e29b-41d4-a716-6
2025-07-01 00:29:31 - app.services.training_service - INFO - Created job 33c62537-fda2-442c-8868-ab4b9ac34397 with 2 training items
2025-07-01 00:29:31 - app.routers.training - INFO - Created enhanced job: 33c62537-fda2-442c-8868-ab4b9ac34397 for user: nodejs_service, agent: 550e8400-e29b-41d4-a716-6
2025-07-01 00:29:31 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-01 00:29:31 - app.services.training_service - INFO - Starting training pipeline for job 33c62537-fda2-442c-8868-ab4b9ac34397
2025-07-01 00:29:32 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data1.json: 404 Client Error: Not Found for url: https://example.com/data1.json
2025-07-01 00:29:33 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data2.json: 404 Client Error: Not Found for url: https://example.com/data2.json
2025-07-01 00:29:33 - app.services.training_service - INFO - Training completed for job 33c62537-fda2-442c-8868-ab4b9ac34397 with 0 chunks
2025-07-01 00:30:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 00:30:02 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: The-Great-Backyard-Battle
2025-07-01 00:30:02 - app.services.training_service - INFO - Created job a1c8f877-8cae-4827-9641-67a23eb1e5ba with 1 training items
2025-07-01 00:30:02 - app.routers.training - INFO - Created enhanced job: a1c8f877-8cae-4827-9641-67a23eb1e5ba for user: nodejs_service, agent: The-Great-Backyard-Battle
2025-07-01 00:30:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-01 00:30:02 - app.services.training_service - INFO - Starting training pipeline for job a1c8f877-8cae-4827-9641-67a23eb1e5ba
2025-07-01 00:30:02 - app.services.training_service - INFO - Training completed for job a1c8f877-8cae-4827-9641-67a23eb1e5ba with 3 chunks
2025-07-01 00:30:20 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/training
2025-07-01 00:30:20 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/training - Status: 404
2025-07-01 00:30:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 00:30:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 401
2025-07-01 00:30:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 00:30:42 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: your-agent-id
2025-07-01 00:30:42 - app.services.training_service - INFO - Created job 15f97111-8f13-493a-bb58-6f58cf499941 with 2 training items
2025-07-01 00:30:42 - app.routers.training - INFO - Created enhanced job: 15f97111-8f13-493a-bb58-6f58cf499941 for user: nodejs_service, agent: your-agent-id
2025-07-01 00:30:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-01 00:30:42 - app.services.training_service - INFO - Starting training pipeline for job 15f97111-8f13-493a-bb58-6f58cf499941
2025-07-01 00:30:44 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/document.pdf: 404 Client Error: Not Found for url: https://example.com/document.pdf
2025-07-01 00:30:44 - app.services.training_service - INFO - Training completed for job 15f97111-8f13-493a-bb58-6f58cf499941 with 1 chunks
2025-07-01 00:31:06 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training/upload
2025-07-01 00:31:06 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training/upload - Status: 401
2025-07-01 00:31:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training/upload
2025-07-01 00:31:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training/upload - Status: 422
2025-07-01 00:31:46 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training/upload
2025-07-01 00:31:46 - app.routers.training - INFO - Creating training job with files for user_id: nodejs_service, agent_id: your-agent-id
2025-07-01 00:31:46 - app.services.training_service - INFO - Saved file SurajMishraDevops.pdf for user nodejs_service as eb6894fb-5a87-46bf-87ee-abd88d2a1aed
2025-07-01 00:31:46 - app.services.training_service - INFO - Saved file Screenshot 2025-05-19 at 9.24.31 PM.png for user nodejs_service as 5c71c724-6105-4c8c-b6a4-07be7044fd6e
2025-07-01 00:31:46 - app.services.training_service - INFO - Created job cb653f85-4073-4990-bd98-1b0c5fc95ac8 with 3 training items
2025-07-01 00:31:46 - app.routers.training - INFO - Created file-based job: cb653f85-4073-4990-bd98-1b0c5fc95ac8 with 2 files
2025-07-01 00:31:46 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training/upload - Status: 200
2025-07-01 00:31:46 - app.services.training_service - INFO - Starting training pipeline for job cb653f85-4073-4990-bd98-1b0c5fc95ac8
2025-07-01 00:31:47 - app.utils.file_processing - ERROR - Error processing image Screenshot 2025-05-19 at 9.24.31 PM.png: tesseract is not installed or it's not in your PATH. See README file for more information.
2025-07-01 00:31:47 - app.services.training_service - INFO - Training completed for job cb653f85-4073-4990-bd98-1b0c5fc95ac8 with 5 chunks
2025-07-01 00:31:47 - app.services.training_service - INFO - Cleaned up file: /var/folders/yg/hffghc2572z1xdmn1q8r75tm0000gn/T/training_uploads/nodejs_service/eb6894fb-5a87-46bf-87ee-abd88d2a1aed_SurajMishraDevops.pdf
2025-07-01 00:31:47 - app.services.training_service - INFO - Cleaned up file: /var/folders/yg/hffghc2572z1xdmn1q8r75tm0000gn/T/training_uploads/nodejs_service/5c71c724-6105-4c8c-b6a4-07be7044fd6e_Screenshot 2025-05-19 at 9.24.31 PM.png
2025-07-01 00:32:07 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 00:32:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 401
2025-07-01 00:32:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 00:32:13 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: your-agent-id
2025-07-01 00:32:13 - app.services.training_service - INFO - Created job 1cac2232-cd05-480e-81b9-ce3ff5895650 with 3 training items
2025-07-01 00:32:13 - app.routers.training - INFO - Created enhanced job: 1cac2232-cd05-480e-81b9-ce3ff5895650 for user: nodejs_service, agent: your-agent-id
2025-07-01 00:32:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-01 00:32:13 - app.services.training_service - INFO - Starting training pipeline for job 1cac2232-cd05-480e-81b9-ce3ff5895650
2025-07-01 00:32:13 - app.services.training_service - ERROR - File not found: /path/to/local/file.txt
2025-07-01 00:32:14 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data.json: 404 Client Error: Not Found for url: https://example.com/data.json
2025-07-01 00:32:14 - app.services.training_service - INFO - Training completed for job 1cac2232-cd05-480e-81b9-ce3ff5895650 with 1 chunks
2025-07-01 00:37:50 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:37:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:38:00 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:38:00 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:38:02 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:38:02 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:38:54 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:38:54 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:39:25 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:39:25 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:39:35 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 00:39:35 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:39:35 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:39:35 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:39:35 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:39:35 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-01 00:39:35 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 00:39:35 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:39:35 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:39:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 00:56:51 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 00:56:52 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:56:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:56:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:56:52 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:56:52 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-01 00:56:52 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 00:56:52 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:56:52 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:56:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 00:57:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:57:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:57:22 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:57:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:57:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 00:57:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 00:57:31 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:57:31 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:57:32 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history
2025-07-01 00:57:32 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635/history - Status: 404
2025-07-01 00:58:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training/upload
2025-07-01 00:58:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training/upload - Status: 422
2025-07-01 00:58:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat/completions
2025-07-01 00:58:47 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat/completions - Status: 404
2025-07-01 00:58:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat/completions
2025-07-01 00:58:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat/completions - Status: 404
2025-07-01 00:58:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 00:58:57 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 00:58:57 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:58:57 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 00:58:57 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 00:58:57 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-01 00:58:57 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 00:58:57 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:58:57 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 00:58:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 01:35:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 01:36:08 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 01:36:20 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 01:36:20 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 01:36:20 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 01:36:20 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 01:36:20 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 01:36:20 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-01 01:36:20 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 01:36:20 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 01:36:20 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 01:36:20 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 02:16:08 - app - INFO - Shutting down application...
2025-07-01 02:16:08 - app.services.cache - INFO - Redis connection closed
2025-07-01 20:45:27 - app - INFO - Logging configured successfully
2025-07-01 20:45:27 - app - INFO - Starting application...
2025-07-01 20:45:27 - app.services.cache - INFO - Connected to Redis successfully
2025-07-01 21:19:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 21:19:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 401
2025-07-01 21:22:51 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 21:22:51 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 401
2025-07-01 21:24:40 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 21:24:40 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 401
2025-07-01 21:24:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 21:24:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 401
2025-07-01 21:24:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/auth/token
2025-07-01 21:24:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/auth/token - Status: 404
2025-07-01 21:25:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/auth/token
2025-07-01 21:25:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/auth/token - Status: 404
2025-07-01 21:25:37 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/auth/token
2025-07-01 21:25:37 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/auth/token - Status: 404
2025-07-01 21:28:56 - app - INFO - Shutting down application...
2025-07-01 21:28:56 - app.services.cache - INFO - Redis connection closed
2025-07-01 21:28:58 - app - INFO - Logging configured successfully
2025-07-01 21:29:31 - app - INFO - Logging configured successfully
2025-07-01 21:29:31 - app - INFO - Starting application...
2025-07-01 21:29:31 - app.services.cache - INFO - Connected to Redis successfully
2025-07-01 21:29:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/auth/token
2025-07-01 21:29:31 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/auth/token - Status: 404
2025-07-01 21:33:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-01 21:33:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-01 21:34:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 21:34:04 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 6c90dc97-ebcc-4af0-8a5b-08640a4f60bb
2025-07-01 21:34:04 - app.services.training_service - INFO - Created job 2997f03a-844a-4402-8358-0c088426d630 with 2 training items
2025-07-01 21:34:04 - app.routers.training - INFO - Created enhanced job: 2997f03a-844a-4402-8358-0c088426d630 for user: nodejs_service, agent: 6c90dc97-ebcc-4af0-8a5b-08640a4f60bb
2025-07-01 21:34:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-01 21:34:04 - app.services.training_service - INFO - Starting training pipeline for job 2997f03a-844a-4402-8358-0c088426d630
2025-07-01 21:34:05 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-01 21:34:05 - app.services.training_service - INFO - Training completed for job 2997f03a-844a-4402-8358-0c088426d630 with 1 chunks
2025-07-01 21:34:47 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status
2025-07-01 21:34:47 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status - Status: 404
2025-07-01 21:34:52 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status
2025-07-01 21:34:52 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status - Status: 404
2025-07-01 21:34:53 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status
2025-07-01 21:34:53 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status - Status: 404
2025-07-01 21:35:23 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status
2025-07-01 21:35:23 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status - Status: 404
2025-07-01 21:37:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:37:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 401
2025-07-01 21:39:40 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:39:40 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-01 21:39:40 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-01 21:39:40 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-01 21:39:40 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:39:41 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:39:41 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:39:41 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:39:41 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:39:41 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:39:41 - app.services.rag_service - INFO - Extracted text length: 4048
2025-07-01 21:39:41 - app.services.rag_service - INFO - Split text into 6 chunks with overlap
2025-07-01 21:39:41 - app.services.rag_service - INFO - Created 6 chunks
2025-07-01 21:39:41 - app.services.rag_service - INFO - Generating embeddings...
2025-07-01 21:39:43 - app.services.rag_service - INFO - Generated 6 embeddings
2025-07-01 21:39:43 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:39:43 - app.utils.qdrant_async - INFO - Upserting 6 points in batches of 100
2025-07-01 21:39:43 - app.utils.qdrant_async - INFO - Successfully upserted 6/6 points to documents
2025-07-01 21:39:43 - app.services.rag_service - INFO - Successfully ingested document Suraj_Offer letter_signed.pdf with 6 chunks
2025-07-01 21:39:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-01 21:45:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:45:26 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:45:26 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:45:26 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:45:26 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:45:26 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:45:26 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 21:45:26 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:45:26 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:45:26 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 21:48:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:48:18 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:48:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:48:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:48:18 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:48:18 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:48:18 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 21:48:18 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:48:18 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:48:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 21:48:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:48:32 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:48:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:48:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:48:32 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:48:32 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:48:32 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 21:48:32 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:48:32 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:48:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 21:52:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:52:10 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:52:10 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:52:10 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:52:10 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:52:10 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:52:10 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 21:52:10 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:52:10 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:52:10 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 21:53:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:53:58 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:53:58 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:53:58 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:53:58 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:53:58 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:53:58 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 21:53:58 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:53:58 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 21:53:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 21:58:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:58:34 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:58:34 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:58:34 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:58:34 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:58:35 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:58:35 - app.services.rag_service - INFO - Extracted text length: 4048
2025-07-01 21:58:35 - app.services.rag_service - INFO - Split text into 6 chunks with overlap
2025-07-01 21:58:35 - app.services.rag_service - INFO - Created 6 chunks
2025-07-01 21:58:35 - app.services.rag_service - INFO - Generating embeddings...
2025-07-01 21:58:36 - app.services.rag_service - INFO - Generated 6 embeddings
2025-07-01 21:58:36 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:58:36 - app.utils.qdrant_async - INFO - Upserting 6 points in batches of 100
2025-07-01 21:58:36 - app.utils.qdrant_async - INFO - Successfully upserted 6/6 points to documents
2025-07-01 21:58:36 - app.services.rag_service - INFO - Successfully ingested document Suraj_Offer letter_signed.pdf with 6 chunks
2025-07-01 21:58:36 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-01 21:59:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 21:59:18 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 21:59:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:59:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:59:18 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 21:59:18 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 21:59:18 - app.services.rag_service - INFO - Extracted text length: 4048
2025-07-01 21:59:18 - app.services.rag_service - INFO - Split text into 6 chunks with overlap
2025-07-01 21:59:18 - app.services.rag_service - INFO - Created 6 chunks
2025-07-01 21:59:18 - app.services.rag_service - INFO - Generating embeddings...
2025-07-01 21:59:19 - app.services.rag_service - INFO - Generated 6 embeddings
2025-07-01 21:59:19 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 21:59:19 - app.utils.qdrant_async - INFO - Upserting 6 points in batches of 100
2025-07-01 21:59:19 - app.utils.qdrant_async - INFO - Successfully upserted 6/6 points to documents
2025-07-01 21:59:19 - app.services.rag_service - INFO - Successfully ingested document Suraj_Offer letter_signed.pdf with 6 chunks
2025-07-01 21:59:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-01 22:01:07 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 22:01:07 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 22:01:07 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 22:01:07 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 22:01:07 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 22:01:07 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 22:01:07 - app.utils.file_processing - ERROR - Error extracting text from PDF: cannot open empty document
2025-07-01 22:01:07 - app.services.rag_service - ERROR - Ingest failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 22:01:07 - app.routers.rag - ERROR - Document upload failed: No text extracted
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 56, in upload_document
    doc_id = await rag_service.ingest_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 291, in ingest_document
    raise ValueError("No text extracted")
ValueError: No text extracted
2025-07-01 22:01:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 500
2025-07-01 22:06:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-01 22:06:20 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-01 22:06:20 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 22:06:20 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 22:06:20 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-01 22:06:20 - app.services.rag_service - INFO - Starting document ingestion for Suraj_Offer letter_signed.pdf
2025-07-01 22:06:20 - app.services.rag_service - INFO - Extracted text length: 4048
2025-07-01 22:06:20 - app.services.rag_service - INFO - Split text into 6 chunks with overlap
2025-07-01 22:06:20 - app.services.rag_service - INFO - Created 6 chunks
2025-07-01 22:06:20 - app.services.rag_service - INFO - Generating embeddings...
2025-07-01 22:06:21 - app.services.rag_service - INFO - Generated 6 embeddings
2025-07-01 22:06:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-01 22:06:21 - app.utils.qdrant_async - INFO - Upserting 6 points in batches of 100
2025-07-01 22:06:21 - app.utils.qdrant_async - INFO - Successfully upserted 6/6 points to documents
2025-07-01 22:06:21 - app.services.rag_service - INFO - Successfully ingested document Suraj_Offer letter_signed.pdf with 6 chunks
2025-07-01 22:06:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-01 22:06:41 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat/completions
2025-07-01 22:06:41 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat/completions - Status: 404
2025-07-01 22:07:20 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-01 22:07:20 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-01 22:07:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-01 22:07:28 - app.services.llm_service - INFO - Found 1 models
2025-07-01 22:07:28 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-01 22:07:28 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-01 22:07:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-01 22:08:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-01 22:08:12 - app.services.llm_service - INFO - Found 1 models
2025-07-01 22:08:12 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-01 22:08:12 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-01 22:08:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-01 22:09:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-01 22:09:02 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 22:09:02 - app.services.training_service - INFO - Created job faff6dac-79b3-4e9e-8a74-0e5864319643 with 2 training items
2025-07-01 22:09:02 - app.routers.training - INFO - Created enhanced job: faff6dac-79b3-4e9e-8a74-0e5864319643 for user: nodejs_service, agent: d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 22:09:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-01 22:09:02 - app.services.training_service - INFO - Starting training pipeline for job faff6dac-79b3-4e9e-8a74-0e5864319643
2025-07-01 22:09:03 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-01 22:09:03 - app.services.training_service - INFO - Training completed for job faff6dac-79b3-4e9e-8a74-0e5864319643 with 1 chunks
2025-07-01 22:09:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 22:09:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 22:10:23 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-01 22:10:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 200
2025-07-01 22:11:05 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb
2025-07-01 22:11:05 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/6c90dc97-ebcc-4af0-8a5b-08640a4f60bb - Status: 204
2025-07-01 22:19:55 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-01 22:19:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-01 22:20:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-01 22:20:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-01 22:22:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-01 22:22:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-01 22:41:32 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/8d8f800d-0e07-4dd3-8892-c4e5d7472f29
2025-07-01 22:41:32 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/8d8f800d-0e07-4dd3-8892-c4e5d7472f29 - Status: 204
2025-07-01 22:41:35 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-01 22:41:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-02 00:57:10 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status
2025-07-02 00:57:10 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/2997f03a-844a-4402-8358-0c088426d630/status - Status: 404
2025-07-02 01:03:23 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/1805e1f7-1e62-4a2b-981a-721af4d6b6ec
2025-07-02 01:03:23 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/1805e1f7-1e62-4a2b-981a-721af4d6b6ec - Status: 204
2025-07-02 01:06:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-02 01:06:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-02 01:06:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-02 01:06:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-02 01:07:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-02 01:07:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-02 01:08:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-02 01:08:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-02 01:09:50 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-02 01:09:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 200
2025-07-02 01:13:59 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/e71fcf27-eefa-4257-a0dd-42ac4448b61a
2025-07-02 01:13:59 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/e71fcf27-eefa-4257-a0dd-42ac4448b61a - Status: 204
2025-07-02 01:14:55 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-02 01:14:55 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-02 01:15:54 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-02 01:15:54 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 204
2025-07-02 01:16:10 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/6c59d8a4-b7b8-41b5-b2a6-7423dfc91b2e
2025-07-02 01:16:10 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/6c59d8a4-b7b8-41b5-b2a6-7423dfc91b2e - Status: 204
2025-07-02 01:18:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-02 01:18:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-02 01:39:51 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-02 01:39:51 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-02 01:39:51 - app.services.training_service - INFO - Created job 9b20036b-ee0c-46a8-b07c-73bcead86aeb with 2 training items
2025-07-02 01:39:51 - app.routers.training - INFO - Created enhanced job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service, agent: 5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-02 01:39:51 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-02 01:39:51 - app.services.training_service - INFO - Starting training pipeline for job 9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-02 01:39:52 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-02 01:39:52 - app.services.training_service - INFO - Training completed for job 9b20036b-ee0c-46a8-b07c-73bcead86aeb with 1 chunks
2025-07-02 01:40:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb/status
2025-07-02 01:40:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb/status - Status: 404
2025-07-02 01:40:39 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb/status
2025-07-02 01:40:39 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb/status - Status: 404
2025-07-02 01:50:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-02 01:50:34 - app.services.agent_execution_service - ERROR - HTTP error calling AI service: Client error '404 Not Found' for url 'http://localhost:11434/api/generate'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-02 01:50:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 200
2025-07-02 01:51:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-02 01:52:00 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-02 01:52:00 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-02 01:52:00 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-02 01:52:00 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-02 01:52:00 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-02 01:52:00 - app.services.rag_service - INFO - Extracted text length: 2664
2025-07-02 01:52:00 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-07-02 01:52:00 - app.services.rag_service - INFO - Created 4 chunks
2025-07-02 01:52:00 - app.services.rag_service - INFO - Generating embeddings...
2025-07-02 01:52:01 - app.services.rag_service - INFO - Generated 4 embeddings
2025-07-02 01:52:01 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-02 01:52:01 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-07-02 01:52:01 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-07-02 01:52:01 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-07-02 01:52:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-02 02:09:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-02 02:09:24 - app.services.agent_execution_service - ERROR - HTTP error calling AI service: Client error '404 Not Found' for url 'http://localhost:11434/api/generate'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-02 02:09:24 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 200
2025-07-02 02:10:51 - app - INFO - Shutting down application...
2025-07-02 02:10:51 - app.services.cache - INFO - Redis connection closed
2025-07-03 00:11:48 - app - INFO - Logging configured successfully
2025-07-03 00:11:48 - app - INFO - Starting application...
2025-07-03 00:11:48 - app.services.cache - INFO - Connected to Redis successfully
2025-07-03 00:14:03 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:03 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:03 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:03 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:04 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:04 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:04 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:04 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:05 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:05 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:05 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:05 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:07 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:07 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:07 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:07 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:08 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:08 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:08 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:08 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:09 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:09 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:09 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:09 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:10 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:10 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:10 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:10 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:11 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:11 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:11 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:11 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:11 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:11 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:11 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:11 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:12 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:12 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:12 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:12 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:12 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:13 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:13 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:13 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:13 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:14 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:14 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:14 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:14 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:14 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:14 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:14 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:14 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:15 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:15 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:15 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:15 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:15 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:15 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:15 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:15 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:14:16 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:14:16 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:16 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:14:16 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:15:38 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:15:38 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:15:38 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:15:38 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:17:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:17:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-03 00:18:11 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:18:11 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 401
2025-07-03 00:18:18 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:18:18 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 200
2025-07-03 00:19:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:19:21 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:19:21 - app.services.training_service - INFO - Created job 63486ee3-b7c9-46b6-8aae-6c8ddcabbd3a with 2 training items
2025-07-03 00:19:21 - app.routers.training - INFO - Created enhanced job: 63486ee3-b7c9-46b6-8aae-6c8ddcabbd3a for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:19:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:19:21 - app.services.training_service - INFO - Starting training pipeline for job 63486ee3-b7c9-46b6-8aae-6c8ddcabbd3a
2025-07-03 00:19:22 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-03 00:19:22 - app.services.training_service - INFO - Training completed for job 63486ee3-b7c9-46b6-8aae-6c8ddcabbd3a with 1 chunks
2025-07-03 00:19:38 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:19:38 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:19:38 - app.services.training_service - INFO - Created job 2ebdb7b0-6484-4b21-a1a6-48742b457b7b with 2 training items
2025-07-03 00:19:38 - app.routers.training - INFO - Created enhanced job: 2ebdb7b0-6484-4b21-a1a6-48742b457b7b for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:19:38 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:19:38 - app.services.training_service - INFO - Starting training pipeline for job 2ebdb7b0-6484-4b21-a1a6-48742b457b7b
2025-07-03 00:19:39 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-03 00:19:39 - app.services.training_service - INFO - Training completed for job 2ebdb7b0-6484-4b21-a1a6-48742b457b7b with 1 chunks
2025-07-03 00:20:00 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:20:00 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:20:00 - app.services.training_service - INFO - Created job 1217007f-2bf4-49aa-9838-7f99ce1b55b0 with 2 training items
2025-07-03 00:20:00 - app.routers.training - INFO - Created enhanced job: 1217007f-2bf4-49aa-9838-7f99ce1b55b0 for user: nodejs_service, agent: 5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:20:00 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:20:00 - app.services.training_service - INFO - Starting training pipeline for job 1217007f-2bf4-49aa-9838-7f99ce1b55b0
2025-07-03 00:20:01 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-03 00:20:01 - app.services.training_service - INFO - Training completed for job 1217007f-2bf4-49aa-9838-7f99ce1b55b0 with 1 chunks
2025-07-03 00:20:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:20:18 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: 5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:20:18 - app.services.training_service - INFO - Created job 8b2813a2-de90-47b7-b1cc-163ecf05b91c with 2 training items
2025-07-03 00:20:18 - app.routers.training - INFO - Created enhanced job: 8b2813a2-de90-47b7-b1cc-163ecf05b91c for user: nodejs_service, agent: 5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:20:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:20:18 - app.services.training_service - INFO - Starting training pipeline for job 8b2813a2-de90-47b7-b1cc-163ecf05b91c
2025-07-03 00:20:19 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-03 00:20:19 - app.services.training_service - INFO - Training completed for job 8b2813a2-de90-47b7-b1cc-163ecf05b91c with 1 chunks
2025-07-03 00:20:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:20:33 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:33 - app.services.training_service - INFO - Created job 705331ee-5d83-47bb-bae5-9e64f8f0d3c4 with 2 training items
2025-07-03 00:20:33 - app.routers.training - INFO - Created enhanced job: 705331ee-5d83-47bb-bae5-9e64f8f0d3c4 for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:33 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:20:33 - app.services.training_service - INFO - Starting training pipeline for job 705331ee-5d83-47bb-bae5-9e64f8f0d3c4
2025-07-03 00:20:34 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/data: 404 Client Error: Not Found for url: https://example.com/data
2025-07-03 00:20:34 - app.services.training_service - INFO - Training completed for job 705331ee-5d83-47bb-bae5-9e64f8f0d3c4 with 1 chunks
2025-07-03 00:20:50 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:20:50 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:50 - app.services.training_service - INFO - Created job d111d8c9-a9c4-4694-84a8-320141a92a59 with 2 training items
2025-07-03 00:20:50 - app.routers.training - INFO - Created enhanced job: d111d8c9-a9c4-4694-84a8-320141a92a59 for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:50 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:20:50 - app.services.training_service - INFO - Starting training pipeline for job d111d8c9-a9c4-4694-84a8-320141a92a59
2025-07-03 00:20:51 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/da: 404 Client Error: Not Found for url: https://example.com/da
2025-07-03 00:20:51 - app.services.training_service - INFO - Training completed for job d111d8c9-a9c4-4694-84a8-320141a92a59 with 1 chunks
2025-07-03 00:20:55 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:20:55 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:55 - app.services.training_service - INFO - Created job 3c972dd9-bd51-4238-8a36-50fab9a2fb56 with 2 training items
2025-07-03 00:20:55 - app.routers.training - INFO - Created enhanced job: 3c972dd9-bd51-4238-8a36-50fab9a2fb56 for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:55 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:20:55 - app.services.training_service - INFO - Starting training pipeline for job 3c972dd9-bd51-4238-8a36-50fab9a2fb56
2025-07-03 00:20:57 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/da: 404 Client Error: Not Found for url: https://example.com/da
2025-07-03 00:20:57 - app.services.training_service - INFO - Training completed for job 3c972dd9-bd51-4238-8a36-50fab9a2fb56 with 1 chunks
2025-07-03 00:20:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:20:57 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:57 - app.services.training_service - INFO - Created job 1ab5ff58-15e2-4861-a3f7-6cdfa9cf3b7c with 2 training items
2025-07-03 00:20:57 - app.routers.training - INFO - Created enhanced job: 1ab5ff58-15e2-4861-a3f7-6cdfa9cf3b7c for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:20:57 - app.services.training_service - INFO - Starting training pipeline for job 1ab5ff58-15e2-4861-a3f7-6cdfa9cf3b7c
2025-07-03 00:20:58 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/da: 404 Client Error: Not Found for url: https://example.com/da
2025-07-03 00:20:58 - app.services.training_service - INFO - Training completed for job 1ab5ff58-15e2-4861-a3f7-6cdfa9cf3b7c with 1 chunks
2025-07-03 00:20:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:20:58 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:58 - app.services.training_service - INFO - Created job 457feb71-08e7-41df-94a6-b3b177981fab with 2 training items
2025-07-03 00:20:58 - app.routers.training - INFO - Created enhanced job: 457feb71-08e7-41df-94a6-b3b177981fab for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:20:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:20:58 - app.services.training_service - INFO - Starting training pipeline for job 457feb71-08e7-41df-94a6-b3b177981fab
2025-07-03 00:21:00 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/da: 404 Client Error: Not Found for url: https://example.com/da
2025-07-03 00:21:00 - app.services.training_service - INFO - Training completed for job 457feb71-08e7-41df-94a6-b3b177981fab with 1 chunks
2025-07-03 00:21:00 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:21:00 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:21:00 - app.services.training_service - INFO - Created job 62ec3a96-9956-4df0-a105-fab799940955 with 2 training items
2025-07-03 00:21:00 - app.routers.training - INFO - Created enhanced job: 62ec3a96-9956-4df0-a105-fab799940955 for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:21:00 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:21:00 - app.services.training_service - INFO - Starting training pipeline for job 62ec3a96-9956-4df0-a105-fab799940955
2025-07-03 00:21:02 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/da: 404 Client Error: Not Found for url: https://example.com/da
2025-07-03 00:21:02 - app.services.training_service - INFO - Training completed for job 62ec3a96-9956-4df0-a105-fab799940955 with 1 chunks
2025-07-03 00:21:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/training
2025-07-03 00:21:02 - app.routers.training - INFO - Creating training job for user_id: nodejs_service, agent_id: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:21:02 - app.services.training_service - INFO - Created job 789791c5-0d6a-4d05-8b47-0e5aa1091231 with 2 training items
2025-07-03 00:21:02 - app.routers.training - INFO - Created enhanced job: 789791c5-0d6a-4d05-8b47-0e5aa1091231 for user: nodejs_service, agent: ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:21:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/training - Status: 200
2025-07-03 00:21:02 - app.services.training_service - INFO - Starting training pipeline for job 789791c5-0d6a-4d05-8b47-0e5aa1091231
2025-07-03 00:21:03 - app.utils.file_processing - ERROR - Error extracting text from URL https://example.com/da: 404 Client Error: Not Found for url: https://example.com/da
2025-07-03 00:21:03 - app.services.training_service - INFO - Training completed for job 789791c5-0d6a-4d05-8b47-0e5aa1091231 with 1 chunks
2025-07-03 00:22:23 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/8b2813a2-de90-47b7-b1cc-163ecf05b91c
2025-07-03 00:22:23 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/1217007f-2bf4-49aa-9838-7f99ce1b55b0
2025-07-03 00:22:23 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb
2025-07-03 00:22:23 - app.routers.training - INFO - Getting job: 8b2813a2-de90-47b7-b1cc-163ecf05b91c for user: nodejs_service
2025-07-03 00:22:23 - app.routers.training - INFO - Getting job: 1217007f-2bf4-49aa-9838-7f99ce1b55b0 for user: nodejs_service
2025-07-03 00:22:23 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/8b2813a2-de90-47b7-b1cc-163ecf05b91c - Status: 200
2025-07-03 00:22:23 - app.routers.training - INFO - Getting job: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:22:23 - app.routers.training - WARNING - Job not found: 9b20036b-ee0c-46a8-b07c-73bcead86aeb for user: nodejs_service
2025-07-03 00:22:23 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/1217007f-2bf4-49aa-9838-7f99ce1b55b0 - Status: 200
2025-07-03 00:22:23 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/training/9b20036b-ee0c-46a8-b07c-73bcead86aeb - Status: 404
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 401
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 401
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 401
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:25:44 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-03 00:27:09 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-03 00:27:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-03 00:27:11 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 401
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 401
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 401
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:27:39 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:27:58 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:29:09 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:29:09 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 200
2025-07-03 00:29:13 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:29:13 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 200
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 401
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 401
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 401
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:32:05 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 200
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 200
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/a0e4125d-1366-4837-9ac6-6ac8eff5e77a
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/a0e4125d-1366-4837-9ac6-6ac8eff5e77a - Status: 200
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 200
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents/a5d95a76-cf27-4883-95c5-816dabea9a64
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents/a5d95a76-cf27-4883-95c5-816dabea9a64 - Status: 200
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/5295a821-9ba1-44cf-aee5-59f95f49acca - Status: 204
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/ed920f6c-dc7a-470f-b903-b4aa6ea86053 - Status: 204
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/5527957b-b0ce-4630-8a2f-cd5f3ac22aa5
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/5527957b-b0ce-4630-8a2f-cd5f3ac22aa5 - Status: 204
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-07-03 00:43:01 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d
2025-07-03 00:43:02 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/2087f135-8f6c-4b43-bc45-4d7aa981775d - Status: 204
2025-07-03 00:43:02 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/a0e4125d-1366-4837-9ac6-6ac8eff5e77a
2025-07-03 00:43:02 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/a0e4125d-1366-4837-9ac6-6ac8eff5e77a - Status: 204
2025-07-03 00:43:02 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/a5d95a76-cf27-4883-95c5-816dabea9a64
2025-07-03 00:43:02 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/a5d95a76-cf27-4883-95c5-816dabea9a64 - Status: 204
2025-07-03 00:43:28 - app - INFO - Shutting down application...
2025-07-03 00:43:28 - app.services.cache - INFO - Redis connection closed
2025-07-03 00:43:31 - app - INFO - Logging configured successfully
2025-07-03 00:43:31 - app - INFO - Starting application...
2025-07-03 00:43:31 - app.services.cache - INFO - Connected to Redis successfully
2025-07-03 01:03:31 - app - INFO - Shutting down application...
2025-07-03 01:03:31 - app.services.cache - INFO - Redis connection closed
2025-07-03 21:57:46 - app - INFO - Logging configured successfully
2025-07-03 21:57:46 - app - INFO - Starting application...
2025-07-03 21:57:46 - app.services.cache - INFO - Connected to Redis successfully
2025-07-03 23:51:22 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-03 23:51:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-03 23:51:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/1281450a-c65c-4101-b430-d47c892c89f5
2025-07-03 23:51:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/1281450a-c65c-4101-b430-d47c892c89f5 - Status: 200
2025-07-04 00:18:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-04 00:18:09 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-04 00:18:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/c3908982-88f6-4b2e-9b49-fb1483788919
2025-07-04 00:18:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/c3908982-88f6-4b2e-9b49-fb1483788919 - Status: 200
2025-07-04 00:25:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/a0e4125d-1366-4837-9ac6-6ac8eff5e77a
2025-07-04 00:25:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/a0e4125d-1366-4837-9ac6-6ac8eff5e77a - Status: 404
2025-07-04 00:34:53 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/c3908982-88f6-4b2e-9b49-fb1483788919
2025-07-04 00:34:53 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/c3908982-88f6-4b2e-9b49-fb1483788919 - Status: 204
2025-07-04 00:34:58 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/1281450a-c65c-4101-b430-d47c892c89f5
2025-07-04 00:34:58 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/1281450a-c65c-4101-b430-d47c892c89f5 - Status: 204
2025-07-04 00:37:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-04 00:37:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-04 00:38:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-04 00:38:31 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-04 00:38:31 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-04 00:38:31 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-04 00:38:31 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-04 00:38:33 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-04 00:38:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-04 00:38:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-04 00:38:33 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-04 00:38:33 - app.services.rag_service - INFO - Starting document ingestion for SurajMishraDevops.pdf
2025-07-04 00:38:33 - app.services.rag_service - INFO - Extracted text length: 2664
2025-07-04 00:38:33 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-07-04 00:38:33 - app.services.rag_service - INFO - Created 4 chunks
2025-07-04 00:38:33 - app.services.rag_service - INFO - Generating embeddings...
2025-07-04 00:38:34 - app.services.rag_service - INFO - Generated 4 embeddings
2025-07-04 00:38:34 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-04 00:38:34 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-07-04 00:38:34 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-07-04 00:38:34 - app.services.rag_service - INFO - Successfully ingested document SurajMishraDevops.pdf with 4 chunks
2025-07-04 00:38:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-04 00:57:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-04 00:57:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-04 00:58:02 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/56c9578f-bcd6-4c90-b4ed-76bd5856645b
2025-07-04 00:58:02 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/56c9578f-bcd6-4c90-b4ed-76bd5856645b - Status: 204
2025-07-04 00:58:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-04 00:58:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-04 01:08:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-04 01:08:41 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 200
2025-07-04 01:25:30 - app - INFO - Shutting down application...
2025-07-04 01:25:30 - app.services.cache - INFO - Redis connection closed
2025-07-05 19:35:55 - app - INFO - Logging configured successfully
2025-07-05 19:35:55 - app - INFO - Starting application...
2025-07-05 19:35:55 - app.services.cache - INFO - Connected to Redis successfully
2025-07-05 21:02:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:02:29 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:02:32 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:02:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:02:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:02:33 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:02:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:02:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:02:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:02:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:02:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-05 21:02:52 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-05 21:03:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:03:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:03:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:03:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:04:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:04:19 - app.services.llm_service - INFO - Found 1 models
2025-07-05 21:04:19 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:04:19 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:04:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:04:53 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:04:53 - app.services.llm_service - INFO - Found 1 models
2025-07-05 21:04:53 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:04:53 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:05:28 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:36:29 - app.middleware.logging_middleware - INFO - Incoming request: OPTIONS http://localhost:8000/api/v1/chat
2025-07-05 21:36:29 - app.middleware.logging_middleware - INFO - Request completed: OPTIONS http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:36:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:36:29 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:36:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:36:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:38:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:38:47 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 401
2025-07-05 21:39:02 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:39:02 - app.services.llm_service - INFO - Found 2 models
2025-07-05 21:39:02 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:39:02 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:39:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:40:01 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:40:01 - app.services.llm_service - INFO - Found 2 models
2025-07-05 21:40:01 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:40:01 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:40:40 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:48:09 - app.middleware.logging_middleware - INFO - Incoming request: OPTIONS http://localhost:8000/api/v1/chat
2025-07-05 21:48:09 - app.middleware.logging_middleware - INFO - Request completed: OPTIONS http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:48:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:48:09 - app.services.llm_service - INFO - Found 2 models
2025-07-05 21:48:09 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:48:09 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:48:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:48:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:48:48 - app.services.llm_service - INFO - Found 2 models
2025-07-05 21:48:48 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:48:48 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:49:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:49:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:49:48 - app.services.llm_service - INFO - Found 2 models
2025-07-05 21:49:48 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:49:48 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:50:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:51:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:51:11 - app.services.llm_service - INFO - Found 2 models
2025-07-05 21:51:11 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:51:11 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:51:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 21:52:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 21:52:17 - app.services.llm_service - INFO - Found 2 models
2025-07-05 21:52:17 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 21:52:17 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 21:52:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:04:15 - app - INFO - Shutting down application...
2025-07-05 22:04:15 - app.services.cache - INFO - Redis connection closed
2025-07-05 22:04:18 - app - INFO - Logging configured successfully
2025-07-05 22:04:18 - app - INFO - Starting application...
2025-07-05 22:04:18 - app.services.cache - INFO - Connected to Redis successfully
2025-07-05 22:04:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:04:21 - app.services.llm_service - INFO - Found 2 models
2025-07-05 22:04:21 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:04:21 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:05:02 - app.routers.chat - ERROR - Chat failed: 1 validation error for ChatResponse
message
  Input should be a valid string [type=string_type, input_value={'raw_response': '<think>...erty('player', None)"}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/chat.py", line 57, in chat_with_agent
    return ChatResponse(
           ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ChatResponse
message
  Input should be a valid string [type=string_type, input_value={'raw_response': '<think>...erty('player', None)"}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-05 22:05:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 500
2025-07-05 22:05:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:05:13 - app.services.llm_service - INFO - Found 2 models
2025-07-05 22:05:13 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:05:13 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:06:14 - app.services.llm_service - ERROR - Request timeout after 60 seconds
2025-07-05 22:06:14 - app.services.llm_service - ERROR - Error calling Ollama async: Request to Ollama timed out after 60 seconds
2025-07-05 22:06:14 - app.services.llm_service - WARNING - Async chat request failed: Failed to communicate with Ollama: Request to Ollama timed out after 60 seconds
2025-07-05 22:06:14 - app.services.llm_service - INFO - Falling back to sync request
2025-07-05 22:07:11 - app.routers.chat - ERROR - Chat failed: 1 validation error for ChatResponse
message
  Input should be a valid string [type=string_type, input_value={'raw_response': '<think>...t>\n</body>\n</html>'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/chat.py", line 57, in chat_with_agent
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ChatResponse
message
  Input should be a valid string [type=string_type, input_value={'raw_response': '<think>...t>\n</body>\n</html>'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-05 22:07:11 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 500
2025-07-05 22:07:11 - app - INFO - Shutting down application...
2025-07-05 22:07:11 - app.services.cache - INFO - Redis connection closed
2025-07-05 22:07:13 - app - INFO - Logging configured successfully
2025-07-05 22:07:13 - app - INFO - Starting application...
2025-07-05 22:07:13 - app.services.cache - INFO - Connected to Redis successfully
2025-07-05 22:07:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:07:47 - app.services.llm_service - INFO - Found 2 models
2025-07-05 22:07:47 - app.services.llm_service - INFO - Model deepseek-r1:8b availability: True
2025-07-05 22:07:47 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:8b
2025-07-05 22:08:47 - app.services.llm_service - ERROR - Request timeout after 60 seconds
2025-07-05 22:08:47 - app.services.llm_service - ERROR - Error calling Ollama async: Request to Ollama timed out after 60 seconds
2025-07-05 22:08:47 - app.services.llm_service - WARNING - Async chat request failed: Failed to communicate with Ollama: Request to Ollama timed out after 60 seconds
2025-07-05 22:08:47 - app.services.llm_service - INFO - Falling back to sync request
2025-07-05 22:09:47 - app.services.llm_service - ERROR - Request timeout after 60 seconds
2025-07-05 22:09:47 - app.services.llm_service - ERROR - Both async and sync chat requests failed. Async: Failed to communicate with Ollama: Request to Ollama timed out after 60 seconds, Sync: Request to Ollama timed out after 60 seconds
2025-07-05 22:09:47 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 500
2025-07-05 22:11:18 - app - INFO - Shutting down application...
2025-07-05 22:11:18 - app.services.cache - INFO - Redis connection closed
2025-07-05 22:11:21 - app - INFO - Logging configured successfully
2025-07-05 22:11:21 - app - INFO - Starting application...
2025-07-05 22:11:21 - app.services.cache - INFO - Connected to Redis successfully
2025-07-05 22:11:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:11:34 - app.services.llm_service - INFO - Found 1 models
2025-07-05 22:11:34 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:11:34 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:11:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:23:38 - app.middleware.logging_middleware - INFO - Incoming request: OPTIONS http://localhost:8000/api/v1/chat
2025-07-05 22:23:38 - app.middleware.logging_middleware - INFO - Request completed: OPTIONS http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:23:38 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:23:38 - app.services.llm_service - INFO - Found 1 models
2025-07-05 22:23:38 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:23:38 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:24:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:25:41 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:25:41 - app.services.llm_service - INFO - Found 1 models
2025-07-05 22:25:41 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:25:41 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:26:41 - app.services.llm_service - ERROR - Request timeout after 60 seconds
2025-07-05 22:26:41 - app.services.llm_service - ERROR - Error calling Ollama async: Request to Ollama timed out after 60 seconds
2025-07-05 22:26:41 - app.services.llm_service - WARNING - Async chat request failed: Failed to communicate with Ollama: Request to Ollama timed out after 60 seconds
2025-07-05 22:26:41 - app.services.llm_service - INFO - Falling back to sync request
2025-07-05 22:27:26 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:33:57 - app.middleware.logging_middleware - INFO - Incoming request: OPTIONS http://localhost:8000/api/v1/chat
2025-07-05 22:33:57 - app.middleware.logging_middleware - INFO - Request completed: OPTIONS http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:33:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:33:58 - app.services.llm_service - INFO - Found 1 models
2025-07-05 22:33:58 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:33:58 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:34:58 - app.services.llm_service - ERROR - Request timeout after 60 seconds
2025-07-05 22:34:58 - app.services.llm_service - ERROR - Error calling Ollama async: Request to Ollama timed out after 60 seconds
2025-07-05 22:34:58 - app.services.llm_service - WARNING - Async chat request failed: Failed to communicate with Ollama: Request to Ollama timed out after 60 seconds
2025-07-05 22:34:58 - app.services.llm_service - INFO - Falling back to sync request
2025-07-05 22:35:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:37:08 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:37:08 - app.services.llm_service - INFO - Found 1 models
2025-07-05 22:37:08 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:37:08 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:37:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:40:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-05 22:40:28 - app.services.llm_service - INFO - Found 1 models
2025-07-05 22:40:28 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-05 22:40:28 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-05 22:40:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-05 22:46:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-05 22:46:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 200
2025-07-05 22:50:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-05 22:50:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 401
2025-07-05 22:50:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-05 22:50:14 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-05 22:50:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-05 22:50:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 401
2025-07-05 22:50:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-05 22:50:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 401
2025-07-05 22:51:03 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-05 22:51:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-05 22:51:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-05 22:51:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-05 22:51:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635
2025-07-05 22:51:29 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/d7a23fd9-b981-4856-8e4c-cc70462a9635 - Status: 404
2025-07-05 22:51:35 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-05 22:51:35 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 401
2025-07-05 22:51:41 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-05 22:51:41 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-07-05 22:51:57 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/ae499fad-e429-4e1b-857e-dece9e71edb7
2025-07-05 22:52:10 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/ae499fad-e429-4e1b-857e-dece9e71edb7 - Status: 200
2025-07-05 22:52:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/ae499fad-e429-4e1b-857e-dece9e71edb7
2025-07-05 22:53:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/ae499fad-e429-4e1b-857e-dece9e71edb7 - Status: 200
2025-07-05 23:15:24 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-05 23:15:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 200
2025-07-05 23:28:33 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-05 23:28:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 200
2025-07-05 23:29:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-05 23:29:25 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 200
2025-07-05 23:31:50 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-05 23:31:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 200
2025-07-05 23:33:52 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-05 23:33:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 200
2025-07-05 23:34:32 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/683131e2-dd81-4d42-9573-b5d9b02e95b0
2025-07-05 23:34:32 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/683131e2-dd81-4d42-9573-b5d9b02e95b0 - Status: 204
2025-07-05 23:34:34 - app.middleware.logging_middleware - INFO - Incoming request: DELETE http://localhost:8000/api/v1/agents/ae499fad-e429-4e1b-857e-dece9e71edb7
2025-07-05 23:34:34 - app.middleware.logging_middleware - INFO - Request completed: DELETE http://localhost:8000/api/v1/agents/ae499fad-e429-4e1b-857e-dece9e71edb7 - Status: 204
2025-07-05 23:37:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-05 23:37:14 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-06 00:02:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:02:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:02:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:02:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:03:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:04:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:05:05 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:05:35 - app.services.agent_execution_service - ERROR - Request error calling AI service: 
2025-07-06 00:05:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:05:35 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:06:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:06:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:07:00 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:07:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:08:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:10:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:10:40 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:11:00 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 00:11:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 00:51:40 - app.middleware.logging_middleware - INFO - Incoming request: OPTIONS http://localhost:8000/api/v1/chat
2025-07-06 00:51:40 - app.middleware.logging_middleware - INFO - Request completed: OPTIONS http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:51:40 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:51:40 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:51:40 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:51:40 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:51:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:52:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:52:09 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:52:09 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:52:09 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:52:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:52:34 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:52:34 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:52:34 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:52:34 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:52:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:52:38 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:52:38 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:52:38 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:52:38 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:52:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:52:49 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:52:49 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:52:49 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:52:49 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:52:50 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:52:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:52:59 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:52:59 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:52:59 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:52:59 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:53:13 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:53:13 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:53:13 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:53:13 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:53:13 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:53:19 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:53:19 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:53:19 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:53:19 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:54:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:54:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:54:45 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:54:45 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:54:45 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:54:45 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:54:53 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:54:53 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:54:53 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:54:53 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:55:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 00:56:40 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 00:56:40 - app.services.llm_service - INFO - Found 2 models
2025-07-06 00:56:40 - app.services.llm_service - INFO - Model codegemma:2b availability: True
2025-07-06 00:56:40 - app.services.llm_service - INFO - Attempting async chat request with model: codegemma:2b
2025-07-06 00:56:47 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 01:02:56 - app.middleware.logging_middleware - INFO - Incoming request: OPTIONS http://localhost:8000/api/v1/chat
2025-07-06 01:02:56 - app.middleware.logging_middleware - INFO - Request completed: OPTIONS http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 01:02:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 01:02:56 - app.services.llm_service - INFO - Found 2 models
2025-07-06 01:02:56 - app.services.llm_service - INFO - Model gemma3:1b availability: True
2025-07-06 01:02:56 - app.services.llm_service - INFO - Attempting async chat request with model: gemma3:1b
2025-07-06 01:03:20 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 01:04:37 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 01:04:37 - app.services.llm_service - INFO - Found 2 models
2025-07-06 01:04:37 - app.services.llm_service - INFO - Model gemma3:1b availability: True
2025-07-06 01:04:37 - app.services.llm_service - INFO - Attempting async chat request with model: gemma3:1b
2025-07-06 01:05:00 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 01:06:44 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/chat
2025-07-06 01:06:44 - app.services.llm_service - INFO - Found 2 models
2025-07-06 01:06:44 - app.services.llm_service - INFO - Model gemma3:1b availability: True
2025-07-06 01:06:44 - app.services.llm_service - INFO - Attempting async chat request with model: gemma3:1b
2025-07-06 01:07:02 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/chat - Status: 200
2025-07-06 01:08:06 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:08:08 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:08:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:08:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:09:09 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:09:20 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:11:08 - app - INFO - Shutting down application...
2025-07-06 01:11:08 - app.services.cache - INFO - Redis connection closed
2025-07-06 01:11:11 - app - INFO - Logging configured successfully
2025-07-06 01:11:11 - app - INFO - Starting application...
2025-07-06 01:11:11 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 01:11:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:11:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:11:30 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:11:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:12:13 - app - INFO - Shutting down application...
2025-07-06 01:12:13 - app.services.cache - INFO - Redis connection closed
2025-07-06 01:12:15 - app - INFO - Logging configured successfully
2025-07-06 01:12:15 - app - INFO - Starting application...
2025-07-06 01:12:15 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 01:12:22 - app - INFO - Shutting down application...
2025-07-06 01:12:22 - app.services.cache - INFO - Redis connection closed
2025-07-06 01:12:24 - app - INFO - Logging configured successfully
2025-07-06 01:12:24 - app - INFO - Starting application...
2025-07-06 01:12:24 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 01:12:28 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:12:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:13:15 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:13:16 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:13:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:13:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:13:38 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:13:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:13:59 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:14:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:14:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:14:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:14:20 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:14:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:14:39 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:14:46 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:15:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 01:15:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 01:16:23 - app - INFO - Shutting down application...
2025-07-06 01:16:23 - app.services.cache - INFO - Redis connection closed
2025-07-06 13:16:15 - app - INFO - Logging configured successfully
2025-07-06 13:16:15 - app - INFO - Starting application...
2025-07-06 13:16:15 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 13:16:30 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 13:16:30 - app.services.agent_execution_service - ERROR - Request error calling AI service: All connection attempts failed
2025-07-06 13:16:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 13:16:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 13:16:54 - app.services.agent_execution_service - ERROR - Request error calling AI service: All connection attempts failed
2025-07-06 13:16:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 13:18:05 - app - INFO - Shutting down application...
2025-07-06 13:18:05 - app.services.cache - INFO - Redis connection closed
2025-07-06 13:18:07 - app - INFO - Logging configured successfully
2025-07-06 13:18:07 - app - INFO - Starting application...
2025-07-06 13:18:07 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 13:18:27 - app - INFO - Shutting down application...
2025-07-06 13:18:27 - app.services.cache - INFO - Redis connection closed
2025-07-06 13:18:29 - app - INFO - Logging configured successfully
2025-07-06 13:18:29 - app - INFO - Starting application...
2025-07-06 13:18:29 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 13:19:04 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 13:19:04 - app.services.agent_execution_service - ERROR - Request error calling AI service: All connection attempts failed
2025-07-06 13:19:04 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 13:19:51 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 13:20:07 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 13:22:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-06 13:22:14 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 13:22:14 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 13:22:14 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 13:22:14 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 13:22:15 - app.services.llm_service - ERROR - HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.llm_service - ERROR - Error calling Ollama async: HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.rag_service - INFO - Detected embedding dimension: 384
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 13:22:15 - app.services.rag_service - WARNING - Collection dimension mismatch: expected 384, got 1536. Recreating...
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - Recreating existing collection: documents
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - Created collection documents with 384D vectors
2025-07-06 13:22:15 - app.services.rag_service - INFO - Created collection documents with dimension 384
2025-07-06 13:22:15 - app.services.rag_service - INFO - Starting document ingestion for IAF _ After Payment Preview.pdf
2025-07-06 13:22:15 - app.services.rag_service - INFO - Extracted text length: 3176
2025-07-06 13:22:15 - app.services.rag_service - INFO - Split text into 3 chunks with overlap
2025-07-06 13:22:15 - app.services.rag_service - INFO - Created 3 chunks
2025-07-06 13:22:15 - app.services.rag_service - INFO - Generating embeddings...
2025-07-06 13:22:15 - app.services.llm_service - ERROR - HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.llm_service - ERROR - Error calling Ollama async: HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.rag_service - WARNING - Empty embedding for text: INDIAN AIR FORCE PEOPLE FIRST MISSION ALWAYS Appli...
2025-07-06 13:22:15 - app.services.llm_service - ERROR - HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.llm_service - ERROR - Error calling Ollama async: HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.rag_service - WARNING - Empty embedding for text: roof need to be carried for all stages of examinat...
2025-07-06 13:22:15 - app.services.llm_service - ERROR - HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.llm_service - ERROR - Error calling Ollama async: HTTP 500: {"error":"this model does not support embeddings"}
2025-07-06 13:22:15 - app.services.rag_service - WARNING - Empty embedding for text: Wing 'C' Certificate? No Have you appeared in SSB ...
2025-07-06 13:22:15 - app.services.rag_service - INFO - Generated 3 embeddings
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - Upserting 3 points in batches of 100
2025-07-06 13:22:15 - app.utils.qdrant_async - INFO - Successfully upserted 3/3 points to documents
2025-07-06 13:22:15 - app.services.rag_service - INFO - Successfully ingested document IAF _ After Payment Preview.pdf with 3 chunks
2025-07-06 13:22:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-06 13:22:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 13:22:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 13:54:31 - app - INFO - Shutting down application...
2025-07-06 13:54:31 - app.services.cache - INFO - Redis connection closed
2025-07-06 13:54:33 - app - INFO - Logging configured successfully
2025-07-06 13:54:33 - app - INFO - Starting application...
2025-07-06 13:54:33 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 13:59:03 - app - INFO - Shutting down application...
2025-07-06 13:59:03 - app.services.cache - INFO - Redis connection closed
2025-07-06 13:59:05 - app - INFO - Logging configured successfully
2025-07-06 13:59:05 - app - INFO - Starting application...
2025-07-06 13:59:05 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 13:59:55 - app - INFO - Shutting down application...
2025-07-06 13:59:55 - app.services.cache - INFO - Redis connection closed
2025-07-06 13:59:58 - app - INFO - Logging configured successfully
2025-07-06 13:59:58 - app - INFO - Starting application...
2025-07-06 13:59:58 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:00:32 - app - INFO - Shutting down application...
2025-07-06 14:00:32 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:00:35 - app - INFO - Logging configured successfully
2025-07-06 14:00:35 - app - INFO - Starting application...
2025-07-06 14:00:35 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:01:43 - app - INFO - Shutting down application...
2025-07-06 14:01:43 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:01:46 - app - INFO - Logging configured successfully
2025-07-06 14:01:46 - app - INFO - Starting application...
2025-07-06 14:01:46 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:02:27 - app - INFO - Shutting down application...
2025-07-06 14:02:27 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:02:43 - app - INFO - Logging configured successfully
2025-07-06 14:02:43 - app - INFO - Starting application...
2025-07-06 14:02:43 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:03:06 - app - INFO - Shutting down application...
2025-07-06 14:03:06 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:03:08 - app - INFO - Logging configured successfully
2025-07-06 14:03:08 - app - INFO - Starting application...
2025-07-06 14:03:08 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:03:09 - app - INFO - Shutting down application...
2025-07-06 14:03:09 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:04:39 - app - INFO - Logging configured successfully
2025-07-06 14:04:39 - app - INFO - Starting application...
2025-07-06 14:04:39 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:10:10 - app - INFO - Shutting down application...
2025-07-06 14:10:10 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:20:41 - app - INFO - Logging configured successfully
2025-07-06 14:20:41 - app - INFO - Starting application...
2025-07-06 14:20:41 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:20:46 - app - INFO - Shutting down application...
2025-07-06 14:20:46 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:42:16 - app - INFO - Logging configured successfully
2025-07-06 14:42:16 - app - INFO - Starting application...
2025-07-06 14:42:16 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:42:31 - app - INFO - Shutting down application...
2025-07-06 14:42:31 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:42:33 - app - INFO - Logging configured successfully
2025-07-06 14:42:33 - app - INFO - Starting application...
2025-07-06 14:42:33 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:42:57 - app - INFO - Shutting down application...
2025-07-06 14:42:57 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:42:59 - app - INFO - Logging configured successfully
2025-07-06 14:42:59 - app - INFO - Starting application...
2025-07-06 14:42:59 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:43:10 - app - INFO - Shutting down application...
2025-07-06 14:43:10 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:43:12 - app - INFO - Logging configured successfully
2025-07-06 14:43:12 - app - INFO - Starting application...
2025-07-06 14:43:12 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:59:01 - app - INFO - Shutting down application...
2025-07-06 14:59:01 - app.services.cache - INFO - Redis connection closed
2025-07-06 14:59:03 - app - INFO - Logging configured successfully
2025-07-06 14:59:03 - app - INFO - Starting application...
2025-07-06 14:59:03 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 14:59:32 - app - INFO - Shutting down application...
2025-07-06 14:59:32 - app.services.cache - INFO - Redis connection closed
2025-07-06 15:07:31 - app - INFO - Logging configured successfully
2025-07-06 15:07:31 - app - INFO - Starting application...
2025-07-06 15:07:31 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 15:08:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 15:08:11 - app.middleware.logging_middleware - ERROR - Request failed: POST http://localhost:8000/api/v1/rag/query - Error: name 'OllamaEmbeddingFunction' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 15, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 139, in __init__
    self.embedding_fn = OllamaEmbeddingFunction(self.ollama)
                        ^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'OllamaEmbeddingFunction' is not defined
2025-07-06 15:10:18 - app - INFO - Shutting down application...
2025-07-06 15:10:18 - app.services.cache - INFO - Redis connection closed
2025-07-06 15:10:21 - app - INFO - Logging configured successfully
2025-07-06 15:10:21 - app - INFO - Starting application...
2025-07-06 15:10:21 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 15:10:21 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 15:10:21 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 15:10:21 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 15:10:21 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 15:10:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:10:22 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-06 15:10:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:10:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:10:22 - app.services.rag_service - WARNING - Collection dimension mismatch: expected 1536, got 384. Recreating...
2025-07-06 15:10:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:10:22 - app.utils.qdrant_async - INFO - Recreating existing collection: documents
2025-07-06 15:10:23 - app.utils.qdrant_async - INFO - Created collection documents with 1536D vectors
2025-07-06 15:10:23 - app.services.rag_service - INFO - Created collection documents with dimension 1536
2025-07-06 15:10:23 - app.services.rag_service - INFO - Processing query: AI safety guidelines
2025-07-06 15:10:23 - app.services.rag_service - INFO - Generating query embedding...
2025-07-06 15:10:23 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-07-06 15:10:23 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:10:23 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 15:12:06 - app - INFO - Shutting down application...
2025-07-06 15:12:06 - app.services.cache - INFO - Redis connection closed
2025-07-06 15:12:08 - app - INFO - Logging configured successfully
2025-07-06 15:12:08 - app - INFO - Starting application...
2025-07-06 15:12:08 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 15:12:15 - app - INFO - Shutting down application...
2025-07-06 15:12:15 - app.services.cache - INFO - Redis connection closed
2025-07-06 15:12:17 - app - INFO - Logging configured successfully
2025-07-06 15:12:17 - app - INFO - Starting application...
2025-07-06 15:12:17 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 15:12:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 15:12:31 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 15:12:31 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 15:12:31 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 15:12:31 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:12:32 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-06 15:12:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:12:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:12:32 - app.services.rag_service - INFO - Collection documents already exists with correct dimensions
2025-07-06 15:12:32 - app.services.rag_service - INFO - Processing query: AI safety guidelines
2025-07-06 15:12:32 - app.services.rag_service - INFO - Generating query embedding...
2025-07-06 15:12:32 - app.services.rag_service - INFO - Query embedding dimension: 1536
2025-07-06 15:12:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 15:12:32 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:11:07 - app - INFO - Shutting down application...
2025-07-06 16:11:07 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:11:12 - app - INFO - Logging configured successfully
2025-07-06 16:11:12 - app - INFO - Starting application...
2025-07-06 16:11:12 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:11:49 - app - INFO - Shutting down application...
2025-07-06 16:11:49 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:11:53 - app - INFO - Logging configured successfully
2025-07-06 16:11:53 - app - INFO - Starting application...
2025-07-06 16:11:53 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:12:54 - app - INFO - Shutting down application...
2025-07-06 16:12:54 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:12:58 - app - INFO - Logging configured successfully
2025-07-06 16:12:58 - app - INFO - Starting application...
2025-07-06 16:12:58 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:13:47 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:13:47 - app.services.rag_service - ERROR - Failed to initialize cross-encoder: 'Settings' object has no attribute 'RERANKING_MODEL'
2025-07-06 16:13:47 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 16:13:47 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 16:13:47 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 16:13:47 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:13:47 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-06 16:13:47 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:13:47 - app.services.rag_service - INFO - TF-IDF vectorizer trained successfully
2025-07-06 16:13:47 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:13:47 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:13:47 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:13:47 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:13:47 - app.services.rag_service - INFO - Rewritten query: AI safety guidelines
2025-07-06 16:13:47 - app.services.rag_service - ERROR - RAG query failed: 'Settings' object has no attribute 'QUERY_EXPANSION_ENABLED'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 493, in query
    processed_query = await self._process_query(query, rewrite_query)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 529, in _process_query
    if settings.QUERY_EXPANSION_ENABLED:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'QUERY_EXPANSION_ENABLED'
2025-07-06 16:13:47 - app.routers.rag - ERROR - Query failed: 'Settings' object has no attribute 'QUERY_EXPANSION_ENABLED'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 96, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 493, in query
    processed_query = await self._process_query(query, rewrite_query)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 529, in _process_query
    if settings.QUERY_EXPANSION_ENABLED:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'QUERY_EXPANSION_ENABLED'
2025-07-06 16:13:47 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-07-06 16:14:38 - app - INFO - Shutting down application...
2025-07-06 16:14:38 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:14:42 - app - INFO - Logging configured successfully
2025-07-06 16:14:42 - app - INFO - Starting application...
2025-07-06 16:14:42 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:14:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:15:15 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:15:15 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 16:15:15 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 16:15:15 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 16:15:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:15:15 - app.services.rag_service - INFO - Detected embedding dimension: 1536
2025-07-06 16:15:15 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:15:15 - app.services.rag_service - INFO - TF-IDF vectorizer trained successfully
2025-07-06 16:15:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:15:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:15:15 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:15:15 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:15:15 - app.services.rag_service - INFO - Rewritten query: AI safety guidelines
2025-07-06 16:15:15 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:15:16 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:15:16 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:15:16 - app.utils.qdrant_async - ERROR - Search failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 335, in search
    results = await loop.run_in_executor(self.executor, _search)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 324, in _search
    results = client.search(
              ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 376, in search
    return self._client.search(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 523, in search
    search_result = self.http.search_api.search_points(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/search_api.py", line 936, in search_points
    return self._build_for_search_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/search_api.py", line 487, in _build_for_search_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'
2025-07-06 16:15:16 - app.services.rag_service - ERROR - RAG query failed: Search operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 335, in search
    results = await loop.run_in_executor(self.executor, _search)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 324, in _search
    results = client.search(
              ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 376, in search
    return self._client.search(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 523, in search
    search_result = self.http.search_api.search_points(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/search_api.py", line 936, in search_points
    return self._build_for_search_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/search_api.py", line 487, in _build_for_search_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 496, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 571, in _execute_search
    sparse_results = await self.client.search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 345, in search
    raise QdrantOperationError(f"Search operation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Search operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'
2025-07-06 16:15:16 - app.routers.rag - ERROR - Query failed: Search operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 335, in search
    results = await loop.run_in_executor(self.executor, _search)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 324, in _search
    results = client.search(
              ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_client.py", line 376, in search
    return self._client.search(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/qdrant_remote.py", line 523, in search
    search_result = self.http.search_api.search_points(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/search_api.py", line 936, in search_points
    return self._build_for_search_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api/search_api.py", line 487, in _build_for_search_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 95, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/qdrant_client/http/api_client.py", line 130, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 96, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 496, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 571, in _execute_search
    sparse_results = await self.client.search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 345, in search
    raise QdrantOperationError(f"Search operation failed: {str(e)}")
app.utils.qdrant_async.QdrantOperationError: Search operation failed: Unexpected Response: 400 (Bad Request)
Raw response content:
b'{"status":{"error":"Wrong input: Vector dimension error: expected dim: 1536, got 41"},"time":0.000092958}'
2025-07-06 16:15:16 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-07-06 16:18:55 - app - INFO - Shutting down application...
2025-07-06 16:18:55 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:18:59 - app - INFO - Logging configured successfully
2025-07-06 16:18:59 - app - INFO - Starting application...
2025-07-06 16:18:59 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:20:58 - app - INFO - Shutting down application...
2025-07-06 16:20:58 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:21:02 - app - INFO - Logging configured successfully
2025-07-06 16:21:02 - app - INFO - Starting application...
2025-07-06 16:21:02 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:22:35 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:22:35 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/query - Error: 'HybridRetriever' object has no attribute '_initialize_components'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 213, in __init__
    self.hybrid_retriever = HybridRetriever(self.ollama)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in __init__
    self._initialize_components()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HybridRetriever' object has no attribute '_initialize_components'
2025-07-06 16:22:37 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:22:37 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/query - Error: 'HybridRetriever' object has no attribute '_initialize_components'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 213, in __init__
    self.hybrid_retriever = HybridRetriever(self.ollama)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in __init__
    self._initialize_components()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HybridRetriever' object has no attribute '_initialize_components'
2025-07-06 16:22:46 - app - INFO - Shutting down application...
2025-07-06 16:22:46 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:22:51 - app - INFO - Logging configured successfully
2025-07-06 16:22:51 - app - INFO - Starting application...
2025-07-06 16:22:51 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:22:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:22:54 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/rag/query - Error: 'HybridRetriever' object has no attribute '_initialize_components'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 263, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 586, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 213, in __init__
    self.hybrid_retriever = HybridRetriever(self.ollama)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 122, in __init__
    self._initialize_components()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HybridRetriever' object has no attribute '_initialize_components'
2025-07-06 16:27:41 - app - INFO - Shutting down application...
2025-07-06 16:27:41 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:27:45 - app - INFO - Logging configured successfully
2025-07-06 16:27:45 - app - INFO - Starting application...
2025-07-06 16:27:45 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:27:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:27:51 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:27:51 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 16:27:51 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 16:27:51 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 16:27:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:27:52 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:27:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:27:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:27:52 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:27:52 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:27:52 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:27:52 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:27:52 - app.services.rag_service - INFO - Rewritten query: AI safety guidelines
2025-07-06 16:27:52 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:27:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:27:53 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:27:53 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:27:53 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:32:45 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:32:49 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:32:49 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:32:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:32:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:32:49 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:32:49 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:32:49 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:32:49 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:32:49 - app.services.rag_service - INFO - Rewritten query: offer letter
2025-07-06 16:32:49 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:32:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:32:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:32:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:32:49 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:33:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-06 16:33:15 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:33:15 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:33:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:15 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:33:15 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:33:15 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:33:15 - app.services.rag_service - INFO - Starting document ingestion for AI_Overview.pdf
2025-07-06 16:33:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:15 - app.utils.qdrant_async - INFO - Upserting 1 points in batches of 100
2025-07-06 16:33:15 - app.utils.qdrant_async - INFO - Successfully upserted 1/1 points to documents
2025-07-06 16:33:15 - app.services.rag_service - INFO - Successfully ingested document AI_Overview.pdf with 1 chunks
2025-07-06 16:33:15 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-06 16:33:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-06 16:33:29 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:33:29 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:33:29 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:29 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:29 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:33:29 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:33:29 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:33:29 - app.services.rag_service - INFO - Starting document ingestion for DeepLearning_Arxiv.pdf
2025-07-06 16:33:29 - app.services.rag_service - INFO - Split text into 4 chunks with overlap
2025-07-06 16:33:30 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:30 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:30 - app.utils.qdrant_async - INFO - Upserting 4 points in batches of 100
2025-07-06 16:33:30 - app.utils.qdrant_async - INFO - Successfully upserted 4/4 points to documents
2025-07-06 16:33:30 - app.services.rag_service - INFO - Successfully ingested document DeepLearning_Arxiv.pdf with 4 chunks
2025-07-06 16:33:30 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-06 16:33:36 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/upload
2025-07-06 16:33:39 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:33:39 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:33:39 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:39 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:39 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:33:39 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:33:39 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:33:39 - app.services.rag_service - INFO - Starting document ingestion for ML_Research_2021.pdf
2025-07-06 16:33:39 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:39 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:39 - app.utils.qdrant_async - INFO - Upserting 1 points in batches of 100
2025-07-06 16:33:39 - app.utils.qdrant_async - INFO - Successfully upserted 1/1 points to documents
2025-07-06 16:33:39 - app.services.rag_service - INFO - Successfully ingested document ML_Research_2021.pdf with 1 chunks
2025-07-06 16:33:39 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/upload - Status: 201
2025-07-06 16:33:47 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/rag/documents
2025-07-06 16:33:51 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:33:51 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:33:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:51 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:33:51 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:33:51 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:33:51 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:33:51 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/rag/documents - Status: 200
2025-07-06 16:34:31 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:34:34 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:34:34 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 401
2025-07-06 16:34:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:34:46 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:34:46 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:34:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:34:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:34:46 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:34:46 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:34:46 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:34:46 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:34:46 - app.services.rag_service - INFO - Rewritten query: Is this resume is job ready??
2025-07-06 16:34:46 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:34:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:34:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:34:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:34:48 - app.services.llm_service - INFO - Found 2 models
2025-07-06 16:34:48 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-06 16:34:48 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-06 16:34:57 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:35:15 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:35:18 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:35:18 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:35:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:18 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:35:18 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:35:18 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:35:18 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:35:18 - app.services.rag_service - INFO - Rewritten query: AI safety
2025-07-06 16:35:18 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:35:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:19 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:19 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:35:46 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:35:49 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:35:49 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:35:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:49 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:35:49 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:35:49 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:35:49 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:35:49 - app.services.rag_service - INFO - Rewritten query: What is AI?
2025-07-06 16:35:49 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:35:49 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:50 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:50 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:35:50 - app.services.llm_service - INFO - Found 2 models
2025-07-06 16:35:50 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-06 16:35:50 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-06 16:36:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:36:51 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:36:55 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:36:55 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:36:55 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:36:55 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:36:55 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:36:55 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:36:55 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:36:55 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:36:55 - app.services.rag_service - INFO - Rewritten query: machine learning
2025-07-06 16:36:55 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:36:55 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:36:55 - app.services.rag_service - ERROR - RAG query failed: 3 validation errors for MatchValue
value.bool
  Input should be a valid boolean [type=bool_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
value.int
  Input should be a valid integer [type=int_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
value.str
  Input should be a valid string [type=string_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 550, in create_user_filter
    match=MatchValue(value=value)
          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 3 validation errors for MatchValue
value.bool
  Input should be a valid boolean [type=bool_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
value.int
  Input should be a valid integer [type=int_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
value.str
  Input should be a valid string [type=string_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-06 16:36:55 - app.routers.rag - ERROR - Query failed: 3 validation errors for MatchValue
value.bool
  Input should be a valid boolean [type=bool_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
value.int
  Input should be a valid integer [type=int_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
value.str
  Input should be a valid string [type=string_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 96, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 550, in create_user_filter
    match=MatchValue(value=value)
          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 3 validation errors for MatchValue
value.bool
  Input should be a valid boolean [type=bool_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
value.int
  Input should be a valid integer [type=int_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
value.str
  Input should be a valid string [type=string_type, input_value={'gte': 2020}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-06 16:36:55 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-07-06 16:41:24 - app - INFO - Shutting down application...
2025-07-06 16:41:24 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:41:29 - app - INFO - Logging configured successfully
2025-07-06 16:41:29 - app - INFO - Starting application...
2025-07-06 16:41:29 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:41:57 - app - INFO - Shutting down application...
2025-07-06 16:41:57 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:43:06 - app - INFO - Logging configured successfully
2025-07-06 16:43:06 - app - INFO - Starting application...
2025-07-06 16:43:06 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:43:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:43:20 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:43:20 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 16:43:21 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 16:43:21 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 16:43:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:43:22 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:43:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:43:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:43:22 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:43:22 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:43:22 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:43:22 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:43:22 - app.services.rag_service - INFO - Rewritten query: machine learning
2025-07-06 16:43:22 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:43:22 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:43:22 - app.services.rag_service - ERROR - RAG query failed: name 'RangeUnion' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 569, in create_user_filter
    range=RangeUnion(ranges=range_conditions)
          ^^^^^^^^^^
NameError: name 'RangeUnion' is not defined
2025-07-06 16:43:22 - app.routers.rag - ERROR - Query failed: name 'RangeUnion' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 96, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 569, in create_user_filter
    range=RangeUnion(ranges=range_conditions)
          ^^^^^^^^^^
NameError: name 'RangeUnion' is not defined
2025-07-06 16:43:22 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-07-06 16:43:56 - app - INFO - Shutting down application...
2025-07-06 16:43:56 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:44:14 - app - INFO - Logging configured successfully
2025-07-06 16:44:14 - app - INFO - Starting application...
2025-07-06 16:44:14 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:44:14 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:44:18 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:44:18 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:44:18 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 16:44:18 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 16:44:18 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 16:44:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:44:18 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:44:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:44:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:44:18 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:44:18 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:44:18 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:44:18 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:44:18 - app.services.rag_service - INFO - Rewritten query: machine learning
2025-07-06 16:44:18 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:44:18 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:44:18 - app.services.rag_service - ERROR - RAG query failed: name 'RangeUnion' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 569, in create_user_filter
    range=RangeUnion(ranges=range_conditions)
          ^^^^^^^^^^
NameError: name 'RangeUnion' is not defined
2025-07-06 16:44:18 - app.routers.rag - ERROR - Query failed: name 'RangeUnion' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 96, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 569, in create_user_filter
    range=RangeUnion(ranges=range_conditions)
          ^^^^^^^^^^
NameError: name 'RangeUnion' is not defined
2025-07-06 16:44:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-07-06 16:44:21 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:44:21 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:44:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:44:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:44:21 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:44:21 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:44:21 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:44:21 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:44:21 - app.services.rag_service - INFO - Rewritten query: machine learning
2025-07-06 16:44:21 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:44:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:44:21 - app.services.rag_service - ERROR - RAG query failed: name 'RangeUnion' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 569, in create_user_filter
    range=RangeUnion(ranges=range_conditions)
          ^^^^^^^^^^
NameError: name 'RangeUnion' is not defined
2025-07-06 16:44:21 - app.routers.rag - ERROR - Query failed: name 'RangeUnion' is not defined
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 96, in query_documents
    results = await rag_service.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 554, in query
    search_results = await self._execute_search(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/services/rag_service.py", line 628, in _execute_search
    query_filter=create_user_filter(user_id, filters),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/utils/qdrant_async.py", line 569, in create_user_filter
    range=RangeUnion(ranges=range_conditions)
          ^^^^^^^^^^
NameError: name 'RangeUnion' is not defined
2025-07-06 16:44:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-07-06 16:45:13 - app - INFO - Shutting down application...
2025-07-06 16:45:13 - app.services.cache - INFO - Redis connection closed
2025-07-06 16:45:17 - app - INFO - Logging configured successfully
2025-07-06 16:45:17 - app - INFO - Starting application...
2025-07-06 16:45:17 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 16:45:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:45:21 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - AsyncQdrantClient initialized with URL: http://localhost:6333/
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - Qdrant connection verified - 1 collections found
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - Qdrant connection verified successfully
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:21 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:21 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:45:21 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:45:21 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:45:21 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:45:21 - app.services.rag_service - INFO - Rewritten query: machine learning
2025-07-06 16:45:21 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:21 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:21 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:45:29 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:45:32 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:45:32 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:45:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:32 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:32 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:45:33 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:45:33 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:45:33 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:45:33 - app.services.rag_service - INFO - Rewritten query: What is AI?
2025-07-06 16:45:33 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:45:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:33 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:45:33 - app.services.llm_service - INFO - Found 2 models
2025-07-06 16:45:33 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-06 16:45:33 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-06 16:45:42 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:46:48 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:46:51 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:46:52 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:46:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:46:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:46:52 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:46:52 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:46:52 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:46:52 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:46:52 - app.services.rag_service - INFO - Rewritten query: machine learning applications in healthcare
2025-07-06 16:46:52 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:46:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:46:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:46:52 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:46:52 - app.services.llm_service - INFO - Found 2 models
2025-07-06 16:46:52 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-06 16:46:52 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-06 16:47:01 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:47:42 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:47:46 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:47:46 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:47:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:47:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:47:46 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:47:46 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:47:46 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:47:46 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:47:46 - app.services.rag_service - INFO - Rewritten query: machine learning applications in healthcare
2025-07-06 16:47:46 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:47:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:47:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:47:46 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:47:46 - app.services.llm_service - INFO - Found 2 models
2025-07-06 16:47:46 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-06 16:47:46 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-06 16:47:56 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 16:48:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 16:48:18 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 16:51:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/ae499fad-e429-4e1b-857e-dece9e71edb7
2025-07-06 16:51:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/ae499fad-e429-4e1b-857e-dece9e71edb7 - Status: 404
2025-07-06 16:51:32 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 16:51:32 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-07-06 16:51:56 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 16:52:03 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 16:52:43 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 16:52:48 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 16:53:16 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 16:53:20 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 16:58:11 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 16:58:14 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 16:58:15 - app.services.rag_service - INFO - Verified embedding dimension: 1536
2025-07-06 16:58:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:58:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:58:15 - app.services.rag_service - INFO - Training TF-IDF on 4 documents...
2025-07-06 16:58:15 - app.services.rag_service - INFO - TF-IDF vectorizer trained with 41 features
2025-07-06 16:58:15 - app.services.rag_service - INFO - RAGService initialized successfully
2025-07-06 16:58:15 - app.services.rag_service - ERROR - Query rewriting failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:58:15 - app.services.rag_service - INFO - Rewritten query: give my history
2025-07-06 16:58:15 - app.services.rag_service - ERROR - Query expansion failed: OllamaService.chat() got an unexpected keyword argument 'temperature'
2025-07-06 16:58:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:58:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:58:15 - app.utils.qdrant_async - INFO - AsyncQdrant client initialized and verified
2025-07-06 16:58:15 - app.services.llm_service - INFO - Found 2 models
2025-07-06 16:58:15 - app.services.llm_service - INFO - Model deepseek-r1:1.5b availability: True
2025-07-06 16:58:15 - app.services.llm_service - INFO - Attempting async chat request with model: deepseek-r1:1.5b
2025-07-06 16:58:23 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 200
2025-07-06 17:50:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 17:50:43 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/execute/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 200
2025-07-06 18:21:55 - app - INFO - Shutting down application...
2025-07-06 18:21:55 - app.services.cache - INFO - Redis connection closed
2025-07-06 18:22:56 - app - INFO - Logging configured successfully
2025-07-06 18:22:56 - app - INFO - Starting application...
2025-07-06 18:22:56 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 18:23:39 - app - INFO - Shutting down application...
2025-07-06 18:23:39 - app.services.cache - INFO - Redis connection closed
2025-07-06 19:33:16 - app - INFO - Logging configured successfully
2025-07-06 19:33:16 - app - INFO - Starting application...
2025-07-06 19:33:16 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 19:33:37 - app - INFO - Shutting down application...
2025-07-06 19:33:37 - app.services.cache - INFO - Redis connection closed
2025-07-06 19:47:15 - app - INFO - Logging configured successfully
2025-07-06 19:47:15 - app - INFO - Starting application...
2025-07-06 19:47:15 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 19:49:58 - app - INFO - Shutting down application...
2025-07-06 19:49:58 - app.services.cache - INFO - Redis connection closed
2025-07-06 19:50:02 - app - INFO - Logging configured successfully
2025-07-06 19:50:02 - app - INFO - Starting application...
2025-07-06 19:50:02 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 19:50:33 - app - INFO - Shutting down application...
2025-07-06 19:50:33 - app.services.cache - INFO - Redis connection closed
2025-07-06 19:50:36 - app - INFO - Logging configured successfully
2025-07-06 19:50:36 - app - INFO - Starting application...
2025-07-06 19:50:36 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 19:50:42 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 19:50:42 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: Could not determine join condition between parent/child tables on relationship DBAgent.documents - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2419, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/selectable.py", line 1358, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'agents' and 'documents'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/agents.py", line 42, in list_agents
    result = await db.execute(
             ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 455, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 192, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 704, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 316, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 1426, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 867, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 912, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 143, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 4590, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 1091, in create_for_statement
    _QueryEntity.to_compile_state(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 2537, in to_compile_state
    _MapperEntity(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 2617, in __init__
    entity._post_inspect
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4240, in _do_configure_registries
    mapper._post_configure_properties()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2403, in _post_configure_properties
    prop.init()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/interfaces.py", line 579, in init
    self.do_init()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1637, in do_init
    self._setup_join_conditions()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1882, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2306, in __init__
    self._determine_joins()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2440, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship DBAgent.documents - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-06 19:57:16 - app - INFO - Shutting down application...
2025-07-06 19:57:16 - app.services.cache - INFO - Redis connection closed
2025-07-06 19:59:13 - app - INFO - Logging configured successfully
2025-07-06 19:59:13 - app - INFO - Starting application...
2025-07-06 19:59:13 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 20:00:09 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:00:09 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: Could not determine join condition between parent/child tables on relationship DBAgent.documents - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2419, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/selectable.py", line 1358, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'agents' and 'documents'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/agents.py", line 42, in list_agents
    result = await db.execute(
             ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 455, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 192, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 704, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 316, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 1426, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 867, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 912, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 143, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/compiler.py", line 4590, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 1091, in create_for_statement
    _QueryEntity.to_compile_state(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 2537, in to_compile_state
    _MapperEntity(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 2617, in __init__
    entity._post_inspect
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4240, in _do_configure_registries
    mapper._post_configure_properties()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2403, in _post_configure_properties
    prop.init()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/interfaces.py", line 579, in init
    self.do_init()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1637, in do_init
    self._setup_join_conditions()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1882, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2306, in __init__
    self._determine_joins()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2440, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship DBAgent.documents - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-06 20:00:12 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/token
2025-07-06 20:00:12 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/token - Status: 200
2025-07-06 20:00:17 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-06 20:00:17 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 401
2025-07-06 20:00:25 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-06 20:00:25 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/agents - Error: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[DBAgent(agents)]'. Original exception was: Could not determine join condition between parent/child tables on relationship DBAgent.documents - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/agents.py", line 22, in create_agent
    db_agent = DBAgent(
               ^^^^^^^^
  File "<string>", line 4, in __init__
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 561, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/event/attr.py", line 487, in __call__
    fn(*args, **kw)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4391, in _event_on_init
    instrumenting_mapper._check_configure()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4236, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[DBAgent(agents)]'. Original exception was: Could not determine join condition between parent/child tables on relationship DBAgent.documents - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-06 20:01:34 - app - INFO - Shutting down application...
2025-07-06 20:01:34 - app.services.cache - INFO - Redis connection closed
2025-07-06 20:01:38 - app - INFO - Logging configured successfully
2025-07-06 20:01:38 - app - INFO - Starting application...
2025-07-06 20:01:38 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 20:01:41 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-06 20:01:41 - app.middleware.logging_middleware - ERROR - Unexpected error: POST http://localhost:8000/api/v1/agents - Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "agent_metadata" of relation "agents" does not exist
[SQL: INSERT INTO llm.agents (id, owner_id, name, description, model, system_prompt, is_public, tools, agent_metadata, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::BOOLEAN, $8::VARCHAR[], $9::JSONB, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE)]
[parameters: ('c20b03ab-27b8-4fb7-bd10-b5f0ab4903b3', 'nodejs_service', 'HealthCare Assistant', 'Helps with medical queries', 'deepseek-r1:1.5b', 'You are a helpful HealthCare AI assistant that provides accurate information about health conditions, fitness, and treatment options. Always verify information with reputable sources before responding.', False, ['web_search', 'knowledge_base'], '{}', datetime.datetime(2025, 7, 6, 14, 31, 41, 476878), datetime.datetime(2025, 7, 6, 14, 31, 41, 476882))]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 533, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 784, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column "agent_metadata" of relation "agents" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column "agent_metadata" of relation "agents" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/agents.py", line 33, in create_agent
    await db.commit()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 192, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4312, in flush
    self._flush(objects)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4447, in _flush
    with util.safe_reraise():
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4408, in _flush
    flush_context.execute()
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "agent_metadata" of relation "agents" does not exist
[SQL: INSERT INTO llm.agents (id, owner_id, name, description, model, system_prompt, is_public, tools, agent_metadata, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::BOOLEAN, $8::VARCHAR[], $9::JSONB, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE)]
[parameters: ('c20b03ab-27b8-4fb7-bd10-b5f0ab4903b3', 'nodejs_service', 'HealthCare Assistant', 'Helps with medical queries', 'deepseek-r1:1.5b', 'You are a helpful HealthCare AI assistant that provides accurate information about health conditions, fitness, and treatment options. Always verify information with reputable sources before responding.', False, ['web_search', 'knowledge_base'], '{}', datetime.datetime(2025, 7, 6, 14, 31, 41, 476878), datetime.datetime(2025, 7, 6, 14, 31, 41, 476882))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-06 20:02:12 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:02:12 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column agents.agent_metadata does not exist
[SQL: SELECT llm.agents.id, llm.agents.owner_id, llm.agents.name, llm.agents.description, llm.agents.model, llm.agents.system_prompt, llm.agents.is_public, llm.agents.tools, llm.agents.agent_metadata, llm.agents.created_at, llm.agents.updated_at 
FROM llm.agents 
WHERE llm.agents.owner_id = $1::VARCHAR]
[parameters: ('nodejs_service',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 533, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 784, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column agents.agent_metadata does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column agents.agent_metadata does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/agents.py", line 42, in list_agents
    result = await db.execute(
             ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 455, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column agents.agent_metadata does not exist
[SQL: SELECT llm.agents.id, llm.agents.owner_id, llm.agents.name, llm.agents.description, llm.agents.model, llm.agents.system_prompt, llm.agents.is_public, llm.agents.tools, llm.agents.agent_metadata, llm.agents.created_at, llm.agents.updated_at 
FROM llm.agents 
WHERE llm.agents.owner_id = $1::VARCHAR]
[parameters: ('nodejs_service',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-06 20:02:13 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:02:13 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column agents.agent_metadata does not exist
[SQL: SELECT llm.agents.id, llm.agents.owner_id, llm.agents.name, llm.agents.description, llm.agents.model, llm.agents.system_prompt, llm.agents.is_public, llm.agents.tools, llm.agents.agent_metadata, llm.agents.created_at, llm.agents.updated_at 
FROM llm.agents 
WHERE llm.agents.owner_id = $1::VARCHAR]
[parameters: ('nodejs_service',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 533, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 784, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedColumnError: column agents.agent_metadata does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedColumnError'>: column agents.agent_metadata does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/agents.py", line 42, in list_agents
    result = await db.execute(
             ^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 455, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column agents.agent_metadata does not exist
[SQL: SELECT llm.agents.id, llm.agents.owner_id, llm.agents.name, llm.agents.description, llm.agents.model, llm.agents.system_prompt, llm.agents.is_public, llm.agents.tools, llm.agents.agent_metadata, llm.agents.created_at, llm.agents.updated_at 
FROM llm.agents 
WHERE llm.agents.owner_id = $1::VARCHAR]
[parameters: ('nodejs_service',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-06 20:10:17 - app - INFO - Shutting down application...
2025-07-06 20:10:17 - app.services.cache - INFO - Redis connection closed
2025-07-06 20:10:21 - app - INFO - Logging configured successfully
2025-07-06 20:10:21 - app - INFO - Starting application...
2025-07-06 20:10:21 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 20:10:27 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:10:27 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 154, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}

2025-07-06 20:11:32 - app - INFO - Shutting down application...
2025-07-06 20:11:32 - app.services.cache - INFO - Redis connection closed
2025-07-06 20:11:36 - app - INFO - Logging configured successfully
2025-07-06 20:11:36 - app - INFO - Starting application...
2025-07-06 20:11:36 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 20:11:37 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:11:37 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 154, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}

2025-07-06 20:11:38 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:11:38 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 154, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}

2025-07-06 20:11:38 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:11:38 - app.middleware.logging_middleware - ERROR - Unexpected error: GET http://localhost:8000/api/v1/agents - Error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/middleware/logging_middleware.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/surajmishra/reactNative/llmmodel/venv/lib/python3.11/site-packages/fastapi/routing.py", line 154, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 0, 'agent_metadata'), 'msg': 'Input should be a valid dictionary', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/dict_type'}

2025-07-06 20:19:35 - app - INFO - Shutting down application...
2025-07-06 20:19:35 - app.services.cache - INFO - Redis connection closed
2025-07-06 20:23:32 - app - INFO - Logging configured successfully
2025-07-06 20:23:32 - app - INFO - Starting application...
2025-07-06 20:23:32 - app.services.cache - INFO - Connected to Redis successfully
2025-07-06 20:23:32 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:23:33 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-07-06 20:23:35 - app.middleware.logging_middleware - INFO - Incoming request: GET http://localhost:8000/api/v1/agents
2025-07-06 20:23:35 - app.middleware.logging_middleware - INFO - Request completed: GET http://localhost:8000/api/v1/agents - Status: 200
2025-07-06 20:23:54 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/agents
2025-07-06 20:23:54 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/agents - Status: 201
2025-07-06 20:24:01 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query
2025-07-06 20:24:05 - app.services.rag_service - INFO - Initialized cross-encoder: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-07-06 20:24:05 - app.routers.rag - ERROR - Query failed: RAGService.query() missing 1 required positional argument: 'agent_id'
Traceback (most recent call last):
  File "/Users/surajmishra/reactNative/llmmodel/app/routers/rag.py", line 96, in query_documents
    results = await rag_service.query(
                    ^^^^^^^^^^^^^^^^^^
TypeError: RAGService.query() missing 1 required positional argument: 'agent_id'
2025-07-06 20:24:05 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query - Status: 500
2025-07-06 20:24:35 - app.middleware.logging_middleware - INFO - Incoming request: POST http://localhost:8000/api/v1/rag/query/4196cb39-6670-45cb-80cd-b8a49caa58af
2025-07-06 20:24:35 - app.middleware.logging_middleware - INFO - Request completed: POST http://localhost:8000/api/v1/rag/query/4196cb39-6670-45cb-80cd-b8a49caa58af - Status: 404
2025-07-06 20:27:49 - app - INFO - Shutting down application...
2025-07-06 20:27:49 - app.services.cache - INFO - Redis connection closed
